{
  "{\"filename\":\"/home/monometic/app.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/monometic\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.1": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "body-parser",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "bodyParser"
              }
            ]
          },
          {
            "source": "cookie-parser",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "cookieParser"
              }
            ]
          },
          {
            "source": "debug",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "Debug"
              }
            ]
          },
          {
            "source": "express",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "express"
              }
            ]
          },
          {
            "source": "morgan",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "logger"
              }
            ]
          },
          {
            "source": "passport",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "passport"
              }
            ]
          },
          {
            "source": "./config/database",
            "imported": [],
            "specifiers": []
          },
          {
            "source": "path",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "path"
              }
            ]
          },
          {
            "source": "less-middleware",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "lessMiddleware"
              }
            ]
          },
          {
            "source": "./routes/index",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "index"
              }
            ]
          },
          {
            "source": "./custom_modules/users/routes/index",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "users"
              }
            ]
          },
          {
            "source": "./custom_modules/categories/routes/index",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "category"
              }
            ]
          },
          {
            "source": "./custom_modules/quotes/routes/index",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "quote"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/monometic/app.js",
      "filenameRelative": "/home/monometic/app.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "app.js",
      "sourceFileName": "app.js",
      "sourceRoot": "/home/monometic",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/monometic",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "app"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _bodyParser = require('body-parser');\n\nvar _bodyParser2 = _interopRequireDefault(_bodyParser);\n\nvar _cookieParser = require('cookie-parser');\n\nvar _cookieParser2 = _interopRequireDefault(_cookieParser);\n\nvar _debug = require('debug');\n\nvar _debug2 = _interopRequireDefault(_debug);\n\nvar _express = require('express');\n\nvar _express2 = _interopRequireDefault(_express);\n\nvar _morgan = require('morgan');\n\nvar _morgan2 = _interopRequireDefault(_morgan);\n\nvar _passport = require('passport');\n\nvar _passport2 = _interopRequireDefault(_passport);\n\nrequire('./config/database');\n\nvar _path = require('path');\n\nvar _path2 = _interopRequireDefault(_path);\n\nvar _lessMiddleware = require('less-middleware');\n\nvar _lessMiddleware2 = _interopRequireDefault(_lessMiddleware);\n\nvar _index = require('./routes/index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _index3 = require('./custom_modules/users/routes/index');\n\nvar _index4 = _interopRequireDefault(_index3);\n\nvar _index5 = require('./custom_modules/categories/routes/index');\n\nvar _index6 = _interopRequireDefault(_index5);\n\nvar _index7 = require('./custom_modules/quotes/routes/index');\n\nvar _index8 = _interopRequireDefault(_index7);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// import favicon from 'serve-favicon';\nvar app = (0, _express2.default)();\n\napp.use(function (req, res, next) {\n  res.header(\"Access-Control-Allow-Origin\", \"*\");\n  res.header(\"Access-Control-Allow-Headers\", \"Origin, X-Requested-With, Content-Type, Accept\");\n  res.header(\"Access-Control-Allow-Methods\", \"GET, PUT, POST, DELETE\");\n  next();\n});\n\napp.use(_bodyParser2.default.json({ limit: '5mb' }));\napp.use(_bodyParser2.default.urlencoded({ limit: '5mb' }));\n\nvar debug = (0, _debug2.default)('assignment-task:app');\n\n// view engine setup\napp.set('views', _path2.default.join(__dirname, 'views'));\napp.set('view engine', 'ejs');\n\nrequire('./config/passport')(_passport2.default);\n\n// uncomment after placing your favicon in /public\n// app.use(favicon(path.join(__dirname, 'public', 'favicon.ico')));\napp.use((0, _morgan2.default)('dev'));\napp.use(_bodyParser2.default.json());\napp.use(_bodyParser2.default.urlencoded({\n  extended: false\n}));\n\napp.use((0, _cookieParser2.default)());\napp.use((0, _lessMiddleware2.default)(_path2.default.join(__dirname, 'public')));\napp.use(_express2.default.static(_path2.default.join(__dirname, 'public')));\n\napp.use('/', _index2.default);\napp.use('/users', _index4.default);\napp.use('/category', _index6.default);\napp.use('/quote', _index8.default);\n\n// catch 404 and forward to error handler\napp.use(function (req, res, next) {\n  var err = new Error('Not Found');\n  err.status = 404;\n  next(err);\n});\n\n// error handler\n/* eslint no-unused-vars: 0 */\napp.use(function (err, req, res, next) {\n  // set locals, only providing error in development\n  res.locals.message = err.message;\n  res.locals.error = req.app.get('env') === 'development' ? err : {};\n  // render the error page\n  res.status(err.status || 500);\n  res.render('error');\n});\n\n// Handle uncaughtException\nprocess.on('uncaughtException', function (err) {\n  debug('Caught exception: %j', err);\n  process.exit(1);\n});\n\nexports.default = app;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJhcHAiLCJ1c2UiLCJyZXEiLCJyZXMiLCJuZXh0IiwiaGVhZGVyIiwianNvbiIsImxpbWl0IiwidXJsZW5jb2RlZCIsImRlYnVnIiwic2V0Iiwiam9pbiIsIl9fZGlybmFtZSIsInJlcXVpcmUiLCJleHRlbmRlZCIsInN0YXRpYyIsImVyciIsIkVycm9yIiwic3RhdHVzIiwibG9jYWxzIiwibWVzc2FnZSIsImVycm9yIiwiZ2V0IiwicmVuZGVyIiwicHJvY2VzcyIsIm9uIiwiZXhpdCJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUVBOzs7O0FBRUE7O0FBR0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7Ozs7QUFOQTtBQVFBLElBQU1BLE1BQU0sd0JBQVo7O0FBRUFBLElBQUlDLEdBQUosQ0FBUSxVQUFTQyxHQUFULEVBQWNDLEdBQWQsRUFBbUJDLElBQW5CLEVBQXlCO0FBQy9CRCxNQUFJRSxNQUFKLENBQVcsNkJBQVgsRUFBMEMsR0FBMUM7QUFDQUYsTUFBSUUsTUFBSixDQUFXLDhCQUFYLEVBQTJDLGdEQUEzQztBQUNBRixNQUFJRSxNQUFKLENBQVcsOEJBQVgsRUFBMkMsd0JBQTNDO0FBQ0FEO0FBQ0QsQ0FMRDs7QUFPQUosSUFBSUMsR0FBSixDQUFRLHFCQUFXSyxJQUFYLENBQWdCLEVBQUNDLE9BQU8sS0FBUixFQUFoQixDQUFSO0FBQ0FQLElBQUlDLEdBQUosQ0FBUSxxQkFBV08sVUFBWCxDQUFzQixFQUFDRCxPQUFPLEtBQVIsRUFBdEIsQ0FBUjs7QUFFQSxJQUFNRSxRQUFRLHFCQUFNLHFCQUFOLENBQWQ7O0FBRUE7QUFDQVQsSUFBSVUsR0FBSixDQUFRLE9BQVIsRUFBaUIsZUFBS0MsSUFBTCxDQUFVQyxTQUFWLEVBQXFCLE9BQXJCLENBQWpCO0FBQ0FaLElBQUlVLEdBQUosQ0FBUSxhQUFSLEVBQXVCLEtBQXZCOztBQUVBRyxRQUFRLG1CQUFSOztBQUVBO0FBQ0E7QUFDQWIsSUFBSUMsR0FBSixDQUFRLHNCQUFPLEtBQVAsQ0FBUjtBQUNBRCxJQUFJQyxHQUFKLENBQVEscUJBQVdLLElBQVgsRUFBUjtBQUNBTixJQUFJQyxHQUFKLENBQVEscUJBQVdPLFVBQVgsQ0FBc0I7QUFDNUJNLFlBQVU7QUFEa0IsQ0FBdEIsQ0FBUjs7QUFJQWQsSUFBSUMsR0FBSixDQUFRLDZCQUFSO0FBQ0FELElBQUlDLEdBQUosQ0FBUSw4QkFBZSxlQUFLVSxJQUFMLENBQVVDLFNBQVYsRUFBcUIsUUFBckIsQ0FBZixDQUFSO0FBQ0FaLElBQUlDLEdBQUosQ0FBUSxrQkFBUWMsTUFBUixDQUFlLGVBQUtKLElBQUwsQ0FBVUMsU0FBVixFQUFxQixRQUFyQixDQUFmLENBQVI7O0FBRUFaLElBQUlDLEdBQUosQ0FBUSxHQUFSO0FBQ0FELElBQUlDLEdBQUosQ0FBUSxRQUFSO0FBQ0FELElBQUlDLEdBQUosQ0FBUSxXQUFSO0FBQ0FELElBQUlDLEdBQUosQ0FBUSxRQUFSOztBQUVBO0FBQ0FELElBQUlDLEdBQUosQ0FBUSxVQUFDQyxHQUFELEVBQU1DLEdBQU4sRUFBV0MsSUFBWCxFQUFvQjtBQUMxQixNQUFNWSxNQUFNLElBQUlDLEtBQUosQ0FBVSxXQUFWLENBQVo7QUFDQUQsTUFBSUUsTUFBSixHQUFhLEdBQWI7QUFDQWQsT0FBS1ksR0FBTDtBQUNELENBSkQ7O0FBTUE7QUFDQTtBQUNBaEIsSUFBSUMsR0FBSixDQUFRLFVBQUNlLEdBQUQsRUFBTWQsR0FBTixFQUFXQyxHQUFYLEVBQWdCQyxJQUFoQixFQUF5QjtBQUMvQjtBQUNBRCxNQUFJZ0IsTUFBSixDQUFXQyxPQUFYLEdBQXFCSixJQUFJSSxPQUF6QjtBQUNBakIsTUFBSWdCLE1BQUosQ0FBV0UsS0FBWCxHQUFtQm5CLElBQUlGLEdBQUosQ0FBUXNCLEdBQVIsQ0FBWSxLQUFaLE1BQXVCLGFBQXZCLEdBQXVDTixHQUF2QyxHQUE2QyxFQUFoRTtBQUNBO0FBQ0FiLE1BQUllLE1BQUosQ0FBV0YsSUFBSUUsTUFBSixJQUFjLEdBQXpCO0FBQ0FmLE1BQUlvQixNQUFKLENBQVcsT0FBWDtBQUNELENBUEQ7O0FBU0E7QUFDQUMsUUFBUUMsRUFBUixDQUFXLG1CQUFYLEVBQWdDLFVBQUNULEdBQUQsRUFBUztBQUN2Q1AsUUFBTSxzQkFBTixFQUE4Qk8sR0FBOUI7QUFDQVEsVUFBUUUsSUFBUixDQUFhLENBQWI7QUFDRCxDQUhEOztrQkFLZTFCLEciLCJmaWxlIjoiYXBwLmpzIiwic291cmNlUm9vdCI6Ii9ob21lL21vbm9tZXRpYyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBib2R5UGFyc2VyIGZyb20gJ2JvZHktcGFyc2VyJztcbmltcG9ydCBjb29raWVQYXJzZXIgZnJvbSAnY29va2llLXBhcnNlcic7XG5pbXBvcnQgRGVidWcgZnJvbSAnZGVidWcnO1xuaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgbG9nZ2VyIGZyb20gJ21vcmdhbic7XG5cbmltcG9ydCBwYXNzcG9ydCBmcm9tICdwYXNzcG9ydCc7XG5cbmltcG9ydCAnLi9jb25maWcvZGF0YWJhc2UnO1xuXG4vLyBpbXBvcnQgZmF2aWNvbiBmcm9tICdzZXJ2ZS1mYXZpY29uJztcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xuaW1wb3J0IGxlc3NNaWRkbGV3YXJlIGZyb20gJ2xlc3MtbWlkZGxld2FyZSc7XG5pbXBvcnQgaW5kZXggZnJvbSAnLi9yb3V0ZXMvaW5kZXgnO1xuaW1wb3J0IHVzZXJzIGZyb20gJy4vY3VzdG9tX21vZHVsZXMvdXNlcnMvcm91dGVzL2luZGV4JztcbmltcG9ydCBjYXRlZ29yeSBmcm9tICcuL2N1c3RvbV9tb2R1bGVzL2NhdGVnb3JpZXMvcm91dGVzL2luZGV4JztcbmltcG9ydCBxdW90ZSBmcm9tICcuL2N1c3RvbV9tb2R1bGVzL3F1b3Rlcy9yb3V0ZXMvaW5kZXgnO1xuXG5jb25zdCBhcHAgPSBleHByZXNzKCk7XG5cbmFwcC51c2UoZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgcmVzLmhlYWRlcihcIkFjY2Vzcy1Db250cm9sLUFsbG93LU9yaWdpblwiLCBcIipcIik7XG4gIHJlcy5oZWFkZXIoXCJBY2Nlc3MtQ29udHJvbC1BbGxvdy1IZWFkZXJzXCIsIFwiT3JpZ2luLCBYLVJlcXVlc3RlZC1XaXRoLCBDb250ZW50LVR5cGUsIEFjY2VwdFwiKTtcbiAgcmVzLmhlYWRlcihcIkFjY2Vzcy1Db250cm9sLUFsbG93LU1ldGhvZHNcIiwgXCJHRVQsIFBVVCwgUE9TVCwgREVMRVRFXCIpO1xuICBuZXh0KCk7XG59KTtcblxuYXBwLnVzZShib2R5UGFyc2VyLmpzb24oe2xpbWl0OiAnNW1iJ30pKTtcbmFwcC51c2UoYm9keVBhcnNlci51cmxlbmNvZGVkKHtsaW1pdDogJzVtYid9KSk7XG5cbmNvbnN0IGRlYnVnID0gRGVidWcoJ2Fzc2lnbm1lbnQtdGFzazphcHAnKTtcblxuLy8gdmlldyBlbmdpbmUgc2V0dXBcbmFwcC5zZXQoJ3ZpZXdzJywgcGF0aC5qb2luKF9fZGlybmFtZSwgJ3ZpZXdzJykpO1xuYXBwLnNldCgndmlldyBlbmdpbmUnLCAnZWpzJyk7XG5cbnJlcXVpcmUoJy4vY29uZmlnL3Bhc3Nwb3J0JykocGFzc3BvcnQpO1xuXG4vLyB1bmNvbW1lbnQgYWZ0ZXIgcGxhY2luZyB5b3VyIGZhdmljb24gaW4gL3B1YmxpY1xuLy8gYXBwLnVzZShmYXZpY29uKHBhdGguam9pbihfX2Rpcm5hbWUsICdwdWJsaWMnLCAnZmF2aWNvbi5pY28nKSkpO1xuYXBwLnVzZShsb2dnZXIoJ2RldicpKTtcbmFwcC51c2UoYm9keVBhcnNlci5qc29uKCkpO1xuYXBwLnVzZShib2R5UGFyc2VyLnVybGVuY29kZWQoe1xuICBleHRlbmRlZDogZmFsc2Vcbn0pKTtcblxuYXBwLnVzZShjb29raWVQYXJzZXIoKSk7XG5hcHAudXNlKGxlc3NNaWRkbGV3YXJlKHBhdGguam9pbihfX2Rpcm5hbWUsICdwdWJsaWMnKSkpO1xuYXBwLnVzZShleHByZXNzLnN0YXRpYyhwYXRoLmpvaW4oX19kaXJuYW1lLCAncHVibGljJykpKTtcblxuYXBwLnVzZSgnLycsIGluZGV4KTtcbmFwcC51c2UoJy91c2VycycsIHVzZXJzKTtcbmFwcC51c2UoJy9jYXRlZ29yeScsIGNhdGVnb3J5KTtcbmFwcC51c2UoJy9xdW90ZScsIHF1b3RlKTtcblxuLy8gY2F0Y2ggNDA0IGFuZCBmb3J3YXJkIHRvIGVycm9yIGhhbmRsZXJcbmFwcC51c2UoKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIGNvbnN0IGVyciA9IG5ldyBFcnJvcignTm90IEZvdW5kJyk7XG4gIGVyci5zdGF0dXMgPSA0MDQ7XG4gIG5leHQoZXJyKTtcbn0pO1xuXG4vLyBlcnJvciBoYW5kbGVyXG4vKiBlc2xpbnQgbm8tdW51c2VkLXZhcnM6IDAgKi9cbmFwcC51c2UoKGVyciwgcmVxLCByZXMsIG5leHQpID0+IHtcbiAgLy8gc2V0IGxvY2Fscywgb25seSBwcm92aWRpbmcgZXJyb3IgaW4gZGV2ZWxvcG1lbnRcbiAgcmVzLmxvY2Fscy5tZXNzYWdlID0gZXJyLm1lc3NhZ2U7XG4gIHJlcy5sb2NhbHMuZXJyb3IgPSByZXEuYXBwLmdldCgnZW52JykgPT09ICdkZXZlbG9wbWVudCcgPyBlcnIgOiB7fTtcbiAgLy8gcmVuZGVyIHRoZSBlcnJvciBwYWdlXG4gIHJlcy5zdGF0dXMoZXJyLnN0YXR1cyB8fCA1MDApO1xuICByZXMucmVuZGVyKCdlcnJvcicpO1xufSk7XG5cbi8vIEhhbmRsZSB1bmNhdWdodEV4Y2VwdGlvblxucHJvY2Vzcy5vbigndW5jYXVnaHRFeGNlcHRpb24nLCAoZXJyKSA9PiB7XG4gIGRlYnVnKCdDYXVnaHQgZXhjZXB0aW9uOiAlaicsIGVycik7XG4gIHByb2Nlc3MuZXhpdCgxKTtcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBhcHA7XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "app.js"
      ],
      "names": [
        "app",
        "use",
        "req",
        "res",
        "next",
        "header",
        "json",
        "limit",
        "urlencoded",
        "debug",
        "set",
        "join",
        "__dirname",
        "require",
        "extended",
        "static",
        "err",
        "Error",
        "status",
        "locals",
        "message",
        "error",
        "get",
        "render",
        "process",
        "on",
        "exit"
      ],
      "mappings": ";;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AAEA;;;;AAEA;;AAGA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AANA;AAQA,IAAMA,MAAM,wBAAZ;;AAEAA,IAAIC,GAAJ,CAAQ,UAASC,GAAT,EAAcC,GAAd,EAAmBC,IAAnB,EAAyB;AAC/BD,MAAIE,MAAJ,CAAW,6BAAX,EAA0C,GAA1C;AACAF,MAAIE,MAAJ,CAAW,8BAAX,EAA2C,gDAA3C;AACAF,MAAIE,MAAJ,CAAW,8BAAX,EAA2C,wBAA3C;AACAD;AACD,CALD;;AAOAJ,IAAIC,GAAJ,CAAQ,qBAAWK,IAAX,CAAgB,EAACC,OAAO,KAAR,EAAhB,CAAR;AACAP,IAAIC,GAAJ,CAAQ,qBAAWO,UAAX,CAAsB,EAACD,OAAO,KAAR,EAAtB,CAAR;;AAEA,IAAME,QAAQ,qBAAM,qBAAN,CAAd;;AAEA;AACAT,IAAIU,GAAJ,CAAQ,OAAR,EAAiB,eAAKC,IAAL,CAAUC,SAAV,EAAqB,OAArB,CAAjB;AACAZ,IAAIU,GAAJ,CAAQ,aAAR,EAAuB,KAAvB;;AAEAG,QAAQ,mBAAR;;AAEA;AACA;AACAb,IAAIC,GAAJ,CAAQ,sBAAO,KAAP,CAAR;AACAD,IAAIC,GAAJ,CAAQ,qBAAWK,IAAX,EAAR;AACAN,IAAIC,GAAJ,CAAQ,qBAAWO,UAAX,CAAsB;AAC5BM,YAAU;AADkB,CAAtB,CAAR;;AAIAd,IAAIC,GAAJ,CAAQ,6BAAR;AACAD,IAAIC,GAAJ,CAAQ,8BAAe,eAAKU,IAAL,CAAUC,SAAV,EAAqB,QAArB,CAAf,CAAR;AACAZ,IAAIC,GAAJ,CAAQ,kBAAQc,MAAR,CAAe,eAAKJ,IAAL,CAAUC,SAAV,EAAqB,QAArB,CAAf,CAAR;;AAEAZ,IAAIC,GAAJ,CAAQ,GAAR;AACAD,IAAIC,GAAJ,CAAQ,QAAR;AACAD,IAAIC,GAAJ,CAAQ,WAAR;AACAD,IAAIC,GAAJ,CAAQ,QAAR;;AAEA;AACAD,IAAIC,GAAJ,CAAQ,UAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAC1B,MAAMY,MAAM,IAAIC,KAAJ,CAAU,WAAV,CAAZ;AACAD,MAAIE,MAAJ,GAAa,GAAb;AACAd,OAAKY,GAAL;AACD,CAJD;;AAMA;AACA;AACAhB,IAAIC,GAAJ,CAAQ,UAACe,GAAD,EAAMd,GAAN,EAAWC,GAAX,EAAgBC,IAAhB,EAAyB;AAC/B;AACAD,MAAIgB,MAAJ,CAAWC,OAAX,GAAqBJ,IAAII,OAAzB;AACAjB,MAAIgB,MAAJ,CAAWE,KAAX,GAAmBnB,IAAIF,GAAJ,CAAQsB,GAAR,CAAY,KAAZ,MAAuB,aAAvB,GAAuCN,GAAvC,GAA6C,EAAhE;AACA;AACAb,MAAIe,MAAJ,CAAWF,IAAIE,MAAJ,IAAc,GAAzB;AACAf,MAAIoB,MAAJ,CAAW,OAAX;AACD,CAPD;;AASA;AACAC,QAAQC,EAAR,CAAW,mBAAX,EAAgC,UAACT,GAAD,EAAS;AACvCP,QAAM,sBAAN,EAA8BO,GAA9B;AACAQ,UAAQE,IAAR,CAAa,CAAb;AACD,CAHD;;kBAKe1B,G",
      "file": "app.js",
      "sourceRoot": "/home/monometic",
      "sourcesContent": [
        "import bodyParser from 'body-parser';\nimport cookieParser from 'cookie-parser';\nimport Debug from 'debug';\nimport express from 'express';\nimport logger from 'morgan';\n\nimport passport from 'passport';\n\nimport './config/database';\n\n// import favicon from 'serve-favicon';\nimport path from 'path';\nimport lessMiddleware from 'less-middleware';\nimport index from './routes/index';\nimport users from './custom_modules/users/routes/index';\nimport category from './custom_modules/categories/routes/index';\nimport quote from './custom_modules/quotes/routes/index';\n\nconst app = express();\n\napp.use(function(req, res, next) {\n  res.header(\"Access-Control-Allow-Origin\", \"*\");\n  res.header(\"Access-Control-Allow-Headers\", \"Origin, X-Requested-With, Content-Type, Accept\");\n  res.header(\"Access-Control-Allow-Methods\", \"GET, PUT, POST, DELETE\");\n  next();\n});\n\napp.use(bodyParser.json({limit: '5mb'}));\napp.use(bodyParser.urlencoded({limit: '5mb'}));\n\nconst debug = Debug('assignment-task:app');\n\n// view engine setup\napp.set('views', path.join(__dirname, 'views'));\napp.set('view engine', 'ejs');\n\nrequire('./config/passport')(passport);\n\n// uncomment after placing your favicon in /public\n// app.use(favicon(path.join(__dirname, 'public', 'favicon.ico')));\napp.use(logger('dev'));\napp.use(bodyParser.json());\napp.use(bodyParser.urlencoded({\n  extended: false\n}));\n\napp.use(cookieParser());\napp.use(lessMiddleware(path.join(__dirname, 'public')));\napp.use(express.static(path.join(__dirname, 'public')));\n\napp.use('/', index);\napp.use('/users', users);\napp.use('/category', category);\napp.use('/quote', quote);\n\n// catch 404 and forward to error handler\napp.use((req, res, next) => {\n  const err = new Error('Not Found');\n  err.status = 404;\n  next(err);\n});\n\n// error handler\n/* eslint no-unused-vars: 0 */\napp.use((err, req, res, next) => {\n  // set locals, only providing error in development\n  res.locals.message = err.message;\n  res.locals.error = req.app.get('env') === 'development' ? err : {};\n  // render the error page\n  res.status(err.status || 500);\n  res.render('error');\n});\n\n// Handle uncaughtException\nprocess.on('uncaughtException', (err) => {\n  debug('Caught exception: %j', err);\n  process.exit(1);\n});\n\nexport default app;\n"
      ]
    },
    "mtime": 1495712478309
  },
  "{\"filename\":\"/home/monometic/config/database.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/monometic/config\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.1": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "mongoose",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "mongoose"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/monometic/config/database.js",
      "filenameRelative": "/home/monometic/config/database.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "database.js",
      "sourceFileName": "database.js",
      "sourceRoot": "/home/monometic/config",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/monometic/config",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "database"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _mongoose = require('mongoose');\n\nvar _mongoose2 = _interopRequireDefault(_mongoose);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_mongoose2.default.Promise = global.Promise; /*\n                                              * Database connectivity\n                                              */\n\n_mongoose2.default.connect('mongodb://monometic:monometic2780@localhost:27017/monometic');\n//check if we are connected successfully or not\nvar db = _mongoose2.default.connection;\n\ndb.on('error', console.error.bind(console, 'connection error'));\n\nexports.default = db;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRhdGFiYXNlLmpzIl0sIm5hbWVzIjpbIlByb21pc2UiLCJnbG9iYWwiLCJjb25uZWN0IiwiZGIiLCJjb25uZWN0aW9uIiwib24iLCJjb25zb2xlIiwiZXJyb3IiLCJiaW5kIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFHQTs7Ozs7O0FBQ0EsbUJBQVNBLE9BQVQsR0FBbUJDLE9BQU9ELE9BQTFCLEMsQ0FKQTs7OztBQUtBLG1CQUFTRSxPQUFULENBQWlCLDZEQUFqQjtBQUNBO0FBQ0EsSUFBTUMsS0FBSyxtQkFBU0MsVUFBcEI7O0FBRUFELEdBQUdFLEVBQUgsQ0FBTSxPQUFOLEVBQWVDLFFBQVFDLEtBQVIsQ0FBY0MsSUFBZCxDQUFtQkYsT0FBbkIsRUFBNEIsa0JBQTVCLENBQWY7O2tCQUVlSCxFIiwiZmlsZSI6ImRhdGFiYXNlLmpzIiwic291cmNlUm9vdCI6Ii9ob21lL21vbm9tZXRpYy9jb25maWciLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogRGF0YWJhc2UgY29ubmVjdGl2aXR5XG4gKi9cbmltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSc7XG5tb25nb29zZS5Qcm9taXNlID0gZ2xvYmFsLlByb21pc2U7XG5tb25nb29zZS5jb25uZWN0KCdtb25nb2RiOi8vbW9ub21ldGljOm1vbm9tZXRpYzI3ODBAbG9jYWxob3N0OjI3MDE3L21vbm9tZXRpYycpO1xuLy9jaGVjayBpZiB3ZSBhcmUgY29ubmVjdGVkIHN1Y2Nlc3NmdWxseSBvciBub3RcbmNvbnN0IGRiID0gbW9uZ29vc2UuY29ubmVjdGlvbjtcblxuZGIub24oJ2Vycm9yJywgY29uc29sZS5lcnJvci5iaW5kKGNvbnNvbGUsICdjb25uZWN0aW9uIGVycm9yJykpO1xuXG5leHBvcnQgZGVmYXVsdCBkYjtcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "database.js"
      ],
      "names": [
        "Promise",
        "global",
        "connect",
        "db",
        "connection",
        "on",
        "console",
        "error",
        "bind"
      ],
      "mappings": ";;;;;;AAGA;;;;;;AACA,mBAASA,OAAT,GAAmBC,OAAOD,OAA1B,C,CAJA;;;;AAKA,mBAASE,OAAT,CAAiB,6DAAjB;AACA;AACA,IAAMC,KAAK,mBAASC,UAApB;;AAEAD,GAAGE,EAAH,CAAM,OAAN,EAAeC,QAAQC,KAAR,CAAcC,IAAd,CAAmBF,OAAnB,EAA4B,kBAA5B,CAAf;;kBAEeH,E",
      "file": "database.js",
      "sourceRoot": "/home/monometic/config",
      "sourcesContent": [
        "/*\n * Database connectivity\n */\nimport mongoose from 'mongoose';\nmongoose.Promise = global.Promise;\nmongoose.connect('mongodb://monometic:monometic2780@localhost:27017/monometic');\n//check if we are connected successfully or not\nconst db = mongoose.connection;\n\ndb.on('error', console.error.bind(console, 'connection error'));\n\nexport default db;\n"
      ]
    },
    "mtime": 1495712734369
  },
  "{\"filename\":\"/home/monometic/routes/index.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/monometic/routes\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.1": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "express",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "express"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/monometic/routes/index.js",
      "filenameRelative": "/home/monometic/routes/index.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "index.js",
      "sourceFileName": "index.js",
      "sourceRoot": "/home/monometic/routes",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/monometic/routes",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "index"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _express = require('express');\n\nvar _express2 = _interopRequireDefault(_express);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar router = _express2.default.Router();\n\n/* GET index page. */\nrouter.get('/', function (req, res, next) {\n  res.render('index', {\n    title: 'Express'\n  });\n});\n\nexports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbInJvdXRlciIsIlJvdXRlciIsImdldCIsInJlcSIsInJlcyIsIm5leHQiLCJyZW5kZXIiLCJ0aXRsZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7Ozs7OztBQUVBLElBQU1BLFNBQVMsa0JBQVFDLE1BQVIsRUFBZjs7QUFFQTtBQUNBRCxPQUFPRSxHQUFQLENBQVcsR0FBWCxFQUFnQixVQUFDQyxHQUFELEVBQU1DLEdBQU4sRUFBV0MsSUFBWCxFQUFvQjtBQUNsQ0QsTUFBSUUsTUFBSixDQUFXLE9BQVgsRUFBb0I7QUFDbEJDLFdBQU87QUFEVyxHQUFwQjtBQUdELENBSkQ7O2tCQU1lUCxNIiwiZmlsZSI6ImluZGV4LmpzIiwic291cmNlUm9vdCI6Ii9ob21lL21vbm9tZXRpYy9yb3V0ZXMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcblxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcblxuLyogR0VUIGluZGV4IHBhZ2UuICovXG5yb3V0ZXIuZ2V0KCcvJywgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIHJlcy5yZW5kZXIoJ2luZGV4Jywge1xuICAgIHRpdGxlOiAnRXhwcmVzcydcbiAgfSk7XG59KTtcblxuZXhwb3J0IGRlZmF1bHQgcm91dGVyO1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "router",
        "Router",
        "get",
        "req",
        "res",
        "next",
        "render",
        "title"
      ],
      "mappings": ";;;;;;AAAA;;;;;;AAEA,IAAMA,SAAS,kBAAQC,MAAR,EAAf;;AAEA;AACAD,OAAOE,GAAP,CAAW,GAAX,EAAgB,UAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAClCD,MAAIE,MAAJ,CAAW,OAAX,EAAoB;AAClBC,WAAO;AADW,GAApB;AAGD,CAJD;;kBAMeP,M",
      "file": "index.js",
      "sourceRoot": "/home/monometic/routes",
      "sourcesContent": [
        "import express from 'express';\n\nconst router = express.Router();\n\n/* GET index page. */\nrouter.get('/', (req, res, next) => {\n  res.render('index', {\n    title: 'Express'\n  });\n});\n\nexport default router;\n"
      ]
    },
    "mtime": 1495712256273
  },
  "{\"filename\":\"/home/monometic/custom_modules/users/routes/index.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/monometic/custom_modules/users/routes\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.1": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "express",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "express"
              }
            ]
          },
          {
            "source": "../index",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "User"
              }
            ]
          },
          {
            "source": "../authentication",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "Auth"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/monometic/custom_modules/users/routes/index.js",
      "filenameRelative": "/home/monometic/custom_modules/users/routes/index.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "index.js",
      "sourceFileName": "index.js",
      "sourceRoot": "/home/monometic/custom_modules/users/routes",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/monometic/custom_modules/users/routes",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "index"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _express = require('express');\n\nvar _express2 = _interopRequireDefault(_express);\n\nvar _index = require('../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _authentication = require('../authentication');\n\nvar _authentication2 = _interopRequireDefault(_authentication);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar passport = require('passport');\nvar userRoutes = _express2.default.Router();\n\n/*Route for LIST Category*/\nuserRoutes.post('/add', function (req, res, next) {\n  console.log(\"inside routes\");\n  var usersCtrl = new _index2.default(req, res, next);\n\n  usersCtrl.checkEmailExists();\n}, function (req, res) {\n  var usersCtrl = new _index2.default(req, res);\n  usersCtrl.insertUser();\n});\n\nuserRoutes.get('/', function (req, res, next) {\n  console.log(\"inside USER FETCH ROUTE\");\n  var usersCtrl = new _index2.default(req, res, next);\n\n  usersCtrl.fetchUsers();\n});\n\n// userRoutes.post('/login', (req, res) => {\n//   console.log(\"inside USER login Route\");\n//   let usersCtrl = new User(req, res);\n//\n//   usersCtrl.loginUser();\n// });\n\n\nuserRoutes.post('/login', _authentication2.default.login, function (req, res) {\n  console.log(\"inside after next function\");\n\n  var usersCtrl = new _index2.default(req, res);\n  usersCtrl.fetchUsers();\n});\n\nuserRoutes.delete('/:id', function (req, res, next) {\n  console.log(\"inside delete user routes\");\n  var usersCtrl = new _index2.default(req, res, next);\n  usersCtrl.deleteUser();\n});\n\nuserRoutes.get('/:id', function (req, res, next) {\n  console.log(\"inside fetch user record routes\");\n  var usersCtrl = new _index2.default(req, res, next);\n  usersCtrl.fetchUser();\n});\n\nuserRoutes.put('/update', function (req, res, next) {\n  console.log(\"inside update user routes\");\n  var usersCtrl = new _index2.default(req, res, next);\n  usersCtrl.updateUser();\n});\n\nuserRoutes.post('/getUser', function (req, res, next) {\n  var usersCtrl = new _index2.default(req, res, next);\n  usersCtrl.fetchUserByEmail();\n});\n\nexports.default = userRoutes;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbInBhc3Nwb3J0IiwicmVxdWlyZSIsInVzZXJSb3V0ZXMiLCJSb3V0ZXIiLCJwb3N0IiwicmVxIiwicmVzIiwibmV4dCIsImNvbnNvbGUiLCJsb2ciLCJ1c2Vyc0N0cmwiLCJjaGVja0VtYWlsRXhpc3RzIiwiaW5zZXJ0VXNlciIsImdldCIsImZldGNoVXNlcnMiLCJsb2dpbiIsImRlbGV0ZSIsImRlbGV0ZVVzZXIiLCJmZXRjaFVzZXIiLCJwdXQiLCJ1cGRhdGVVc2VyIiwiZmV0Y2hVc2VyQnlFbWFpbCJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7Ozs7QUFDQTs7OztBQUNBOzs7Ozs7QUFFQSxJQUFJQSxXQUFXQyxRQUFRLFVBQVIsQ0FBZjtBQUNBLElBQU1DLGFBQWEsa0JBQVFDLE1BQVIsRUFBbkI7O0FBRUE7QUFDQUQsV0FBV0UsSUFBWCxDQUFnQixNQUFoQixFQUF3QixVQUFDQyxHQUFELEVBQU1DLEdBQU4sRUFBV0MsSUFBWCxFQUFvQjtBQUMxQ0MsVUFBUUMsR0FBUixDQUFZLGVBQVo7QUFDQyxNQUFJQyxZQUFZLG9CQUFTTCxHQUFULEVBQWNDLEdBQWQsRUFBbUJDLElBQW5CLENBQWhCOztBQUVDRyxZQUFVQyxnQkFBVjtBQUVILENBTkQsRUFNRyxVQUFTTixHQUFULEVBQWNDLEdBQWQsRUFBa0I7QUFDbkIsTUFBSUksWUFBWSxvQkFBU0wsR0FBVCxFQUFjQyxHQUFkLENBQWhCO0FBQ0FJLFlBQVVFLFVBQVY7QUFDRCxDQVREOztBQVlBVixXQUFXVyxHQUFYLENBQWUsR0FBZixFQUFvQixVQUFDUixHQUFELEVBQU1DLEdBQU4sRUFBV0MsSUFBWCxFQUFvQjtBQUN0Q0MsVUFBUUMsR0FBUixDQUFZLHlCQUFaO0FBQ0EsTUFBSUMsWUFBWSxvQkFBU0wsR0FBVCxFQUFjQyxHQUFkLEVBQW1CQyxJQUFuQixDQUFoQjs7QUFFQUcsWUFBVUksVUFBVjtBQUNELENBTEQ7O0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQVosV0FBV0UsSUFBWCxDQUFnQixRQUFoQixFQUEwQix5QkFBS1csS0FBL0IsRUFBc0MsVUFBQ1YsR0FBRCxFQUFNQyxHQUFOLEVBQWM7QUFDbERFLFVBQVFDLEdBQVIsQ0FBWSw0QkFBWjs7QUFFQSxNQUFJQyxZQUFZLG9CQUFTTCxHQUFULEVBQWNDLEdBQWQsQ0FBaEI7QUFDQUksWUFBVUksVUFBVjtBQUNELENBTEQ7O0FBT0FaLFdBQVdjLE1BQVgsQ0FBa0IsTUFBbEIsRUFBMEIsVUFBQ1gsR0FBRCxFQUFNQyxHQUFOLEVBQVdDLElBQVgsRUFBb0I7QUFDMUNDLFVBQVFDLEdBQVIsQ0FBWSwyQkFBWjtBQUNELE1BQUlDLFlBQVksb0JBQVNMLEdBQVQsRUFBY0MsR0FBZCxFQUFtQkMsSUFBbkIsQ0FBaEI7QUFDQ0csWUFBVU8sVUFBVjtBQUVILENBTEQ7O0FBT0FmLFdBQVdXLEdBQVgsQ0FBZSxNQUFmLEVBQXVCLFVBQUNSLEdBQUQsRUFBTUMsR0FBTixFQUFXQyxJQUFYLEVBQW9CO0FBQ3ZDQyxVQUFRQyxHQUFSLENBQVksaUNBQVo7QUFDQSxNQUFJQyxZQUFZLG9CQUFTTCxHQUFULEVBQWNDLEdBQWQsRUFBbUJDLElBQW5CLENBQWhCO0FBQ0FHLFlBQVVRLFNBQVY7QUFFSCxDQUxEOztBQVFBaEIsV0FBV2lCLEdBQVgsQ0FBZSxTQUFmLEVBQTBCLFVBQUNkLEdBQUQsRUFBTUMsR0FBTixFQUFXQyxJQUFYLEVBQW9CO0FBQzFDQyxVQUFRQyxHQUFSLENBQVksMkJBQVo7QUFDQSxNQUFJQyxZQUFZLG9CQUFTTCxHQUFULEVBQWNDLEdBQWQsRUFBbUJDLElBQW5CLENBQWhCO0FBQ0FHLFlBQVVVLFVBQVY7QUFFSCxDQUxEOztBQU9BbEIsV0FBV0UsSUFBWCxDQUFnQixVQUFoQixFQUE0QixVQUFDQyxHQUFELEVBQU1DLEdBQU4sRUFBV0MsSUFBWCxFQUFvQjtBQUM5QyxNQUFJRyxZQUFZLG9CQUFTTCxHQUFULEVBQWNDLEdBQWQsRUFBbUJDLElBQW5CLENBQWhCO0FBQ0FHLFlBQVVXLGdCQUFWO0FBQ0QsQ0FIRDs7a0JBS2VuQixVIiwiZmlsZSI6ImluZGV4LmpzIiwic291cmNlUm9vdCI6Ii9ob21lL21vbm9tZXRpYy9jdXN0b21fbW9kdWxlcy91c2Vycy9yb3V0ZXMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcbmltcG9ydCBVc2VyIGZyb20gJy4uL2luZGV4JztcbmltcG9ydCBBdXRoIGZyb20gJy4uL2F1dGhlbnRpY2F0aW9uJztcblxudmFyIHBhc3Nwb3J0ID0gcmVxdWlyZSgncGFzc3BvcnQnKTtcbmNvbnN0IHVzZXJSb3V0ZXMgPSBleHByZXNzLlJvdXRlcigpO1xuXG4vKlJvdXRlIGZvciBMSVNUIENhdGVnb3J5Ki9cbnVzZXJSb3V0ZXMucG9zdCgnL2FkZCcsIChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICBjb25zb2xlLmxvZyhcImluc2lkZSByb3V0ZXNcIik7XG4gIFx0bGV0IHVzZXJzQ3RybCA9IG5ldyBVc2VyKHJlcSwgcmVzLCBuZXh0KTtcblxuICAgIHVzZXJzQ3RybC5jaGVja0VtYWlsRXhpc3RzKCk7XG5cbn0sIGZ1bmN0aW9uKHJlcSwgcmVzKXtcbiAgbGV0IHVzZXJzQ3RybCA9IG5ldyBVc2VyKHJlcSwgcmVzKTtcbiAgdXNlcnNDdHJsLmluc2VydFVzZXIoKTtcbn0pO1xuXG5cbnVzZXJSb3V0ZXMuZ2V0KCcvJywgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIGNvbnNvbGUubG9nKFwiaW5zaWRlIFVTRVIgRkVUQ0ggUk9VVEVcIik7XG4gIGxldCB1c2Vyc0N0cmwgPSBuZXcgVXNlcihyZXEsIHJlcywgbmV4dCk7XG5cbiAgdXNlcnNDdHJsLmZldGNoVXNlcnMoKTtcbn0pO1xuXG4vLyB1c2VyUm91dGVzLnBvc3QoJy9sb2dpbicsIChyZXEsIHJlcykgPT4ge1xuLy8gICBjb25zb2xlLmxvZyhcImluc2lkZSBVU0VSIGxvZ2luIFJvdXRlXCIpO1xuLy8gICBsZXQgdXNlcnNDdHJsID0gbmV3IFVzZXIocmVxLCByZXMpO1xuLy9cbi8vICAgdXNlcnNDdHJsLmxvZ2luVXNlcigpO1xuLy8gfSk7XG5cblxudXNlclJvdXRlcy5wb3N0KCcvbG9naW4nLCBBdXRoLmxvZ2luLCAocmVxLCByZXMpID0+IHtcbiAgY29uc29sZS5sb2coXCJpbnNpZGUgYWZ0ZXIgbmV4dCBmdW5jdGlvblwiKTtcblxuICBsZXQgdXNlcnNDdHJsID0gbmV3IFVzZXIocmVxLCByZXMpO1xuICB1c2Vyc0N0cmwuZmV0Y2hVc2VycygpO1xufSk7XG5cbnVzZXJSb3V0ZXMuZGVsZXRlKCcvOmlkJywgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgY29uc29sZS5sb2coXCJpbnNpZGUgZGVsZXRlIHVzZXIgcm91dGVzXCIpO1xuICBcdGxldCB1c2Vyc0N0cmwgPSBuZXcgVXNlcihyZXEsIHJlcywgbmV4dCk7XG4gICAgdXNlcnNDdHJsLmRlbGV0ZVVzZXIoKTtcblxufSk7XG5cbnVzZXJSb3V0ZXMuZ2V0KCcvOmlkJywgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgY29uc29sZS5sb2coXCJpbnNpZGUgZmV0Y2ggdXNlciByZWNvcmQgcm91dGVzXCIpO1xuICAgIGxldCB1c2Vyc0N0cmwgPSBuZXcgVXNlcihyZXEsIHJlcywgbmV4dCk7XG4gICAgdXNlcnNDdHJsLmZldGNoVXNlcigpO1xuXG59KTtcblxuXG51c2VyUm91dGVzLnB1dCgnL3VwZGF0ZScsIChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKFwiaW5zaWRlIHVwZGF0ZSB1c2VyIHJvdXRlc1wiKTtcbiAgICBsZXQgdXNlcnNDdHJsID0gbmV3IFVzZXIocmVxLCByZXMsIG5leHQpO1xuICAgIHVzZXJzQ3RybC51cGRhdGVVc2VyKCk7XG5cbn0pO1xuXG51c2VyUm91dGVzLnBvc3QoJy9nZXRVc2VyJywgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIGxldCB1c2Vyc0N0cmwgPSBuZXcgVXNlcihyZXEsIHJlcywgbmV4dCk7XG4gIHVzZXJzQ3RybC5mZXRjaFVzZXJCeUVtYWlsKCk7XG59KTtcblxuZXhwb3J0IGRlZmF1bHQgdXNlclJvdXRlcztcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "passport",
        "require",
        "userRoutes",
        "Router",
        "post",
        "req",
        "res",
        "next",
        "console",
        "log",
        "usersCtrl",
        "checkEmailExists",
        "insertUser",
        "get",
        "fetchUsers",
        "login",
        "delete",
        "deleteUser",
        "fetchUser",
        "put",
        "updateUser",
        "fetchUserByEmail"
      ],
      "mappings": ";;;;;;AAAA;;;;AACA;;;;AACA;;;;;;AAEA,IAAIA,WAAWC,QAAQ,UAAR,CAAf;AACA,IAAMC,aAAa,kBAAQC,MAAR,EAAnB;;AAEA;AACAD,WAAWE,IAAX,CAAgB,MAAhB,EAAwB,UAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAC1CC,UAAQC,GAAR,CAAY,eAAZ;AACC,MAAIC,YAAY,oBAASL,GAAT,EAAcC,GAAd,EAAmBC,IAAnB,CAAhB;;AAECG,YAAUC,gBAAV;AAEH,CAND,EAMG,UAASN,GAAT,EAAcC,GAAd,EAAkB;AACnB,MAAII,YAAY,oBAASL,GAAT,EAAcC,GAAd,CAAhB;AACAI,YAAUE,UAAV;AACD,CATD;;AAYAV,WAAWW,GAAX,CAAe,GAAf,EAAoB,UAACR,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AACtCC,UAAQC,GAAR,CAAY,yBAAZ;AACA,MAAIC,YAAY,oBAASL,GAAT,EAAcC,GAAd,EAAmBC,IAAnB,CAAhB;;AAEAG,YAAUI,UAAV;AACD,CALD;;AAOA;AACA;AACA;AACA;AACA;AACA;;;AAGAZ,WAAWE,IAAX,CAAgB,QAAhB,EAA0B,yBAAKW,KAA/B,EAAsC,UAACV,GAAD,EAAMC,GAAN,EAAc;AAClDE,UAAQC,GAAR,CAAY,4BAAZ;;AAEA,MAAIC,YAAY,oBAASL,GAAT,EAAcC,GAAd,CAAhB;AACAI,YAAUI,UAAV;AACD,CALD;;AAOAZ,WAAWc,MAAX,CAAkB,MAAlB,EAA0B,UAACX,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAC1CC,UAAQC,GAAR,CAAY,2BAAZ;AACD,MAAIC,YAAY,oBAASL,GAAT,EAAcC,GAAd,EAAmBC,IAAnB,CAAhB;AACCG,YAAUO,UAAV;AAEH,CALD;;AAOAf,WAAWW,GAAX,CAAe,MAAf,EAAuB,UAACR,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AACvCC,UAAQC,GAAR,CAAY,iCAAZ;AACA,MAAIC,YAAY,oBAASL,GAAT,EAAcC,GAAd,EAAmBC,IAAnB,CAAhB;AACAG,YAAUQ,SAAV;AAEH,CALD;;AAQAhB,WAAWiB,GAAX,CAAe,SAAf,EAA0B,UAACd,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAC1CC,UAAQC,GAAR,CAAY,2BAAZ;AACA,MAAIC,YAAY,oBAASL,GAAT,EAAcC,GAAd,EAAmBC,IAAnB,CAAhB;AACAG,YAAUU,UAAV;AAEH,CALD;;AAOAlB,WAAWE,IAAX,CAAgB,UAAhB,EAA4B,UAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAC9C,MAAIG,YAAY,oBAASL,GAAT,EAAcC,GAAd,EAAmBC,IAAnB,CAAhB;AACAG,YAAUW,gBAAV;AACD,CAHD;;kBAKenB,U",
      "file": "index.js",
      "sourceRoot": "/home/monometic/custom_modules/users/routes",
      "sourcesContent": [
        "import express from 'express';\nimport User from '../index';\nimport Auth from '../authentication';\n\nvar passport = require('passport');\nconst userRoutes = express.Router();\n\n/*Route for LIST Category*/\nuserRoutes.post('/add', (req, res, next) => {\n  console.log(\"inside routes\");\n  \tlet usersCtrl = new User(req, res, next);\n\n    usersCtrl.checkEmailExists();\n\n}, function(req, res){\n  let usersCtrl = new User(req, res);\n  usersCtrl.insertUser();\n});\n\n\nuserRoutes.get('/', (req, res, next) => {\n  console.log(\"inside USER FETCH ROUTE\");\n  let usersCtrl = new User(req, res, next);\n\n  usersCtrl.fetchUsers();\n});\n\n// userRoutes.post('/login', (req, res) => {\n//   console.log(\"inside USER login Route\");\n//   let usersCtrl = new User(req, res);\n//\n//   usersCtrl.loginUser();\n// });\n\n\nuserRoutes.post('/login', Auth.login, (req, res) => {\n  console.log(\"inside after next function\");\n\n  let usersCtrl = new User(req, res);\n  usersCtrl.fetchUsers();\n});\n\nuserRoutes.delete('/:id', (req, res, next) => {\n    console.log(\"inside delete user routes\");\n  \tlet usersCtrl = new User(req, res, next);\n    usersCtrl.deleteUser();\n\n});\n\nuserRoutes.get('/:id', (req, res, next) => {\n    console.log(\"inside fetch user record routes\");\n    let usersCtrl = new User(req, res, next);\n    usersCtrl.fetchUser();\n\n});\n\n\nuserRoutes.put('/update', (req, res, next) => {\n    console.log(\"inside update user routes\");\n    let usersCtrl = new User(req, res, next);\n    usersCtrl.updateUser();\n\n});\n\nuserRoutes.post('/getUser', (req, res, next) => {\n  let usersCtrl = new User(req, res, next);\n  usersCtrl.fetchUserByEmail();\n});\n\nexport default userRoutes;\n"
      ]
    },
    "mtime": 1495715260337
  },
  "{\"filename\":\"/home/monometic/custom_modules/users/index.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/monometic/custom_modules/users\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.1": {
    "metadata": {
      "usedHelpers": [
        "createClass",
        "classCallCheck",
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "./models/users.js",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "Users"
              }
            ]
          },
          {
            "source": "mongoose",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "mongoose"
              }
            ]
          },
          {
            "source": "fs",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "fs"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/monometic/custom_modules/users/index.js",
      "filenameRelative": "/home/monometic/custom_modules/users/index.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "index.js",
      "sourceFileName": "index.js",
      "sourceRoot": "/home/monometic/custom_modules/users",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/monometic/custom_modules/users",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "index"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _users = require('./models/users.js');\n\nvar _users2 = _interopRequireDefault(_users);\n\nvar _mongoose = require('mongoose');\n\nvar _mongoose2 = _interopRequireDefault(_mongoose);\n\nvar _fs = require('fs');\n\nvar _fs2 = _interopRequireDefault(_fs);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nmodule.exports = function () {\n  function User(req, res, next) {\n    _classCallCheck(this, User);\n\n    this.res = res;\n    this.req = req;\n    this.next = next;\n  }\n\n  /*To add new questionnaire category*/\n\n\n  _createClass(User, [{\n    key: 'insertUser',\n    value: function insertUser() {\n      console.log(\"inside controller\");\n      var _this = this;\n      var data = this.req.body;\n\n      //_this.res.status(200).send({res: 'done'});\n\n      _users2.default.insertUser(data, function (err, data) {\n        console.log(err);\n        if (err) _this.res.status(500).send(err.errmsg);\n\n        return _this.res.status(200).send({ message: \"User added successfully\", \"status\": \"1\" });\n      });\n    }\n  }, {\n    key: 'checkEmailExists',\n    value: function checkEmailExists() {\n      console.log(\"inside controller\");\n      var _this = this;\n      var email = this.req.body.email;\n\n      //_this.res.status(200).send({res: 'done'});\n\n      _users2.default.findUser(email, function (err, data) {\n        if (err) _this.res.status(500).send();\n\n        if (data) {\n          console.log(email + \" already exists\");\n          _this.res.status(200).json({ message: email + \" already exists\", status: \"0\" });\n        } else {\n          _this.next();\n        }\n      });\n    }\n  }, {\n    key: 'fetchUsers',\n    value: function fetchUsers() {\n      console.log(\"Insde controller: fetchUsers()\");\n      var email = this.req.body.email;\n\n      var _this = this;\n      _users2.default.findAllUsers(email, this.req.headers.host, function (err, data) {\n        if (err) _this.res.status(500).send();\n\n        if (data) {\n          _this.res.status(200).json({ data: data, status: \"1\", adminLogin: true });\n        }\n      });\n    }\n  }, {\n    key: 'loginUser',\n    value: function loginUser() {\n      console.log(\"Insde controller: loginUser()\");\n      var _this = this;\n      var email = this.req.body.email;\n      var password = this.req.body.password;\n\n      var userObj = { email: email, password: password };\n\n      _users2.default.authenticateUser(userObj, function (err, data) {\n        if (err) _this.res.status(500).send();\n\n        console.log(\"user data in controller: \", data);\n\n        if (data) {\n          _this.res.status(200).json({ data: data, status: \"1\" });\n        }\n      });\n    }\n  }, {\n    key: 'deleteUser',\n    value: function deleteUser() {\n      var _this = this;\n      var user_id = this.req.params.id;\n\n      _users2.default.deleteUser(user_id, function (err, data) {\n        if (err) _this.res.status(500).send();\n\n        if (data) {\n          _this.res.status(200).json(data);\n        }\n      });\n    }\n  }, {\n    key: 'fetchUser',\n    value: function fetchUser() {\n      var _this = this;\n      var user_id = this.req.params.id;\n\n      _users2.default.fetchUserData(user_id, function (err, data) {\n        if (err) _this.res.status(500).send();\n\n        if (data) {\n          _this.res.status(200).json(data);\n        }\n      });\n    }\n  }, {\n    key: 'updateUser',\n    value: function updateUser() {\n      console.log(\"Insde controller: updateUser()\");\n      var data = this.req.body;\n      var _this = this;\n      console.log(data);\n      if (\"profile_image\" in data) {\n        var image_name = __dirname + '/../../public/images/user_images/' + data.id + '.png';\n        var buff = new Buffer(data.profile_image.replace(/^data:image\\/(png|gif|jpeg);base64,/, ''), 'base64');\n\n        _fs2.default.writeFile(image_name, buff, function (err) {\n          console.log('done');\n        });\n      }\n\n      _users2.default.updateUserDetail(data, function (err, data) {\n        if (err) _this.res.status(500).send(err);\n\n        if (data.n == 1) {\n          return _this.res.status(200).send({ message: \"User updated successfully\", \"status\": \"1\" });\n        } else {}\n\n        return _this.res.status(200).send({ message: \"Data not updated\", \"status\": \"0\" });\n      });\n    }\n  }, {\n    key: 'fetchUserByEmail',\n    value: function fetchUserByEmail() {\n      console.log(\"inside controller\");\n      var _this = this;\n      var email = this.req.body.email;\n\n      //_this.res.status(200).send({res: 'done'});\n\n      _users2.default.findUser(email, function (err, data) {\n        if (err) _this.res.status(500).send();\n\n        if (data) {\n          console.log(email + \" already exists\");\n          return _this.res.status(200).json({ message: email + \" already exists\", status: \"0\" });\n        }\n\n        return _this.res.status(200).send({ message: \"\", \"status\": \"1\" });\n      });\n    }\n  }]);\n\n  return User;\n}();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIm1vZHVsZSIsImV4cG9ydHMiLCJyZXEiLCJyZXMiLCJuZXh0IiwiY29uc29sZSIsImxvZyIsIl90aGlzIiwiZGF0YSIsImJvZHkiLCJpbnNlcnRVc2VyIiwiZXJyIiwic3RhdHVzIiwic2VuZCIsImVycm1zZyIsIm1lc3NhZ2UiLCJlbWFpbCIsImZpbmRVc2VyIiwianNvbiIsImZpbmRBbGxVc2VycyIsImhlYWRlcnMiLCJob3N0IiwiYWRtaW5Mb2dpbiIsInBhc3N3b3JkIiwidXNlck9iaiIsImF1dGhlbnRpY2F0ZVVzZXIiLCJ1c2VyX2lkIiwicGFyYW1zIiwiaWQiLCJkZWxldGVVc2VyIiwiZmV0Y2hVc2VyRGF0YSIsImltYWdlX25hbWUiLCJfX2Rpcm5hbWUiLCJidWZmIiwiQnVmZmVyIiwicHJvZmlsZV9pbWFnZSIsInJlcGxhY2UiLCJ3cml0ZUZpbGUiLCJ1cGRhdGVVc2VyRGV0YWlsIiwibiJdLCJtYXBwaW5ncyI6Ijs7OztBQUFBOzs7O0FBQ0E7Ozs7QUFDQTs7Ozs7Ozs7QUFFQUEsT0FBT0MsT0FBUDtBQUNJLGdCQUFZQyxHQUFaLEVBQWlCQyxHQUFqQixFQUFzQkMsSUFBdEIsRUFBNEI7QUFBQTs7QUFDekIsU0FBS0QsR0FBTCxHQUFXQSxHQUFYO0FBQ0EsU0FBS0QsR0FBTCxHQUFXQSxHQUFYO0FBQ0EsU0FBS0UsSUFBTCxHQUFZQSxJQUFaO0FBQ0Y7O0FBRUw7OztBQVBBO0FBQUE7QUFBQSxpQ0FRaUI7QUFDWEMsY0FBUUMsR0FBUixDQUFZLG1CQUFaO0FBQ0EsVUFBSUMsUUFBUSxJQUFaO0FBQ0EsVUFBSUMsT0FBTyxLQUFLTixHQUFMLENBQVNPLElBQXBCOztBQUVBOztBQUVBLHNCQUFNQyxVQUFOLENBQWlCRixJQUFqQixFQUF1QixVQUFTRyxHQUFULEVBQWNILElBQWQsRUFBbUI7QUFDdENILGdCQUFRQyxHQUFSLENBQVlLLEdBQVo7QUFDQSxZQUFHQSxHQUFILEVBQVFKLE1BQU1KLEdBQU4sQ0FB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QUFqQixFQUFzQk0sSUFBdEIsQ0FBMkIsRUFBQ0gsU0FBU0MsUUFBTSxpQkFBaEIsRUFBbUNKLFFBQU8sR0FBMUMsRUFBM0IsQ0FBUDtBQUNEOztBQUVELGVBQU9MLE1BQU1KLEdBQU4sQ0FBVVMsTUFBVixDQUFpQixHQUFqQixFQUFzQkMsSUFBdEIsQ0FBMkIsRUFBQ0UsU0FBUyxFQUFWLEVBQWEsVUFBUyxHQUF0QixFQUEzQixDQUFQO0FBRUgsT0FWRDtBQVdEO0FBNUpMOztBQUFBO0FBQUEiLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiL2hvbWUvbW9ub21ldGljL2N1c3RvbV9tb2R1bGVzL3VzZXJzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFVzZXJzIGZyb20gJy4vbW9kZWxzL3VzZXJzLmpzJztcbmltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSc7XG5pbXBvcnQgZnMgZnJvbSAnZnMnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGNsYXNzIFVzZXIge1xuICAgIGNvbnN0cnVjdG9yKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgICAgdGhpcy5yZXMgPSByZXM7XG4gICAgICAgdGhpcy5yZXEgPSByZXE7XG4gICAgICAgdGhpcy5uZXh0ID0gbmV4dDtcbiAgICB9XG5cbi8qVG8gYWRkIG5ldyBxdWVzdGlvbm5haXJlIGNhdGVnb3J5Ki9cbiAgICBpbnNlcnRVc2VyKCkge1xuICAgICAgY29uc29sZS5sb2coXCJpbnNpZGUgY29udHJvbGxlclwiKTtcbiAgICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgICBsZXQgZGF0YSA9IHRoaXMucmVxLmJvZHk7XG5cbiAgICAgIC8vX3RoaXMucmVzLnN0YXR1cygyMDApLnNlbmQoe3JlczogJ2RvbmUnfSk7XG5cbiAgICAgIFVzZXJzLmluc2VydFVzZXIoZGF0YSwgZnVuY3Rpb24oZXJyLCBkYXRhKXtcbiAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgIGlmKGVycikgX3RoaXMucmVzLnN0YXR1cyg1MDApLnNlbmQoZXJyLmVycm1zZyk7XG5cbiAgICAgICAgICByZXR1cm4gX3RoaXMucmVzLnN0YXR1cygyMDApLnNlbmQoe21lc3NhZ2U6IFwiVXNlciBhZGRlZCBzdWNjZXNzZnVsbHlcIixcInN0YXR1c1wiOlwiMVwifSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBjaGVja0VtYWlsRXhpc3RzKCkge1xuICAgICAgY29uc29sZS5sb2coXCJpbnNpZGUgY29udHJvbGxlclwiKTtcbiAgICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgICBsZXQgZW1haWwgPSB0aGlzLnJlcS5ib2R5LmVtYWlsO1xuXG4gICAgICAvL190aGlzLnJlcy5zdGF0dXMoMjAwKS5zZW5kKHtyZXM6ICdkb25lJ30pO1xuXG4gICAgICBVc2Vycy5maW5kVXNlcihlbWFpbCwgZnVuY3Rpb24oZXJyLCBkYXRhKXtcbiAgICAgICAgICBpZihlcnIpIF90aGlzLnJlcy5zdGF0dXMoNTAwKS5zZW5kKCk7XG5cbiAgICAgICAgICBpZihkYXRhKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlbWFpbCsgXCIgYWxyZWFkeSBleGlzdHNcIik7XG4gICAgICAgICAgICBfdGhpcy5yZXMuc3RhdHVzKDIwMCkuanNvbih7bWVzc2FnZTogZW1haWwrXCIgYWxyZWFkeSBleGlzdHNcIiwgc3RhdHVzOlwiMFwifSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIF90aGlzLm5leHQoKTtcbiAgICAgICAgICB9XG5cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGZldGNoVXNlcnMoKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIkluc2RlIGNvbnRyb2xsZXI6IGZldGNoVXNlcnMoKVwiKTtcbiAgICAgIGxldCBlbWFpbCA9IHRoaXMucmVxLmJvZHkuZW1haWw7XG5cbiAgICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgICBVc2Vycy5maW5kQWxsVXNlcnMoZW1haWwsdGhpcy5yZXEuaGVhZGVycy5ob3N0LCBmdW5jdGlvbihlcnIsIGRhdGEpe1xuICAgICAgICAgIGlmKGVycikgX3RoaXMucmVzLnN0YXR1cyg1MDApLnNlbmQoKTtcblxuICAgICAgICAgIGlmKGRhdGEpIHtcbiAgICAgICAgICAgIF90aGlzLnJlcy5zdGF0dXMoMjAwKS5qc29uKHtkYXRhOmRhdGEsIHN0YXR1czpcIjFcIixhZG1pbkxvZ2luOnRydWV9KTtcbiAgICAgICAgICB9XG5cbiAgICAgIH0pO1xuXG4gICAgfVxuXG4gICAgbG9naW5Vc2VyKCkge1xuICAgICAgY29uc29sZS5sb2coXCJJbnNkZSBjb250cm9sbGVyOiBsb2dpblVzZXIoKVwiKTtcbiAgICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgICBsZXQgZW1haWwgPSB0aGlzLnJlcS5ib2R5LmVtYWlsO1xuICAgICAgbGV0IHBhc3N3b3JkID0gdGhpcy5yZXEuYm9keS5wYXNzd29yZDtcblxuICAgICAgbGV0IHVzZXJPYmogPSB7ZW1haWwsIHBhc3N3b3JkfTtcblxuICAgICAgVXNlcnMuYXV0aGVudGljYXRlVXNlcih1c2VyT2JqLCBmdW5jdGlvbihlcnIsIGRhdGEpe1xuICAgICAgICAgIGlmKGVycikgX3RoaXMucmVzLnN0YXR1cyg1MDApLnNlbmQoKTtcblxuICAgICAgICAgIGNvbnNvbGUubG9nKFwidXNlciBkYXRhIGluIGNvbnRyb2xsZXI6IFwiLCBkYXRhKTtcblxuICAgICAgICAgIGlmKGRhdGEpIHtcbiAgICAgICAgICAgIF90aGlzLnJlcy5zdGF0dXMoMjAwKS5qc29uKHtkYXRhOmRhdGEsIHN0YXR1czpcIjFcIn0pO1xuICAgICAgICAgIH1cblxuICAgICAgfSk7XG5cbiAgICB9XG5cbiAgICBkZWxldGVVc2VyKCkge1xuICAgICAgbGV0IF90aGlzID0gdGhpcztcbiAgICAgIGxldCB1c2VyX2lkID0gdGhpcy5yZXEucGFyYW1zLmlkO1xuXG4gICAgICBVc2Vycy5kZWxldGVVc2VyKHVzZXJfaWQsIGZ1bmN0aW9uKGVyciwgZGF0YSl7XG4gICAgICAgICAgaWYoZXJyKSBfdGhpcy5yZXMuc3RhdHVzKDUwMCkuc2VuZCgpO1xuXG4gICAgICAgICAgaWYoZGF0YSkge1xuICAgICAgICAgICAgX3RoaXMucmVzLnN0YXR1cygyMDApLmpzb24oZGF0YSk7XG4gICAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgZmV0Y2hVc2VyKCkge1xuICAgICAgbGV0IF90aGlzID0gdGhpcztcbiAgICAgIGxldCB1c2VyX2lkID0gdGhpcy5yZXEucGFyYW1zLmlkO1xuXG4gICAgICBVc2Vycy5mZXRjaFVzZXJEYXRhKHVzZXJfaWQsIGZ1bmN0aW9uKGVyciwgZGF0YSl7XG4gICAgICAgICAgaWYoZXJyKSBfdGhpcy5yZXMuc3RhdHVzKDUwMCkuc2VuZCgpO1xuXG4gICAgICAgICAgaWYoZGF0YSkge1xuICAgICAgICAgICAgX3RoaXMucmVzLnN0YXR1cygyMDApLmpzb24oZGF0YSk7XG4gICAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG5cbiAgICB1cGRhdGVVc2VyKCkge1xuICAgICAgY29uc29sZS5sb2coXCJJbnNkZSBjb250cm9sbGVyOiB1cGRhdGVVc2VyKClcIik7XG4gICAgICBsZXQgZGF0YSA9IHRoaXMucmVxLmJvZHk7XG4gICAgICBsZXQgX3RoaXMgPSB0aGlzO1xuICAgICAgY29uc29sZS5sb2coZGF0YSk7XG4gICAgICBpZihcInByb2ZpbGVfaW1hZ2VcIiBpbiAgZGF0YSkge1xuICAgICAgICBsZXQgaW1hZ2VfbmFtZSA9IF9fZGlybmFtZSArICcvLi4vLi4vcHVibGljL2ltYWdlcy91c2VyX2ltYWdlcy8nICsgZGF0YS5pZCArICcucG5nJztcbiAgICAgICAgbGV0IGJ1ZmYgPSBuZXcgQnVmZmVyKGRhdGEucHJvZmlsZV9pbWFnZVxuICAgICAgICAgICAgLnJlcGxhY2UoL15kYXRhOmltYWdlXFwvKHBuZ3xnaWZ8anBlZyk7YmFzZTY0LC8sJycpLCAnYmFzZTY0Jyk7XG5cbiAgICAgICAgZnMud3JpdGVGaWxlKGltYWdlX25hbWUsIGJ1ZmYsIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdkb25lJyk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgXG5cblxuICAgICAgVXNlcnMudXBkYXRlVXNlckRldGFpbChkYXRhLCBmdW5jdGlvbihlcnIsIGRhdGEpe1xuICAgICAgICAgIGlmKGVycikgX3RoaXMucmVzLnN0YXR1cyg1MDApLnNlbmQoZXJyKTtcblxuICAgICAgICAgIGlmKGRhdGEubj09MSkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLnJlcy5zdGF0dXMoMjAwKS5zZW5kKHttZXNzYWdlOiBcIlVzZXIgdXBkYXRlZCBzdWNjZXNzZnVsbHlcIixcInN0YXR1c1wiOlwiMVwifSk7XG4gICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBfdGhpcy5yZXMuc3RhdHVzKDIwMCkuc2VuZCh7bWVzc2FnZTogXCJEYXRhIG5vdCB1cGRhdGVkXCIsXCJzdGF0dXNcIjpcIjBcIn0pO1xuXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBmZXRjaFVzZXJCeUVtYWlsKCkge1xuICAgICAgY29uc29sZS5sb2coXCJpbnNpZGUgY29udHJvbGxlclwiKTtcbiAgICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgICBsZXQgZW1haWwgPSB0aGlzLnJlcS5ib2R5LmVtYWlsO1xuXG4gICAgICAvL190aGlzLnJlcy5zdGF0dXMoMjAwKS5zZW5kKHtyZXM6ICdkb25lJ30pO1xuXG4gICAgICBVc2Vycy5maW5kVXNlcihlbWFpbCwgZnVuY3Rpb24oZXJyLCBkYXRhKXtcbiAgICAgICAgICBpZihlcnIpIF90aGlzLnJlcy5zdGF0dXMoNTAwKS5zZW5kKCk7XG5cbiAgICAgICAgICBpZihkYXRhKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlbWFpbCsgXCIgYWxyZWFkeSBleGlzdHNcIik7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMucmVzLnN0YXR1cygyMDApLmpzb24oe21lc3NhZ2U6IGVtYWlsK1wiIGFscmVhZHkgZXhpc3RzXCIsIHN0YXR1czpcIjBcIn0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBfdGhpcy5yZXMuc3RhdHVzKDIwMCkuc2VuZCh7bWVzc2FnZTogXCJcIixcInN0YXR1c1wiOlwiMVwifSk7XG5cbiAgICAgIH0pO1xuICAgIH1cblxuXG5cbn1cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "module",
        "exports",
        "req",
        "res",
        "next",
        "console",
        "log",
        "_this",
        "data",
        "body",
        "insertUser",
        "err",
        "status",
        "send",
        "errmsg",
        "message",
        "email",
        "findUser",
        "json",
        "findAllUsers",
        "headers",
        "host",
        "adminLogin",
        "password",
        "userObj",
        "authenticateUser",
        "user_id",
        "params",
        "id",
        "deleteUser",
        "fetchUserData",
        "image_name",
        "__dirname",
        "buff",
        "Buffer",
        "profile_image",
        "replace",
        "writeFile",
        "updateUserDetail",
        "n"
      ],
      "mappings": ";;;;AAAA;;;;AACA;;;;AACA;;;;;;;;AAEAA,OAAOC,OAAP;AACI,gBAAYC,GAAZ,EAAiBC,GAAjB,EAAsBC,IAAtB,EAA4B;AAAA;;AACzB,SAAKD,GAAL,GAAWA,GAAX;AACA,SAAKD,GAAL,GAAWA,GAAX;AACA,SAAKE,IAAL,GAAYA,IAAZ;AACF;;AAEL;;;AAPA;AAAA;AAAA,iCAQiB;AACXC,cAAQC,GAAR,CAAY,mBAAZ;AACA,UAAIC,QAAQ,IAAZ;AACA,UAAIC,OAAO,KAAKN,GAAL,CAASO,IAApB;;AAEA;;AAEA,sBAAMC,UAAN,CAAiBF,IAAjB,EAAuB,UAASG,GAAT,EAAcH,IAAd,EAAmB;AACtCH,gBAAQC,GAAR,CAAYK,GAAZ;AACA,YAAGA,GAAH,EAAQJ,MAAMJ,GAAN,CAAUS,MAAV,CAAiB,GAAjB,EAAsBC,IAAtB,CAA2BF,IAAIG,MAA/B;;AAER,eAAOP,MAAMJ,GAAN,CAAUS,MAAV,CAAiB,GAAjB,EAAsBC,IAAtB,CAA2B,EAACE,SAAS,yBAAV,EAAoC,UAAS,GAA7C,EAA3B,CAAP;AACH,OALD;AAMD;AArBL;AAAA;AAAA,uCAuBuB;AACjBV,cAAQC,GAAR,CAAY,mBAAZ;AACA,UAAIC,QAAQ,IAAZ;AACA,UAAIS,QAAQ,KAAKd,GAAL,CAASO,IAAT,CAAcO,KAA1B;;AAEA;;AAEA,sBAAMC,QAAN,CAAeD,KAAf,EAAsB,UAASL,GAAT,EAAcH,IAAd,EAAmB;AACrC,YAAGG,GAAH,EAAQJ,MAAMJ,GAAN,CAAUS,MAAV,CAAiB,GAAjB,EAAsBC,IAAtB;;AAER,YAAGL,IAAH,EAAS;AACPH,kBAAQC,GAAR,CAAYU,QAAO,iBAAnB;AACAT,gBAAMJ,GAAN,CAAUS,MAAV,CAAiB,GAAjB,EAAsBM,IAAtB,CAA2B,EAACH,SAASC,QAAM,iBAAhB,EAAmCJ,QAAO,GAA1C,EAA3B;AACD,SAHD,MAGO;AACLL,gBAAMH,IAAN;AACD;AAEJ,OAVD;AAWD;AAzCL;AAAA;AAAA,iCA2CiB;AACXC,cAAQC,GAAR,CAAY,gCAAZ;AACA,UAAIU,QAAQ,KAAKd,GAAL,CAASO,IAAT,CAAcO,KAA1B;;AAEA,UAAIT,QAAQ,IAAZ;AACA,sBAAMY,YAAN,CAAmBH,KAAnB,EAAyB,KAAKd,GAAL,CAASkB,OAAT,CAAiBC,IAA1C,EAAgD,UAASV,GAAT,EAAcH,IAAd,EAAmB;AAC/D,YAAGG,GAAH,EAAQJ,MAAMJ,GAAN,CAAUS,MAAV,CAAiB,GAAjB,EAAsBC,IAAtB;;AAER,YAAGL,IAAH,EAAS;AACPD,gBAAMJ,GAAN,CAAUS,MAAV,CAAiB,GAAjB,EAAsBM,IAAtB,CAA2B,EAACV,MAAKA,IAAN,EAAYI,QAAO,GAAnB,EAAuBU,YAAW,IAAlC,EAA3B;AACD;AAEJ,OAPD;AASD;AAzDL;AAAA;AAAA,gCA2DgB;AACVjB,cAAQC,GAAR,CAAY,+BAAZ;AACA,UAAIC,QAAQ,IAAZ;AACA,UAAIS,QAAQ,KAAKd,GAAL,CAASO,IAAT,CAAcO,KAA1B;AACA,UAAIO,WAAW,KAAKrB,GAAL,CAASO,IAAT,CAAcc,QAA7B;;AAEA,UAAIC,UAAU,EAACR,YAAD,EAAQO,kBAAR,EAAd;;AAEA,sBAAME,gBAAN,CAAuBD,OAAvB,EAAgC,UAASb,GAAT,EAAcH,IAAd,EAAmB;AAC/C,YAAGG,GAAH,EAAQJ,MAAMJ,GAAN,CAAUS,MAAV,CAAiB,GAAjB,EAAsBC,IAAtB;;AAERR,gBAAQC,GAAR,CAAY,2BAAZ,EAAyCE,IAAzC;;AAEA,YAAGA,IAAH,EAAS;AACPD,gBAAMJ,GAAN,CAAUS,MAAV,CAAiB,GAAjB,EAAsBM,IAAtB,CAA2B,EAACV,MAAKA,IAAN,EAAYI,QAAO,GAAnB,EAA3B;AACD;AAEJ,OATD;AAWD;AA9EL;AAAA;AAAA,iCAgFiB;AACX,UAAIL,QAAQ,IAAZ;AACA,UAAImB,UAAU,KAAKxB,GAAL,CAASyB,MAAT,CAAgBC,EAA9B;;AAEA,sBAAMC,UAAN,CAAiBH,OAAjB,EAA0B,UAASf,GAAT,EAAcH,IAAd,EAAmB;AACzC,YAAGG,GAAH,EAAQJ,MAAMJ,GAAN,CAAUS,MAAV,CAAiB,GAAjB,EAAsBC,IAAtB;;AAER,YAAGL,IAAH,EAAS;AACPD,gBAAMJ,GAAN,CAAUS,MAAV,CAAiB,GAAjB,EAAsBM,IAAtB,CAA2BV,IAA3B;AACD;AACJ,OAND;AAOD;AA3FL;AAAA;AAAA,gCA6FgB;AACV,UAAID,QAAQ,IAAZ;AACA,UAAImB,UAAU,KAAKxB,GAAL,CAASyB,MAAT,CAAgBC,EAA9B;;AAEA,sBAAME,aAAN,CAAoBJ,OAApB,EAA6B,UAASf,GAAT,EAAcH,IAAd,EAAmB;AAC5C,YAAGG,GAAH,EAAQJ,MAAMJ,GAAN,CAAUS,MAAV,CAAiB,GAAjB,EAAsBC,IAAtB;;AAER,YAAGL,IAAH,EAAS;AACPD,gBAAMJ,GAAN,CAAUS,MAAV,CAAiB,GAAjB,EAAsBM,IAAtB,CAA2BV,IAA3B;AACD;AACJ,OAND;AAOD;AAxGL;AAAA;AAAA,iCA2GiB;AACXH,cAAQC,GAAR,CAAY,gCAAZ;AACA,UAAIE,OAAO,KAAKN,GAAL,CAASO,IAApB;AACA,UAAIF,QAAQ,IAAZ;AACAF,cAAQC,GAAR,CAAYE,IAAZ;AACA,UAAG,mBAAoBA,IAAvB,EAA6B;AAC3B,YAAIuB,aAAaC,YAAY,mCAAZ,GAAkDxB,KAAKoB,EAAvD,GAA4D,MAA7E;AACA,YAAIK,OAAO,IAAIC,MAAJ,CAAW1B,KAAK2B,aAAL,CACjBC,OADiB,CACT,qCADS,EAC6B,EAD7B,CAAX,EAC6C,QAD7C,CAAX;;AAGA,qBAAGC,SAAH,CAAaN,UAAb,EAAyBE,IAAzB,EAA+B,UAAUtB,GAAV,EAAe;AAC1CN,kBAAQC,GAAR,CAAY,MAAZ;AACH,SAFD;AAGD;;AAID,sBAAMgC,gBAAN,CAAuB9B,IAAvB,EAA6B,UAASG,GAAT,EAAcH,IAAd,EAAmB;AAC5C,YAAGG,GAAH,EAAQJ,MAAMJ,GAAN,CAAUS,MAAV,CAAiB,GAAjB,EAAsBC,IAAtB,CAA2BF,GAA3B;;AAER,YAAGH,KAAK+B,CAAL,IAAQ,CAAX,EAAc;AACZ,iBAAOhC,MAAMJ,GAAN,CAAUS,MAAV,CAAiB,GAAjB,EAAsBC,IAAtB,CAA2B,EAACE,SAAS,2BAAV,EAAsC,UAAS,GAA/C,EAA3B,CAAP;AACD,SAFD,MAEO,CAEN;;AAED,eAAOR,MAAMJ,GAAN,CAAUS,MAAV,CAAiB,GAAjB,EAAsBC,IAAtB,CAA2B,EAACE,SAAS,kBAAV,EAA6B,UAAS,GAAtC,EAA3B,CAAP;AAEH,OAXD;AAYD;AAxIL;AAAA;AAAA,uCA0IuB;AACjBV,cAAQC,GAAR,CAAY,mBAAZ;AACA,UAAIC,QAAQ,IAAZ;AACA,UAAIS,QAAQ,KAAKd,GAAL,CAASO,IAAT,CAAcO,KAA1B;;AAEA;;AAEA,sBAAMC,QAAN,CAAeD,KAAf,EAAsB,UAASL,GAAT,EAAcH,IAAd,EAAmB;AACrC,YAAGG,GAAH,EAAQJ,MAAMJ,GAAN,CAAUS,MAAV,CAAiB,GAAjB,EAAsBC,IAAtB;;AAER,YAAGL,IAAH,EAAS;AACPH,kBAAQC,GAAR,CAAYU,QAAO,iBAAnB;AACA,iBAAOT,MAAMJ,GAAN,CAAUS,MAAV,CAAiB,GAAjB,EAAsBM,IAAtB,CAA2B,EAACH,SAASC,QAAM,iBAAhB,EAAmCJ,QAAO,GAA1C,EAA3B,CAAP;AACD;;AAED,eAAOL,MAAMJ,GAAN,CAAUS,MAAV,CAAiB,GAAjB,EAAsBC,IAAtB,CAA2B,EAACE,SAAS,EAAV,EAAa,UAAS,GAAtB,EAA3B,CAAP;AAEH,OAVD;AAWD;AA5JL;;AAAA;AAAA",
      "file": "index.js",
      "sourceRoot": "/home/monometic/custom_modules/users",
      "sourcesContent": [
        "import Users from './models/users.js';\nimport mongoose from 'mongoose';\nimport fs from 'fs';\n\nmodule.exports = class User {\n    constructor(req, res, next) {\n       this.res = res;\n       this.req = req;\n       this.next = next;\n    }\n\n/*To add new questionnaire category*/\n    insertUser() {\n      console.log(\"inside controller\");\n      let _this = this;\n      let data = this.req.body;\n\n      //_this.res.status(200).send({res: 'done'});\n\n      Users.insertUser(data, function(err, data){\n          console.log(err);\n          if(err) _this.res.status(500).send(err.errmsg);\n\n          return _this.res.status(200).send({message: \"User added successfully\",\"status\":\"1\"});\n      });\n    }\n\n    checkEmailExists() {\n      console.log(\"inside controller\");\n      let _this = this;\n      let email = this.req.body.email;\n\n      //_this.res.status(200).send({res: 'done'});\n\n      Users.findUser(email, function(err, data){\n          if(err) _this.res.status(500).send();\n\n          if(data) {\n            console.log(email+ \" already exists\");\n            _this.res.status(200).json({message: email+\" already exists\", status:\"0\"});\n          } else {\n            _this.next();\n          }\n\n      });\n    }\n\n    fetchUsers() {\n      console.log(\"Insde controller: fetchUsers()\");\n      let email = this.req.body.email;\n\n      let _this = this;\n      Users.findAllUsers(email,this.req.headers.host, function(err, data){\n          if(err) _this.res.status(500).send();\n\n          if(data) {\n            _this.res.status(200).json({data:data, status:\"1\",adminLogin:true});\n          }\n\n      });\n\n    }\n\n    loginUser() {\n      console.log(\"Insde controller: loginUser()\");\n      let _this = this;\n      let email = this.req.body.email;\n      let password = this.req.body.password;\n\n      let userObj = {email, password};\n\n      Users.authenticateUser(userObj, function(err, data){\n          if(err) _this.res.status(500).send();\n\n          console.log(\"user data in controller: \", data);\n\n          if(data) {\n            _this.res.status(200).json({data:data, status:\"1\"});\n          }\n\n      });\n\n    }\n\n    deleteUser() {\n      let _this = this;\n      let user_id = this.req.params.id;\n\n      Users.deleteUser(user_id, function(err, data){\n          if(err) _this.res.status(500).send();\n\n          if(data) {\n            _this.res.status(200).json(data);\n          }\n      });\n    }\n\n    fetchUser() {\n      let _this = this;\n      let user_id = this.req.params.id;\n\n      Users.fetchUserData(user_id, function(err, data){\n          if(err) _this.res.status(500).send();\n\n          if(data) {\n            _this.res.status(200).json(data);\n          }\n      });\n    }\n\n\n    updateUser() {\n      console.log(\"Insde controller: updateUser()\");\n      let data = this.req.body;\n      let _this = this;\n      console.log(data);\n      if(\"profile_image\" in  data) {\n        let image_name = __dirname + '/../../public/images/user_images/' + data.id + '.png';\n        let buff = new Buffer(data.profile_image\n            .replace(/^data:image\\/(png|gif|jpeg);base64,/,''), 'base64');\n\n        fs.writeFile(image_name, buff, function (err) {\n            console.log('done');\n        });\n      }\n      \n\n\n      Users.updateUserDetail(data, function(err, data){\n          if(err) _this.res.status(500).send(err);\n\n          if(data.n==1) {\n            return _this.res.status(200).send({message: \"User updated successfully\",\"status\":\"1\"});\n          } else {\n\n          }\n\n          return _this.res.status(200).send({message: \"Data not updated\",\"status\":\"0\"});\n\n      });\n    }\n\n    fetchUserByEmail() {\n      console.log(\"inside controller\");\n      let _this = this;\n      let email = this.req.body.email;\n\n      //_this.res.status(200).send({res: 'done'});\n\n      Users.findUser(email, function(err, data){\n          if(err) _this.res.status(500).send();\n\n          if(data) {\n            console.log(email+ \" already exists\");\n            return _this.res.status(200).json({message: email+\" already exists\", status:\"0\"});\n          }\n\n          return _this.res.status(200).send({message: \"\",\"status\":\"1\"});\n\n      });\n    }\n\n\n\n}\n"
      ]
    },
    "mtime": 1495715245893
  },
  "{\"filename\":\"/home/monometic/custom_modules/users/models/users.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/monometic/custom_modules/users/models\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.1": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "mongoose",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "mongoose"
              }
            ]
          },
          {
            "source": "fs",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "fs"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/monometic/custom_modules/users/models/users.js",
      "filenameRelative": "/home/monometic/custom_modules/users/models/users.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "users.js",
      "sourceFileName": "users.js",
      "sourceRoot": "/home/monometic/custom_modules/users/models",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/monometic/custom_modules/users/models",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "users"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _mongoose = require('mongoose');\n\nvar _mongoose2 = _interopRequireDefault(_mongoose);\n\nvar _fs = require('fs');\n\nvar _fs2 = _interopRequireDefault(_fs);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar ObjectId = require('mongoose').Types.ObjectId;\n\n\n// let healthAreaSchema = mongoose.Schema({\n// \t_id: {\n// \t\ttype: mongoose.Schema.Types.ObjectId,\n// \t\trequired: false\n// \t}\n// });\n\nvar Users = _mongoose2.default.Schema({\n\tfirst_name: {\n\t\ttype: Object,\n\t\trequired: true\n\t},\n\tlast_name: {\n\t\ttype: Object,\n\t\trequired: true\n\t},\n\tpassword: {\n\t\ttype: Object,\n\t\trequired: true\n\t},\n\temail: {\n\t\ttype: Object\n\t},\n\tcreated: {\n\t\ttype: Date,\n\t\tdefault: new Date()\n\t},\n\tcreatedBy: {\n\t\ttype: _mongoose2.default.Schema.Types.ObjectId,\n\t\trequired: false\n\t},\n\tmodified: {\n\t\ttype: Date,\n\t\trequired: false\n\t},\n\tmodifiedBy: {\n\t\ttype: _mongoose2.default.Schema.Types.ObjectId,\n\t\trequired: false\n\t},\n\tuser_status: {\n\t\ttype: Number\n\t},\n\n\tdel: {\n\t\ttype: Number, default: 0\n\t}\n});\n\nvar passportLocalMongoose = require('passport-local-mongoose');\n\nUsers.plugin(passportLocalMongoose);\n\nUsers.statics.insertUser = function (data, callBack) {\n\tconsole.log(\"inside register function\");\n\n\tvar user = new this(data);\n\tconsole.log(data);\n\n\tuser.save(function (err, res) {\n\t\tif (!res) callBack(err, null);\n\t\tcallBack(null, res);\n\t});\n};\n\nUsers.statics.findUser = function (email, callBack) {\n\tconsole.log(\"Inside find user method, email: \", email);\n\n\tthis.findOne({ email: email }, function (err, user) {\n\t\tif (err) return callBack(null, null);\n\t\tconsole.log(\"user data: \", user);\n\n\t\tif (user) return callBack(null, user);\n\t\treturn callBack(null, null);\n\t});\n};\n\nUsers.statics.findAllUsers = function (email, serverhost, callBack) {\n\tthis.find({}, { \"email\": 1, \"first_name\": 1 }, function (err, user) {\n\t\tif (err) return callBack(null, null);\n\n\t\tif (user) {\n\t\t\tvar userData = [];\n\t\t\ttry {\n\t\t\t\tfor (var i = user.length - 1; i >= 0; i--) {\n\t\t\t\t\tvar data = {\n\t\t\t\t\t\t_id: user[i]._id,\n\t\t\t\t\t\tfirst_name: user[i].first_name,\n\t\t\t\t\t\temail: user[i].email\n\t\t\t\t\t};\n\n\t\t\t\t\tvar image_path = __dirname + '/../../../public/images/user_images/' + user[i]._id + '.png';\n\t\t\t\t\tdata.profile_image = \"http://\" + serverhost + \"/images/user_images/no_image.jpg\";\n\t\t\t\t\tif (_fs2.default.existsSync(image_path)) {\n\t\t\t\t\t\tdata.profile_image = \"http://\" + serverhost + \"/images/user_images/\" + user[i]._id + \".png\";\n\t\t\t\t\t}\n\n\t\t\t\t\tuserData.push(data);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tconsole.log(e);\n\t\t\t}\n\t\t\treturn callBack(null, userData);\n\t\t}\n\t\treturn callBack(null, null);\n\t});\n};\n\nUsers.statics.authenticateUser = function (_ref) {\n\tvar email = _ref.email,\n\t    password = _ref.password;\n\n\tconsole.log(\"inside model data:\" + email + \", password: \" + password);\n\n\tthis.findOne({ email: email }, function (err, user) {\n\t\tif (err) return callBack(null, null);\n\t\tconsole.log(\"user data: \", user);\n\t\tif (user) return callBack(null, user);\n\t\treturn callBack(null, null);\n\t});\n};\n\nUsers.statics.deleteUser = function (id, callBack) {\n\tconsole.log(\"Inside delete user method, id:\", id);\n\n\tthis.remove({ _id: { $eq: id } }).exec(function (err, response) {\n\n\t\tif (err) {\n\t\t\tif (err) return callBack(null, null);\n\t\t}\n\n\t\tif (response.result.n == 0) {\n\t\t\treturn callBack(null, { message: \"No record deleted\" });\n\t\t}\n\n\t\treturn callBack(null, { message: \"Data deleted\" });\n\t});\n};\n\nUsers.statics.fetchUserData = function (id, callBack) {\n\tconsole.log(\"Inside fetchUserData, id: \", id);\n\n\tthis.findOne({ _id: id }, { password: 0, __v: 0 }, function (err, user) {\n\t\tif (err) return callBack(null, null);\n\t\tconsole.log(\"user data: \", user);\n\t\tif (user) return callBack(null, user);\n\t\treturn callBack(null, null);\n\t});\n};\n\nUsers.statics.updateUserDetail = function (data, callBack) {\n\tconsole.log(\"Inside updateUserDetail, id: \", data.id);\n\n\tvar userId = data.id;\n\n\tdata.modified = new Date();\n\tdelete data._id;\n\tvar user = new this(data);\n\tthis.update({ _id: userId }, { $set: data }, function (err, res) {\n\t\tif (!res) callBack(err, null);\n\n\t\tcallBack(null, res);\n\t});\n};\n\nexports.default = _mongoose2.default.model('users', Users);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJzLmpzIl0sIm5hbWVzIjpbIk9iamVjdElkIiwicmVxdWlyZSIsIlR5cGVzIiwiVXNlcnMiLCJTY2hlbWEiLCJmaXJzdF9uYW1lIiwidHlwZSIsIk9iamVjdCIsInJlcXVpcmVkIiwibGFzdF9uYW1lIiwicGFzc3dvcmQiLCJlbWFpbCIsImNyZWF0ZWQiLCJEYXRlIiwiZGVmYXVsdCIsImNyZWF0ZWRCeSIsIm1vZGlmaWVkIiwibW9kaWZpZWRCeSIsInVzZXJfc3RhdHVzIiwiTnVtYmVyIiwiZGVsIiwicGFzc3BvcnRMb2NhbE1vbmdvb3NlIiwicGx1Z2luIiwic3RhdGljcyIsImluc2VydFVzZXIiLCJkYXRhIiwiY2FsbEJhY2siLCJjb25zb2xlIiwibG9nIiwidXNlciIsInNhdmUiLCJlcnIiLCJyZXMiLCJmaW5kVXNlciIsImZpbmRPbmUiLCJmaW5kQWxsVXNlcnMiLCJzZXJ2ZXJob3N0IiwiZmluZCIsInVzZXJEYXRhIiwiaSIsImxlbmd0aCIsIl9pZCIsImltYWdlX3BhdGgiLCJfX2Rpcm5hbWUiLCJwcm9maWxlX2ltYWdlIiwiZXhpc3RzU3luYyIsInB1c2giLCJlIiwiYXV0aGVudGljYXRlVXNlciIsImRlbGV0ZVVzZXIiLCJpZCIsInJlbW92ZSIsIiRlcSIsImV4ZWMiLCJyZXNwb25zZSIsInJlc3VsdCIsIm4iLCJtZXNzYWdlIiwiZmV0Y2hVc2VyRGF0YSIsIl9fdiIsInVwZGF0ZVVzZXJEZXRhaWwiLCJ1c2VySWQiLCJ1cGRhdGUiLCIkc2V0IiwibW9kZWwiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBOzs7O0FBRUE7Ozs7OztBQURBLElBQUlBLFdBQVdDLFFBQVEsVUFBUixFQUFvQkMsS0FBcEIsQ0FBMEJGLFFBQXpDOzs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsSUFBTUcsUUFBUSxtQkFBU0MsTUFBVCxDQUFnQjtBQUM1QkMsYUFBYTtBQUNaQyxRQUFNQyxNQURNO0FBRVZDLFlBQVU7QUFGQSxFQURlO0FBSzFC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LFNBQU9ILFNBQVMsSUFBVCxFQUFlLElBQWYsQ0FBUDtBQUNBLEVBTEQ7QUFNQSxDQVREOztBQVdBdkIsTUFBTW9CLE9BQU4sQ0FBY3FDLGdCQUFkLEdBQWlDLFVBQVNuQyxJQUFULEVBQWVDLFFBQWYsRUFBeUI7QUFDekRDLFNBQVFDLEdBQVIsQ0FBWSwrQkFBWixFQUE2Q0gsS0FBS3lCLEVBQWxEOztBQUVBLEtBQUlXLFNBQVNwQyxLQUFLeUIsRUFBbEI7O0FBRUF6QixNQUFLVCxRQUFMLEdBQWdCLElBQUlILElBQUosRUFBaEI7QUFDQSxRQUFPWSxLQUFLZ0IsR0FBWjtBQUNBLEtBQUlaLE9BQU8sSUFBSSxJQUFKLENBQVNKLElBQVQsQ0FBWDtBQUNBLE1BQUtxQyxNQUFMLENBQVksRUFBQ3JCLEtBQUtvQixNQUFOLEVBQVosRUFBMkIsRUFBQ0UsTUFBTXRDLElBQVAsRUFBM0IsRUFBd0MsVUFBU00sR0FBVCxFQUFjQyxHQUFkLEVBQW1CO0FBQzFELE1BQUcsQ0FBQ0EsR0FBSixFQUFTTixTQUFTSyxHQUFULEVBQWMsSUFBZDs7QUFFVEwsV0FBVSxJQUFWLEVBQWdCTSxHQUFoQjtBQUNBLEVBSkQ7QUFLQSxDQWJEOztrQkFpQmUsbUJBQVNnQyxLQUFULENBQWUsT0FBZixFQUF3QjdELEtBQXhCLEMiLCJmaWxlIjoidXNlcnMuanMiLCJzb3VyY2VSb290IjoiL2hvbWUvbW9ub21ldGljL2N1c3RvbV9tb2R1bGVzL3VzZXJzL21vZGVscyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSc7XG5sZXQgT2JqZWN0SWQgPSByZXF1aXJlKCdtb25nb29zZScpLlR5cGVzLk9iamVjdElkO1xuaW1wb3J0IGZzIGZyb20gJ2ZzJztcblxuXG4vLyBsZXQgaGVhbHRoQXJlYVNjaGVtYSA9IG1vbmdvb3NlLlNjaGVtYSh7XG4vLyBcdF9pZDoge1xuLy8gXHRcdHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCxcbi8vIFx0XHRyZXF1aXJlZDogZmFsc2Vcbi8vIFx0fVxuLy8gfSk7XG5cbmNvbnN0IFVzZXJzID0gbW9uZ29vc2UuU2NoZW1hKHtcblx0XHRmaXJzdF9uYW1lIDoge1xuXHRcdCB0eXBlOiBPYmplY3QsXG4gICAgIHJlcXVpcmVkOiB0cnVlXG5cdFx0fSxcbiAgICBsYXN0X25hbWUgOiB7XG5cdFx0IHR5cGU6IE9iamVjdCxcbiAgICAgcmVxdWlyZWQ6IHRydWVcblx0XHR9LFxuXHRcdHBhc3N3b3JkOntcblx0XHRcdHR5cGU6IE9iamVjdCxcbiAgICAgIHJlcXVpcmVkOiB0cnVlXG5cdFx0fSxcbiAgICBlbWFpbCA6IHtcblx0XHQgdHlwZTogT2JqZWN0LFxuICAgICAvL3JlcXVpcmVkOiB0cnVlXG5cdFx0fSxcblx0XHRjcmVhdGVkOiB7XG5cdFx0ICAgIHR5cGU6IERhdGUsXG5cdFx0ICAgIGRlZmF1bHQgOiBuZXcgRGF0ZSgpXG5cdFx0fSxcblx0XHRjcmVhdGVkQnk6IHtcblx0XHQgICAgdHlwZTogbW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkLFxuXHRcdCAgICByZXF1aXJlZDogZmFsc2Vcblx0XHR9LFxuXHRcdG1vZGlmaWVkOiB7XG5cdFx0ICAgIHR5cGU6IERhdGUsXG5cdFx0ICAgIHJlcXVpcmVkOiBmYWxzZVxuXHRcdH0sXG5cdFx0bW9kaWZpZWRCeToge1xuXHRcdCAgICB0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsXG5cdFx0ICAgIHJlcXVpcmVkOiBmYWxzZVxuXHRcdH0sXG5cdFx0dXNlcl9zdGF0dXM6IHtcblx0XHRcdHR5cGU6IE51bWJlclxuXHRcdH1cblx0XHQsXG5cdFx0ZGVsOiB7XG5cdFx0XHR0eXBlOiBOdW1iZXIsIGRlZmF1bHQ6IDBcblx0XHR9XG59KTtcblxudmFyIHBhc3Nwb3J0TG9jYWxNb25nb29zZSA9IHJlcXVpcmUoJ3Bhc3Nwb3J0LWxvY2FsLW1vbmdvb3NlJyk7XG5cblVzZXJzLnBsdWdpbihwYXNzcG9ydExvY2FsTW9uZ29vc2UpO1xuXG5Vc2Vycy5zdGF0aWNzLmluc2VydFVzZXIgPSBmdW5jdGlvbihkYXRhLCBjYWxsQmFjayl7XG4gIGNvbnNvbGUubG9nKFwiaW5zaWRlIHJlZ2lzdGVyIGZ1bmN0aW9uXCIpO1xuXG4gIGxldCB1c2VyID0gbmV3IHRoaXMoZGF0YSk7XG5cdGNvbnNvbGUubG9nKGRhdGEpO1xuXG4gIHVzZXIuc2F2ZShmdW5jdGlvbihlcnIsIHJlcykge1xuICAgIGlmKCFyZXMpIGNhbGxCYWNrKGVyciwgbnVsbCk7XG4gICAgY2FsbEJhY2soIG51bGwsIHJlcyk7XG4gIH0pO1xuXG59XG5cblVzZXJzLnN0YXRpY3MuZmluZFVzZXIgPSBmdW5jdGlvbihlbWFpbCwgY2FsbEJhY2spIHtcblx0Y29uc29sZS5sb2coXCJJbnNpZGUgZmluZCB1c2VyIG1ldGhvZCwgZW1haWw6IFwiLCBlbWFpbCk7XG5cblx0dGhpcy5maW5kT25lKHtlbWFpbDplbWFpbH0sZnVuY3Rpb24oZXJyLCB1c2VyKXtcblx0XHRpZihlcnIpIHJldHVybiBjYWxsQmFjayhudWxsLCBudWxsKTtcblx0XHRjb25zb2xlLmxvZyhcInVzZXIgZGF0YTogXCIsIHVzZXIpO1xuXG5cdFx0aWYodXNlcikgcmV0dXJuIGNhbGxCYWNrKG51bGwsIHVzZXIpO1xuXHRcdHJldHVybiBjYWxsQmFjayhudWxsLCBudWxsKTtcblx0fSk7XG5cblxufVxuXG5Vc2Vycy5zdGF0aWNzLmZpbmRBbGxVc2VycyA9IGZ1bmN0aW9uKGVtYWlsLHNlcnZlcmhvc3QsIGNhbGxCYWNrKSB7XG5cdHRoaXMuZmluZCh7fSx7XCJlbWFpbFwiOjEsXCJmaXJzdF9uYW1lXCI6IDFcdH0sZnVuY3Rpb24oZXJyLCB1c2VyKXtcblx0XHRpZihlcnIpIHJldHVybiBjYWxsQmFjayhudWxsLCBudWxsKTtcblxuXHRcdGlmKHVzZXIpIHtcblx0XHRcdGxldCB1c2VyRGF0YSA9IFtdO1xuXHRcdFx0dHJ5e1xuXHRcdFx0XHRmb3IgKHZhciBpID0gdXNlci5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuXHRcdFx0XHRcdGxldCBkYXRhID0ge1xuXHRcdFx0XHRcdFx0X2lkIDogdXNlcltpXS5faWQsXG5cdFx0XHRcdFx0XHRmaXJzdF9uYW1lIDogdXNlcltpXS5maXJzdF9uYW1lLFxuXHRcdFx0XHRcdFx0ZW1haWwgOiB1c2VyW2ldLmVtYWlsXG5cdFx0XHRcdFx0fTtcblxuXG5cdFx0XHRcdFx0bGV0IGltYWdlX3BhdGggPSBfX2Rpcm5hbWUgKyAnLy4uLy4uLy4uL3B1YmxpYy9pbWFnZXMvdXNlcl9pbWFnZXMvJyArIHVzZXJbaV0uX2lkICsgJy5wbmcnO1xuXHRcdFx0XHRcdGRhdGEucHJvZmlsZV9pbWFnZT0gIFwiaHR0cDovL1wiICsgc2VydmVyaG9zdCArIFwiL2ltYWdlcy91c2VyX2ltYWdlcy9ub19pbWFnZS5qcGdcIjtcblx0XHRcdFx0XHRpZiAoZnMuZXhpc3RzU3luYyhpbWFnZV9wYXRoKSkge1xuXHRcdFx0XHRcdFx0ZGF0YS5wcm9maWxlX2ltYWdlID0gXCJodHRwOi8vXCIgKyBzZXJ2ZXJob3N0ICsgXCIvaW1hZ2VzL3VzZXJfaW1hZ2VzL1wiICsgdXNlcltpXS5faWQgKyBcIi5wbmdcIlxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHVzZXJEYXRhLnB1c2goZGF0YSk7XG5cdFx0XHRcdH1cblxuXHRcdFx0fSBjYXRjaChlKSB7XG5cdFx0XHRcdGNvbnNvbGUubG9nKGUpO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGNhbGxCYWNrKG51bGwsIHVzZXJEYXRhKTtcblx0XHR9XG5cdFx0cmV0dXJuIGNhbGxCYWNrKG51bGwsIG51bGwpO1xuXHR9KTtcblxufVxuXG5Vc2Vycy5zdGF0aWNzLmF1dGhlbnRpY2F0ZVVzZXIgPSBmdW5jdGlvbih7ZW1haWwsIHBhc3N3b3JkfSkge1xuXHRjb25zb2xlLmxvZyhcImluc2lkZSBtb2RlbCBkYXRhOlwiICsgZW1haWwgKyBcIiwgcGFzc3dvcmQ6IFwiICsgcGFzc3dvcmQpO1xuXG5cdHRoaXMuZmluZE9uZSh7ZW1haWw6ZW1haWx9LGZ1bmN0aW9uKGVyciwgdXNlcil7XG5cdFx0aWYoZXJyKSByZXR1cm4gY2FsbEJhY2sobnVsbCwgbnVsbCk7XG5cdFx0Y29uc29sZS5sb2coXCJ1c2VyIGRhdGE6IFwiLCB1c2VyKTtcblx0XHRpZih1c2VyKSByZXR1cm4gY2FsbEJhY2sobnVsbCwgdXNlcik7XG5cdFx0cmV0dXJuIGNhbGxCYWNrKG51bGwsIG51bGwpO1xuXHR9KTtcbn1cblxuVXNlcnMuc3RhdGljcy5kZWxldGVVc2VyID0gZnVuY3Rpb24oaWQsIGNhbGxCYWNrKSB7XG5cdGNvbnNvbGUubG9nKFwiSW5zaWRlIGRlbGV0ZSB1c2VyIG1ldGhvZCwgaWQ6XCIsIGlkKTtcblxuXHR0aGlzLnJlbW92ZSggeyBfaWQ6IHsgJGVxOiBpZCB9IH0pLmV4ZWMoZnVuY3Rpb24oZXJyLCByZXNwb25zZSl7XG5cdFx0XG5cdFx0aWYoZXJyKSB7XG5cdFx0XHRpZihlcnIpIHJldHVybiBjYWxsQmFjayhudWxsLCBudWxsKTtcblx0XHR9XG5cblx0XHRpZihyZXNwb25zZS5yZXN1bHQubiA9PSAwKSB7XG5cdFx0XHRyZXR1cm4gY2FsbEJhY2sobnVsbCwge21lc3NhZ2U6XCJObyByZWNvcmQgZGVsZXRlZFwifSk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGNhbGxCYWNrKG51bGwsIHttZXNzYWdlOlwiRGF0YSBkZWxldGVkXCJ9KTtcblx0fSk7XG5cbn1cblxuVXNlcnMuc3RhdGljcy5mZXRjaFVzZXJEYXRhID0gZnVuY3Rpb24oaWQsIGNhbGxCYWNrKSB7XG5cdGNvbnNvbGUubG9nKFwiSW5zaWRlIGZldGNoVXNlckRhdGEsIGlkOiBcIiwgaWQpO1xuXG5cdHRoaXMuZmluZE9uZSh7X2lkOmlkfSx7cGFzc3dvcmQ6MCwgX192OjB9LGZ1bmN0aW9uKGVyciwgdXNlcil7XG5cdFx0aWYoZXJyKSByZXR1cm4gY2FsbEJhY2sobnVsbCwgbnVsbCk7XG5cdFx0Y29uc29sZS5sb2coXCJ1c2VyIGRhdGE6IFwiLCB1c2VyKTtcblx0XHRpZih1c2VyKSByZXR1cm4gY2FsbEJhY2sobnVsbCwgdXNlcik7XG5cdFx0cmV0dXJuIGNhbGxCYWNrKG51bGwsIG51bGwpO1xuXHR9KTtcbn1cblxuVXNlcnMuc3RhdGljcy51cGRhdGVVc2VyRGV0YWlsID0gZnVuY3Rpb24oZGF0YSwgY2FsbEJhY2spIHtcblx0Y29uc29sZS5sb2coXCJJbnNpZGUgdXBkYXRlVXNlckRldGFpbCwgaWQ6IFwiLCBkYXRhLmlkKTtcblxuXHRsZXQgdXNlcklkID0gZGF0YS5pZDtcblxuXHRkYXRhLm1vZGlmaWVkID0gbmV3IERhdGUoKTtcblx0ZGVsZXRlIGRhdGEuX2lkO1xuXHRsZXQgdXNlciA9IG5ldyB0aGlzKGRhdGEpO1xuXHR0aGlzLnVwZGF0ZSh7X2lkOiB1c2VySWR9LCB7JHNldDogZGF0YX0sZnVuY3Rpb24oZXJyLCByZXMpIHtcblx0XHRpZighcmVzKSBjYWxsQmFjayhlcnIsIG51bGwpO1xuXG5cdFx0Y2FsbEJhY2soIG51bGwsIHJlcyk7XG5cdH0pO1xufVxuXG5cblxuZXhwb3J0IGRlZmF1bHQgbW9uZ29vc2UubW9kZWwoJ3VzZXJzJywgVXNlcnMpO1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "users.js"
      ],
      "names": [
        "ObjectId",
        "require",
        "Types",
        "Users",
        "Schema",
        "first_name",
        "type",
        "Object",
        "required",
        "last_name",
        "password",
        "email",
        "created",
        "Date",
        "default",
        "createdBy",
        "modified",
        "modifiedBy",
        "user_status",
        "Number",
        "del",
        "passportLocalMongoose",
        "plugin",
        "statics",
        "insertUser",
        "data",
        "callBack",
        "console",
        "log",
        "user",
        "save",
        "err",
        "res",
        "findUser",
        "findOne",
        "findAllUsers",
        "serverhost",
        "find",
        "userData",
        "i",
        "length",
        "_id",
        "image_path",
        "__dirname",
        "profile_image",
        "existsSync",
        "push",
        "e",
        "authenticateUser",
        "deleteUser",
        "id",
        "remove",
        "$eq",
        "exec",
        "response",
        "result",
        "n",
        "message",
        "fetchUserData",
        "__v",
        "updateUserDetail",
        "userId",
        "update",
        "$set",
        "model"
      ],
      "mappings": "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",
      "file": "users.js",
      "sourceRoot": "/home/monometic/custom_modules/users/models",
      "sourcesContent": [
        "import mongoose from 'mongoose';\nlet ObjectId = require('mongoose').Types.ObjectId;\nimport fs from 'fs';\n\n\n// let healthAreaSchema = mongoose.Schema({\n// \t_id: {\n// \t\ttype: mongoose.Schema.Types.ObjectId,\n// \t\trequired: false\n// \t}\n// });\n\nconst Users = mongoose.Schema({\n\t\tfirst_name : {\n\t\t type: Object,\n     required: true\n\t\t},\n    last_name : {\n\t\t type: Object,\n     required: true\n\t\t},\n\t\tpassword:{\n\t\t\ttype: Object,\n      required: true\n\t\t},\n    email : {\n\t\t type: Object,\n     //required: true\n\t\t},\n\t\tcreated: {\n\t\t    type: Date,\n\t\t    default : new Date()\n\t\t},\n\t\tcreatedBy: {\n\t\t    type: mongoose.Schema.Types.ObjectId,\n\t\t    required: false\n\t\t},\n\t\tmodified: {\n\t\t    type: Date,\n\t\t    required: false\n\t\t},\n\t\tmodifiedBy: {\n\t\t    type: mongoose.Schema.Types.ObjectId,\n\t\t    required: false\n\t\t},\n\t\tuser_status: {\n\t\t\ttype: Number\n\t\t}\n\t\t,\n\t\tdel: {\n\t\t\ttype: Number, default: 0\n\t\t}\n});\n\nvar passportLocalMongoose = require('passport-local-mongoose');\n\nUsers.plugin(passportLocalMongoose);\n\nUsers.statics.insertUser = function(data, callBack){\n  console.log(\"inside register function\");\n\n  let user = new this(data);\n\tconsole.log(data);\n\n  user.save(function(err, res) {\n    if(!res) callBack(err, null);\n    callBack( null, res);\n  });\n\n}\n\nUsers.statics.findUser = function(email, callBack) {\n\tconsole.log(\"Inside find user method, email: \", email);\n\n\tthis.findOne({email:email},function(err, user){\n\t\tif(err) return callBack(null, null);\n\t\tconsole.log(\"user data: \", user);\n\n\t\tif(user) return callBack(null, user);\n\t\treturn callBack(null, null);\n\t});\n\n\n}\n\nUsers.statics.findAllUsers = function(email,serverhost, callBack) {\n\tthis.find({},{\"email\":1,\"first_name\": 1\t},function(err, user){\n\t\tif(err) return callBack(null, null);\n\n\t\tif(user) {\n\t\t\tlet userData = [];\n\t\t\ttry{\n\t\t\t\tfor (var i = user.length - 1; i >= 0; i--) {\n\t\t\t\t\tlet data = {\n\t\t\t\t\t\t_id : user[i]._id,\n\t\t\t\t\t\tfirst_name : user[i].first_name,\n\t\t\t\t\t\temail : user[i].email\n\t\t\t\t\t};\n\n\n\t\t\t\t\tlet image_path = __dirname + '/../../../public/images/user_images/' + user[i]._id + '.png';\n\t\t\t\t\tdata.profile_image=  \"http://\" + serverhost + \"/images/user_images/no_image.jpg\";\n\t\t\t\t\tif (fs.existsSync(image_path)) {\n\t\t\t\t\t\tdata.profile_image = \"http://\" + serverhost + \"/images/user_images/\" + user[i]._id + \".png\"\n\t\t\t\t\t}\n\n\t\t\t\t\tuserData.push(data);\n\t\t\t\t}\n\n\t\t\t} catch(e) {\n\t\t\t\tconsole.log(e);\n\t\t\t}\n\t\t\treturn callBack(null, userData);\n\t\t}\n\t\treturn callBack(null, null);\n\t});\n\n}\n\nUsers.statics.authenticateUser = function({email, password}) {\n\tconsole.log(\"inside model data:\" + email + \", password: \" + password);\n\n\tthis.findOne({email:email},function(err, user){\n\t\tif(err) return callBack(null, null);\n\t\tconsole.log(\"user data: \", user);\n\t\tif(user) return callBack(null, user);\n\t\treturn callBack(null, null);\n\t});\n}\n\nUsers.statics.deleteUser = function(id, callBack) {\n\tconsole.log(\"Inside delete user method, id:\", id);\n\n\tthis.remove( { _id: { $eq: id } }).exec(function(err, response){\n\t\t\n\t\tif(err) {\n\t\t\tif(err) return callBack(null, null);\n\t\t}\n\n\t\tif(response.result.n == 0) {\n\t\t\treturn callBack(null, {message:\"No record deleted\"});\n\t\t}\n\n\t\treturn callBack(null, {message:\"Data deleted\"});\n\t});\n\n}\n\nUsers.statics.fetchUserData = function(id, callBack) {\n\tconsole.log(\"Inside fetchUserData, id: \", id);\n\n\tthis.findOne({_id:id},{password:0, __v:0},function(err, user){\n\t\tif(err) return callBack(null, null);\n\t\tconsole.log(\"user data: \", user);\n\t\tif(user) return callBack(null, user);\n\t\treturn callBack(null, null);\n\t});\n}\n\nUsers.statics.updateUserDetail = function(data, callBack) {\n\tconsole.log(\"Inside updateUserDetail, id: \", data.id);\n\n\tlet userId = data.id;\n\n\tdata.modified = new Date();\n\tdelete data._id;\n\tlet user = new this(data);\n\tthis.update({_id: userId}, {$set: data},function(err, res) {\n\t\tif(!res) callBack(err, null);\n\n\t\tcallBack( null, res);\n\t});\n}\n\n\n\nexport default mongoose.model('users', Users);\n"
      ]
    },
    "mtime": 1495715258701
  },
  "{\"filename\":\"/home/monometic/custom_modules/users/authentication.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/monometic/custom_modules/users\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.1": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "./models/users.js",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "User"
              }
            ]
          },
          {
            "source": "passport",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "passport"
              }
            ]
          },
          {
            "source": "mongoose",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "mongoose"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/monometic/custom_modules/users/authentication.js",
      "filenameRelative": "/home/monometic/custom_modules/users/authentication.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "authentication.js",
      "sourceFileName": "authentication.js",
      "sourceRoot": "/home/monometic/custom_modules/users",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/monometic/custom_modules/users",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "authentication"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _users = require('./models/users.js');\n\nvar _users2 = _interopRequireDefault(_users);\n\nvar _passport = require('passport');\n\nvar _passport2 = _interopRequireDefault(_passport);\n\nvar _mongoose = require('mongoose');\n\nvar _mongoose2 = _interopRequireDefault(_mongoose);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar sendJSONresponse = function sendJSONresponse(res, status, content) {\n  res.status(status);\n  res.json(content);\n};\n\nmodule.exports.register = function (req, res) {\n\n  // if(!req.body.name || !req.body.email || !req.body.password) {\n  //   sendJSONresponse(res, 400, {\n  //     \"message\": \"All fields required\"\n  //   });\n  //   return;\n  // }\n  var user = new _users2.default();\n\n  user.fullName = req.body.fullName;\n  user.email = req.body.email;\n  user.accessCode = req.body.accessCode;\n  _users2.default.findOne({ email: user.email }, function (err, rec) {\n    if (rec) {\n      res.status(401);\n      return rec;\n    }\n  });\n\n  user.setPassword(req.body.password);\n  user.save(function (err) {\n    //token = user.generateJwt();\n    res.status(200);\n    res.json({\n      type: true,\n      data: user\n    });\n  });\n};\n\nmodule.exports.login = function (req, res, next) {\n  // if(!req.body.email || !req.body.password) {\n  //   sendJSONresponse(res, 400, {\n  //     \"message\": \"All fields required\"\n  //   });\n  //   return;\n  // }\n  console.log(\"inside authentication file \");\n  _passport2.default.authenticate('local', function (err, user, info) {\n    // If Passport throws/catches an error\n    if (err) {\n      res.status(404).json(err);\n      return;\n    }\n    // If a user is found\n    if (user) {\n      //token = user.generateJwt();\n\n      if (user.user_status == 1) {\n        next();\n      } else {\n        res.status(200);\n        res.json({\n          user: user\n        });\n      }\n    } else if (info.status == -1) {\n      // If user is not found\n      res.status(404).json(info);\n    } else if (info.status == -2) {\n      // if crediantials are wrong\n      res.status(401).json(info);\n    }\n  })(req, res);\n};\nmodule.exports.logout = function (req, res) {\n  req.logout();\n  res.status(200);\n  res.redirect('/');\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGhlbnRpY2F0aW9uLmpzIl0sIm5hbWVzIjpbInNlbmRKU09OcmVzcG9uc2UiLCJyZXMiLCJzdGF0dXMiLCJjb250ZW50IiwianNvbiIsIm1vZHVsZSIsImV4cG9ydHMiLCJyZWdpc3RlciIsInJlcSIsInVzZXIiLCJmdWxsTmFtZSIsImJvZHkiLCJlbWFpbCIsImFjY2Vzc0NvZGUiLCJmaW5kT25lIiwiZXJyIiwicmVjIiwic2V0UGFzc3dvcmQiLCJwYXNzd29yZCIsInNhdmUiLCJ0eXBlIiwiZGF0YSIsImxvZ2luIiwibmV4dCIsImNvbnNvbGUiLCJsb2ciLCJhdXRoZW50aWNhdGUiLCJpbmZvIiwidXNlcl9zdGF0dXMiLCJsb2dvdXQiLCJyZWRpcmVjdCJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7OztBQUNBOzs7O0FBQ0E7Ozs7OztBQUVBLElBQUlBLG1CQUFtQixTQUFuQkEsZ0JBQW1CLENBQVNDLEdBQVQsRUFBY0MsTUFBZCxFQUFzQkMsT0FBdEIsRUFBK0I7QUFDcERGLE1BQUlDLE1BQUosQ0FBV0EsTUFBWDtBQUNBRCxNQUFJRyxJQUFKLENBQVNELE9BQVQ7QUFDRCxDQUhEOztBQUtBRSxPQUFPQyxPQUFQLENBQWVDLFFBQWYsR0FBMEIsVUFBU0MsR0FBVCxFQUFjUCxHQUFkLEVBQW1COztBQUUzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFJUSxPQUFPLHFCQUFYOztBQUVBQSxPQUFLQyxRQUFMLEdBQWdCRixJQUFJRyxJQUFKLENBQVNELFFBQXpCO0FBQ0FELE9BQUtHLEtBQUwsR0FBYUosSUFBSUcsSUFBSixDQUFTQyxLQUF0QjtBQUNBSCxPQUFLSSxVQUFMLEdBQWtCTCxJQUFJRyxJQUFKLENBQVNFLFVBQTNCO0FBQ0Esa0JBQUtDLE9BQUwsQ0FBYSxFQUFFRixPQUFPSCxLQUFLRyxLQUFkLEVBQWIsRUFBb0MsVUFBVUcsR0FBVixFQUFlQyxHQUFmLEVBQW9CO0FBQ3RELFFBQUdBLEdBQUgsRUFBTztBQUNMZixVQUFJQyxNQUFKLENBQVcsR0FBWDtBQUNBLGFBQU9jLEdBQVA7QUFDRDtBQUNGLEdBTEQ7O0FBT0FQLE9BQUtRLFdBQUwsQ0FBaUJULElBQUlHLElBQUosQ0FBU08sUUFBMUI7QUFDQVQsT0FBS1UsSUFBTCxDQUFVLFVBQVNKLEdBQVQsRUFBYTtBQUNuQjtBQUNFZCxRQUFJQyxNQUFKLENBQVcsR0FBWDtBQUNBRCxRQUFJRyxJQUFKLENBQVM7QUFDUGdCLFlBQU0sSUFEQztBQUVQQyxZQUFNWjtBQUZDLEtBQVQ7QUFJTCxHQVBEO0FBU0QsQ0E5QkQ7O0FBZ0NBSixPQUFPQyxPQUFQLENBQWVnQixLQUFmLEdBQXVCLFVBQVNkLEdBQVQsRUFBY1AsR0FBZCxFQUFtQnNCLElBQW5CLEVBQXlCO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBQyxVQUFRQyxHQUFSLENBQVksNkJBQVo7QUFDQSxxQkFBU0MsWUFBVCxDQUFzQixPQUF0QixFQUErQixVQUFTWCxHQUFULEVBQWNOLElBQWQsRUFBb0JrQixJQUFwQixFQUF5QjtBQUN0RDtBQUNBLFFBQUlaLEdBQUosRUFBUztBQUNQZCxVQUFJQyxNQUFKLENBQVcsR0FBWCxFQUFnQkUsSUFBaEIsQ0FBcUJXLEdBQXJCO0FBQ0E7QUFDRDtBQUNEO0FBQ0EsUUFBR04sSUFBSCxFQUFRO0FBQ047O0FBRUEsVUFBR0EsS0FBS21CLFdBQUwsSUFBa0IsQ0FBckIsRUFBd0I7QUFDdEJMO0FBQ0QsT0FGRCxNQUVPO0FBQ0x0QixZQUFJQyxNQUFKLENBQVcsR0FBWDtBQUNBRCxZQUFJRyxJQUFKLENBQVM7QUFDUEssZ0JBQUtBO0FBREUsU0FBVDtBQUdEO0FBR0YsS0FiRCxNQWFPLElBQUlrQixLQUFLekIsTUFBTCxJQUFlLENBQUMsQ0FBcEIsRUFBdUI7QUFDNUI7QUFDQUQsVUFBSUMsTUFBSixDQUFXLEdBQVgsRUFBZ0JFLElBQWhCLENBQXFCdUIsSUFBckI7QUFDRCxLQUhNLE1BR0EsSUFBSUEsS0FBS3pCLE1BQUwsSUFBZSxDQUFDLENBQXBCLEVBQXVCO0FBQzVCO0FBQ0FELFVBQUlDLE1BQUosQ0FBVyxHQUFYLEVBQWdCRSxJQUFoQixDQUFxQnVCLElBQXJCO0FBQ0Q7QUFDRixHQTNCRCxFQTJCR25CLEdBM0JILEVBMkJRUCxHQTNCUjtBQThCRCxDQXRDRDtBQXVDQUksT0FBT0MsT0FBUCxDQUFldUIsTUFBZixHQUF3QixVQUFVckIsR0FBVixFQUFjUCxHQUFkLEVBQW1CO0FBQ3ZDTyxNQUFJcUIsTUFBSjtBQUNBNUIsTUFBSUMsTUFBSixDQUFXLEdBQVg7QUFDQUQsTUFBSTZCLFFBQUosQ0FBYSxHQUFiO0FBRUgsQ0FMRCIsImZpbGUiOiJhdXRoZW50aWNhdGlvbi5qcyIsInNvdXJjZVJvb3QiOiIvaG9tZS9tb25vbWV0aWMvY3VzdG9tX21vZHVsZXMvdXNlcnMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgVXNlciBmcm9tICcuL21vZGVscy91c2Vycy5qcyc7XG5pbXBvcnQgcGFzc3BvcnQgZnJvbSAncGFzc3BvcnQnO1xuaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcblxudmFyIHNlbmRKU09OcmVzcG9uc2UgPSBmdW5jdGlvbihyZXMsIHN0YXR1cywgY29udGVudCkge1xuICByZXMuc3RhdHVzKHN0YXR1cyk7XG4gIHJlcy5qc29uKGNvbnRlbnQpO1xufTtcblxubW9kdWxlLmV4cG9ydHMucmVnaXN0ZXIgPSBmdW5jdGlvbihyZXEsIHJlcykge1xuXG4gIC8vIGlmKCFyZXEuYm9keS5uYW1lIHx8ICFyZXEuYm9keS5lbWFpbCB8fCAhcmVxLmJvZHkucGFzc3dvcmQpIHtcbiAgLy8gICBzZW5kSlNPTnJlc3BvbnNlKHJlcywgNDAwLCB7XG4gIC8vICAgICBcIm1lc3NhZ2VcIjogXCJBbGwgZmllbGRzIHJlcXVpcmVkXCJcbiAgLy8gICB9KTtcbiAgLy8gICByZXR1cm47XG4gIC8vIH1cbiAgbGV0IHVzZXIgPSBuZXcgVXNlcigpO1xuXG4gIHVzZXIuZnVsbE5hbWUgPSByZXEuYm9keS5mdWxsTmFtZTtcbiAgdXNlci5lbWFpbCA9IHJlcS5ib2R5LmVtYWlsO1xuICB1c2VyLmFjY2Vzc0NvZGUgPSByZXEuYm9keS5hY2Nlc3NDb2RlO1xuICBVc2VyLmZpbmRPbmUoeyBlbWFpbDogdXNlci5lbWFpbCB9LCBmdW5jdGlvbiAoZXJyLCByZWMpIHtcbiAgICBpZihyZWMpe1xuICAgICAgcmVzLnN0YXR1cyg0MDEpO1xuICAgICAgcmV0dXJuIHJlYztcbiAgICB9XG4gIH0pO1xuXG4gIHVzZXIuc2V0UGFzc3dvcmQocmVxLmJvZHkucGFzc3dvcmQpO1xuICB1c2VyLnNhdmUoZnVuY3Rpb24oZXJyKXtcbiAgICAgIC8vdG9rZW4gPSB1c2VyLmdlbmVyYXRlSnd0KCk7XG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKTtcbiAgICAgICAgcmVzLmpzb24oe1xuICAgICAgICAgIHR5cGU6IHRydWUsXG4gICAgICAgICAgZGF0YTogdXNlclxuICAgICAgICB9KTtcbiAgfSk7XG5cbn07XG5cbm1vZHVsZS5leHBvcnRzLmxvZ2luID0gZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgLy8gaWYoIXJlcS5ib2R5LmVtYWlsIHx8ICFyZXEuYm9keS5wYXNzd29yZCkge1xuICAvLyAgIHNlbmRKU09OcmVzcG9uc2UocmVzLCA0MDAsIHtcbiAgLy8gICAgIFwibWVzc2FnZVwiOiBcIkFsbCBmaWVsZHMgcmVxdWlyZWRcIlxuICAvLyAgIH0pO1xuICAvLyAgIHJldHVybjtcbiAgLy8gfVxuICBjb25zb2xlLmxvZyhcImluc2lkZSBhdXRoZW50aWNhdGlvbiBmaWxlIFwiKTtcbiAgcGFzc3BvcnQuYXV0aGVudGljYXRlKCdsb2NhbCcsIGZ1bmN0aW9uKGVyciwgdXNlciwgaW5mbyl7XG4gICAgLy8gSWYgUGFzc3BvcnQgdGhyb3dzL2NhdGNoZXMgYW4gZXJyb3JcbiAgICBpZiAoZXJyKSB7XG4gICAgICByZXMuc3RhdHVzKDQwNCkuanNvbihlcnIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBJZiBhIHVzZXIgaXMgZm91bmRcbiAgICBpZih1c2VyKXtcbiAgICAgIC8vdG9rZW4gPSB1c2VyLmdlbmVyYXRlSnd0KCk7XG5cbiAgICAgIGlmKHVzZXIudXNlcl9zdGF0dXM9PTEpIHtcbiAgICAgICAgbmV4dCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzLnN0YXR1cygyMDApO1xuICAgICAgICByZXMuanNvbih7XG4gICAgICAgICAgdXNlcjp1c2VyXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG5cbiAgICB9IGVsc2UgaWYgKGluZm8uc3RhdHVzID09IC0xKSB7XG4gICAgICAvLyBJZiB1c2VyIGlzIG5vdCBmb3VuZFxuICAgICAgcmVzLnN0YXR1cyg0MDQpLmpzb24oaW5mbyk7XG4gICAgfSBlbHNlIGlmIChpbmZvLnN0YXR1cyA9PSAtMikge1xuICAgICAgLy8gaWYgY3JlZGlhbnRpYWxzIGFyZSB3cm9uZ1xuICAgICAgcmVzLnN0YXR1cyg0MDEpLmpzb24oaW5mbyk7XG4gICAgfVxuICB9KShyZXEsIHJlcyk7XG5cblxufTtcbm1vZHVsZS5leHBvcnRzLmxvZ291dCA9IGZ1bmN0aW9uIChyZXEscmVzKSB7XG4gICAgcmVxLmxvZ291dCgpO1xuICAgIHJlcy5zdGF0dXMoMjAwKTtcbiAgICByZXMucmVkaXJlY3QoJy8nKTtcblxufVxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "authentication.js"
      ],
      "names": [
        "sendJSONresponse",
        "res",
        "status",
        "content",
        "json",
        "module",
        "exports",
        "register",
        "req",
        "user",
        "fullName",
        "body",
        "email",
        "accessCode",
        "findOne",
        "err",
        "rec",
        "setPassword",
        "password",
        "save",
        "type",
        "data",
        "login",
        "next",
        "console",
        "log",
        "authenticate",
        "info",
        "user_status",
        "logout",
        "redirect"
      ],
      "mappings": ";;AAAA;;;;AACA;;;;AACA;;;;;;AAEA,IAAIA,mBAAmB,SAAnBA,gBAAmB,CAASC,GAAT,EAAcC,MAAd,EAAsBC,OAAtB,EAA+B;AACpDF,MAAIC,MAAJ,CAAWA,MAAX;AACAD,MAAIG,IAAJ,CAASD,OAAT;AACD,CAHD;;AAKAE,OAAOC,OAAP,CAAeC,QAAf,GAA0B,UAASC,GAAT,EAAcP,GAAd,EAAmB;;AAE3C;AACA;AACA;AACA;AACA;AACA;AACA,MAAIQ,OAAO,qBAAX;;AAEAA,OAAKC,QAAL,GAAgBF,IAAIG,IAAJ,CAASD,QAAzB;AACAD,OAAKG,KAAL,GAAaJ,IAAIG,IAAJ,CAASC,KAAtB;AACAH,OAAKI,UAAL,GAAkBL,IAAIG,IAAJ,CAASE,UAA3B;AACA,kBAAKC,OAAL,CAAa,EAAEF,OAAOH,KAAKG,KAAd,EAAb,EAAoC,UAAUG,GAAV,EAAeC,GAAf,EAAoB;AACtD,QAAGA,GAAH,EAAO;AACLf,UAAIC,MAAJ,CAAW,GAAX;AACA,aAAOc,GAAP;AACD;AACF,GALD;;AAOAP,OAAKQ,WAAL,CAAiBT,IAAIG,IAAJ,CAASO,QAA1B;AACAT,OAAKU,IAAL,CAAU,UAASJ,GAAT,EAAa;AACnB;AACEd,QAAIC,MAAJ,CAAW,GAAX;AACAD,QAAIG,IAAJ,CAAS;AACPgB,YAAM,IADC;AAEPC,YAAMZ;AAFC,KAAT;AAIL,GAPD;AASD,CA9BD;;AAgCAJ,OAAOC,OAAP,CAAegB,KAAf,GAAuB,UAASd,GAAT,EAAcP,GAAd,EAAmBsB,IAAnB,EAAyB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACAC,UAAQC,GAAR,CAAY,6BAAZ;AACA,qBAASC,YAAT,CAAsB,OAAtB,EAA+B,UAASX,GAAT,EAAcN,IAAd,EAAoBkB,IAApB,EAAyB;AACtD;AACA,QAAIZ,GAAJ,EAAS;AACPd,UAAIC,MAAJ,CAAW,GAAX,EAAgBE,IAAhB,CAAqBW,GAArB;AACA;AACD;AACD;AACA,QAAGN,IAAH,EAAQ;AACN;;AAEA,UAAGA,KAAKmB,WAAL,IAAkB,CAArB,EAAwB;AACtBL;AACD,OAFD,MAEO;AACLtB,YAAIC,MAAJ,CAAW,GAAX;AACAD,YAAIG,IAAJ,CAAS;AACPK,gBAAKA;AADE,SAAT;AAGD;AAGF,KAbD,MAaO,IAAIkB,KAAKzB,MAAL,IAAe,CAAC,CAApB,EAAuB;AAC5B;AACAD,UAAIC,MAAJ,CAAW,GAAX,EAAgBE,IAAhB,CAAqBuB,IAArB;AACD,KAHM,MAGA,IAAIA,KAAKzB,MAAL,IAAe,CAAC,CAApB,EAAuB;AAC5B;AACAD,UAAIC,MAAJ,CAAW,GAAX,EAAgBE,IAAhB,CAAqBuB,IAArB;AACD;AACF,GA3BD,EA2BGnB,GA3BH,EA2BQP,GA3BR;AA8BD,CAtCD;AAuCAI,OAAOC,OAAP,CAAeuB,MAAf,GAAwB,UAAUrB,GAAV,EAAcP,GAAd,EAAmB;AACvCO,MAAIqB,MAAJ;AACA5B,MAAIC,MAAJ,CAAW,GAAX;AACAD,MAAI6B,QAAJ,CAAa,GAAb;AAEH,CALD",
      "file": "authentication.js",
      "sourceRoot": "/home/monometic/custom_modules/users",
      "sourcesContent": [
        "import User from './models/users.js';\nimport passport from 'passport';\nimport mongoose from 'mongoose';\n\nvar sendJSONresponse = function(res, status, content) {\n  res.status(status);\n  res.json(content);\n};\n\nmodule.exports.register = function(req, res) {\n\n  // if(!req.body.name || !req.body.email || !req.body.password) {\n  //   sendJSONresponse(res, 400, {\n  //     \"message\": \"All fields required\"\n  //   });\n  //   return;\n  // }\n  let user = new User();\n\n  user.fullName = req.body.fullName;\n  user.email = req.body.email;\n  user.accessCode = req.body.accessCode;\n  User.findOne({ email: user.email }, function (err, rec) {\n    if(rec){\n      res.status(401);\n      return rec;\n    }\n  });\n\n  user.setPassword(req.body.password);\n  user.save(function(err){\n      //token = user.generateJwt();\n        res.status(200);\n        res.json({\n          type: true,\n          data: user\n        });\n  });\n\n};\n\nmodule.exports.login = function(req, res, next) {\n  // if(!req.body.email || !req.body.password) {\n  //   sendJSONresponse(res, 400, {\n  //     \"message\": \"All fields required\"\n  //   });\n  //   return;\n  // }\n  console.log(\"inside authentication file \");\n  passport.authenticate('local', function(err, user, info){\n    // If Passport throws/catches an error\n    if (err) {\n      res.status(404).json(err);\n      return;\n    }\n    // If a user is found\n    if(user){\n      //token = user.generateJwt();\n\n      if(user.user_status==1) {\n        next();\n      } else {\n        res.status(200);\n        res.json({\n          user:user\n        });\n      }\n\n\n    } else if (info.status == -1) {\n      // If user is not found\n      res.status(404).json(info);\n    } else if (info.status == -2) {\n      // if crediantials are wrong\n      res.status(401).json(info);\n    }\n  })(req, res);\n\n\n};\nmodule.exports.logout = function (req,res) {\n    req.logout();\n    res.status(200);\n    res.redirect('/');\n\n}\n"
      ]
    },
    "mtime": 1495715246661
  },
  "{\"filename\":\"/home/monometic/custom_modules/categories/routes/index.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/monometic/custom_modules/categories/routes\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.1": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "express",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "express"
              }
            ]
          },
          {
            "source": "../index",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "Category"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/monometic/custom_modules/categories/routes/index.js",
      "filenameRelative": "/home/monometic/custom_modules/categories/routes/index.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "index.js",
      "sourceFileName": "index.js",
      "sourceRoot": "/home/monometic/custom_modules/categories/routes",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/monometic/custom_modules/categories/routes",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "index"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _express = require('express');\n\nvar _express2 = _interopRequireDefault(_express);\n\nvar _index = require('../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar catRoutes = _express2.default.Router();\n\n/*Route for LIST Category*/\ncatRoutes.post('/add', function (req, res, next) {\n  console.log(\"inside routes\");\n  var categoryCtrl = new _index2.default(req, res, next);\n  categoryCtrl.checkCategoryExists();\n}, function (req, res) {\n  var categoryCtrl = new _index2.default(req, res);\n  categoryCtrl.insertCat();\n});\n\ncatRoutes.delete('/:id', function (req, res, next) {\n  console.log(\"inside delete category routes\");\n  var categoryCtrl = new _index2.default(req, res, next);\n  categoryCtrl.deleteCategory();\n});\n\ncatRoutes.put('/update', function (req, res, next) {\n  console.log(\"inside update category routes\");\n  var categoryCtrl = new _index2.default(req, res, next);\n  categoryCtrl.updateCategory();\n});\n\ncatRoutes.get('/parent_cats', function (req, res, next) {\n  console.log(\"inside fetch category routes\");\n  var categoryCtrl = new _index2.default(req, res, next);\n  categoryCtrl.getAllParentCats();\n});\n\nexports.default = catRoutes;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImNhdFJvdXRlcyIsIlJvdXRlciIsInBvc3QiLCJyZXEiLCJyZXMiLCJuZXh0IiwiY29uc29sZSIsImxvZyIsImNhdGVnb3J5Q3RybCIsImNoZWNrQ2F0ZWdvcnlFeGlzdHMiLCJpbnNlcnRDYXQiLCJkZWxldGUiLCJkZWxldGVDYXRlZ29yeSIsInB1dCIsInVwZGF0ZUNhdGVnb3J5IiwiZ2V0IiwiZ2V0QWxsUGFyZW50Q2F0cyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7Ozs7QUFDQTs7Ozs7O0FBRUEsSUFBTUEsWUFBWSxrQkFBUUMsTUFBUixFQUFsQjs7QUFFQTtBQUNBRCxVQUFVRSxJQUFWLENBQWUsTUFBZixFQUF1QixVQUFDQyxHQUFELEVBQU1DLEdBQU4sRUFBV0MsSUFBWCxFQUFvQjtBQUN6Q0MsVUFBUUMsR0FBUixDQUFZLGVBQVo7QUFDQyxNQUFJQyxlQUFlLG9CQUFhTCxHQUFiLEVBQWtCQyxHQUFsQixFQUF1QkMsSUFBdkIsQ0FBbkI7QUFDQ0csZUFBYUMsbUJBQWI7QUFFSCxDQUxELEVBS0csVUFBU04sR0FBVCxFQUFjQyxHQUFkLEVBQWtCO0FBQ25CLE1BQUlJLGVBQWUsb0JBQWFMLEdBQWIsRUFBa0JDLEdBQWxCLENBQW5CO0FBQ0FJLGVBQWFFLFNBQWI7QUFDRCxDQVJEOztBQVdBVixVQUFVVyxNQUFWLENBQWlCLE1BQWpCLEVBQXlCLFVBQUNSLEdBQUQsRUFBTUMsR0FBTixFQUFXQyxJQUFYLEVBQW9CO0FBQ3pDQyxVQUFRQyxHQUFSLENBQVksK0JBQVo7QUFDRCxNQUFJQyxlQUFlLG9CQUFhTCxHQUFiLEVBQWtCQyxHQUFsQixFQUF1QkMsSUFBdkIsQ0FBbkI7QUFDQ0csZUFBYUksY0FBYjtBQUVILENBTEQ7O0FBT0FaLFVBQVVhLEdBQVYsQ0FBYyxTQUFkLEVBQXlCLFVBQUNWLEdBQUQsRUFBTUMsR0FBTixFQUFXQyxJQUFYLEVBQW9CO0FBQ3pDQyxVQUFRQyxHQUFSLENBQVksK0JBQVo7QUFDRCxNQUFJQyxlQUFlLG9CQUFhTCxHQUFiLEVBQWtCQyxHQUFsQixFQUF1QkMsSUFBdkIsQ0FBbkI7QUFDQ0csZUFBYU0sY0FBYjtBQUVILENBTEQ7O0FBT0FkLFVBQVVlLEdBQVYsQ0FBYyxjQUFkLEVBQThCLFVBQUNaLEdBQUQsRUFBTUMsR0FBTixFQUFXQyxJQUFYLEVBQW9CO0FBQ2hEQyxVQUFRQyxHQUFSLENBQVksOEJBQVo7QUFDQSxNQUFJQyxlQUFlLG9CQUFhTCxHQUFiLEVBQWtCQyxHQUFsQixFQUF1QkMsSUFBdkIsQ0FBbkI7QUFDQUcsZUFBYVEsZ0JBQWI7QUFFRCxDQUxEOztrQkFRZWhCLFMiLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiL2hvbWUvbW9ub21ldGljL2N1c3RvbV9tb2R1bGVzL2NhdGVnb3JpZXMvcm91dGVzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgQ2F0ZWdvcnkgZnJvbSAnLi4vaW5kZXgnO1xuXG5jb25zdCBjYXRSb3V0ZXMgPSBleHByZXNzLlJvdXRlcigpO1xuXG4vKlJvdXRlIGZvciBMSVNUIENhdGVnb3J5Ki9cbmNhdFJvdXRlcy5wb3N0KCcvYWRkJywgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIGNvbnNvbGUubG9nKFwiaW5zaWRlIHJvdXRlc1wiKTtcbiAgXHRsZXQgY2F0ZWdvcnlDdHJsID0gbmV3IENhdGVnb3J5KHJlcSwgcmVzLCBuZXh0KTtcbiAgICBjYXRlZ29yeUN0cmwuY2hlY2tDYXRlZ29yeUV4aXN0cygpO1xuXG59LCBmdW5jdGlvbihyZXEsIHJlcyl7XG4gIGxldCBjYXRlZ29yeUN0cmwgPSBuZXcgQ2F0ZWdvcnkocmVxLCByZXMpO1xuICBjYXRlZ29yeUN0cmwuaW5zZXJ0Q2F0KCk7XG59KTtcblxuXG5jYXRSb3V0ZXMuZGVsZXRlKCcvOmlkJywgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgY29uc29sZS5sb2coXCJpbnNpZGUgZGVsZXRlIGNhdGVnb3J5IHJvdXRlc1wiKTtcbiAgXHRsZXQgY2F0ZWdvcnlDdHJsID0gbmV3IENhdGVnb3J5KHJlcSwgcmVzLCBuZXh0KTtcbiAgICBjYXRlZ29yeUN0cmwuZGVsZXRlQ2F0ZWdvcnkoKTtcblxufSk7XG5cbmNhdFJvdXRlcy5wdXQoJy91cGRhdGUnLCAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICBjb25zb2xlLmxvZyhcImluc2lkZSB1cGRhdGUgY2F0ZWdvcnkgcm91dGVzXCIpO1xuICBcdGxldCBjYXRlZ29yeUN0cmwgPSBuZXcgQ2F0ZWdvcnkocmVxLCByZXMsIG5leHQpO1xuICAgIGNhdGVnb3J5Q3RybC51cGRhdGVDYXRlZ29yeSgpO1xuXG59KTtcblxuY2F0Um91dGVzLmdldCgnL3BhcmVudF9jYXRzJywgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIGNvbnNvbGUubG9nKFwiaW5zaWRlIGZldGNoIGNhdGVnb3J5IHJvdXRlc1wiKTtcbiAgbGV0IGNhdGVnb3J5Q3RybCA9IG5ldyBDYXRlZ29yeShyZXEsIHJlcywgbmV4dCk7XG4gIGNhdGVnb3J5Q3RybC5nZXRBbGxQYXJlbnRDYXRzKCk7XG5cbn0pO1xuXG5cbmV4cG9ydCBkZWZhdWx0IGNhdFJvdXRlcztcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "catRoutes",
        "Router",
        "post",
        "req",
        "res",
        "next",
        "console",
        "log",
        "categoryCtrl",
        "checkCategoryExists",
        "insertCat",
        "delete",
        "deleteCategory",
        "put",
        "updateCategory",
        "get",
        "getAllParentCats"
      ],
      "mappings": ";;;;;;AAAA;;;;AACA;;;;;;AAEA,IAAMA,YAAY,kBAAQC,MAAR,EAAlB;;AAEA;AACAD,UAAUE,IAAV,CAAe,MAAf,EAAuB,UAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AACzCC,UAAQC,GAAR,CAAY,eAAZ;AACC,MAAIC,eAAe,oBAAaL,GAAb,EAAkBC,GAAlB,EAAuBC,IAAvB,CAAnB;AACCG,eAAaC,mBAAb;AAEH,CALD,EAKG,UAASN,GAAT,EAAcC,GAAd,EAAkB;AACnB,MAAII,eAAe,oBAAaL,GAAb,EAAkBC,GAAlB,CAAnB;AACAI,eAAaE,SAAb;AACD,CARD;;AAWAV,UAAUW,MAAV,CAAiB,MAAjB,EAAyB,UAACR,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AACzCC,UAAQC,GAAR,CAAY,+BAAZ;AACD,MAAIC,eAAe,oBAAaL,GAAb,EAAkBC,GAAlB,EAAuBC,IAAvB,CAAnB;AACCG,eAAaI,cAAb;AAEH,CALD;;AAOAZ,UAAUa,GAAV,CAAc,SAAd,EAAyB,UAACV,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AACzCC,UAAQC,GAAR,CAAY,+BAAZ;AACD,MAAIC,eAAe,oBAAaL,GAAb,EAAkBC,GAAlB,EAAuBC,IAAvB,CAAnB;AACCG,eAAaM,cAAb;AAEH,CALD;;AAOAd,UAAUe,GAAV,CAAc,cAAd,EAA8B,UAACZ,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAChDC,UAAQC,GAAR,CAAY,8BAAZ;AACA,MAAIC,eAAe,oBAAaL,GAAb,EAAkBC,GAAlB,EAAuBC,IAAvB,CAAnB;AACAG,eAAaQ,gBAAb;AAED,CALD;;kBAQehB,S",
      "file": "index.js",
      "sourceRoot": "/home/monometic/custom_modules/categories/routes",
      "sourcesContent": [
        "import express from 'express';\nimport Category from '../index';\n\nconst catRoutes = express.Router();\n\n/*Route for LIST Category*/\ncatRoutes.post('/add', (req, res, next) => {\n  console.log(\"inside routes\");\n  \tlet categoryCtrl = new Category(req, res, next);\n    categoryCtrl.checkCategoryExists();\n\n}, function(req, res){\n  let categoryCtrl = new Category(req, res);\n  categoryCtrl.insertCat();\n});\n\n\ncatRoutes.delete('/:id', (req, res, next) => {\n    console.log(\"inside delete category routes\");\n  \tlet categoryCtrl = new Category(req, res, next);\n    categoryCtrl.deleteCategory();\n\n});\n\ncatRoutes.put('/update', (req, res, next) => {\n    console.log(\"inside update category routes\");\n  \tlet categoryCtrl = new Category(req, res, next);\n    categoryCtrl.updateCategory();\n\n});\n\ncatRoutes.get('/parent_cats', (req, res, next) => {\n  console.log(\"inside fetch category routes\");\n  let categoryCtrl = new Category(req, res, next);\n  categoryCtrl.getAllParentCats();\n\n});\n\n\nexport default catRoutes;\n"
      ]
    },
    "mtime": 1495715250241
  },
  "{\"filename\":\"/home/monometic/custom_modules/categories/index.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/monometic/custom_modules/categories\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.1": {
    "metadata": {
      "usedHelpers": [
        "createClass",
        "classCallCheck",
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "./models/categories.js",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "Categories"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/monometic/custom_modules/categories/index.js",
      "filenameRelative": "/home/monometic/custom_modules/categories/index.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "index.js",
      "sourceFileName": "index.js",
      "sourceRoot": "/home/monometic/custom_modules/categories",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/monometic/custom_modules/categories",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "index"
    },
    "ignored": false,
    "code": "\"use strict\";\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _categories = require(\"./models/categories.js\");\n\nvar _categories2 = _interopRequireDefault(_categories);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nmodule.exports = function () {\n  function Category(req, res, next) {\n    _classCallCheck(this, Category);\n\n    this.res = res;\n    this.req = req;\n    this.next = next;\n  }\n\n  /*To add new questionnaire category*/\n\n\n  _createClass(Category, [{\n    key: \"insertCat\",\n    value: function insertCat() {\n      console.log(\"inside controller\");\n      var _this = this;\n      var data = this.req.body;\n\n      _categories2.default.insertCategory(data, function (err, data) {\n        if (err) _this.res.status(500).send(err);\n\n        return _this.res.status(200).send({ message: \"Category added successfully\", \"status\": \"1\" });\n      });\n    }\n  }, {\n    key: \"checkCategoryExists\",\n    value: function checkCategoryExists() {\n      console.log(\"inside controller\");\n      var _this = this;\n      var cat_slug = this.req.body.slug;\n\n      //_this.res.status(200).send({res: 'done'});\n\n      _categories2.default.findCategory(cat_slug, function (err, data) {\n        if (err) _this.res.status(500).send();\n\n        if (data) {\n          console.log(cat_slug + \" already exists\");\n          _this.res.status(200).json({ message: cat_slug + \" already exists\", status: \"0\" });\n        } else {\n          _this.next();\n        }\n      });\n    }\n  }, {\n    key: \"deleteCategory\",\n    value: function deleteCategory() {\n      var _this = this;\n      var cat_id = this.req.params.id;\n\n      _categories2.default.deleteCategory(cat_id, function (err, data) {\n        if (err) _this.res.status(500).send();\n\n        if (data) {\n          _this.res.status(200).json(data);\n        }\n      });\n    }\n  }, {\n    key: \"fetchUsers\",\n    value: function fetchUsers() {\n      console.log(\"Insde controller: fetchUsers()\");\n      var email = this.req.body.email;\n      var _this = this;\n      Users.findAllUsers(email, function (err, data) {\n        if (err) _this.res.status(500).send();\n\n        console.log(\"user data in controller: \", data);\n\n        if (data) {\n          _this.res.status(200).json({ data: data, status: \"1\", adminLogin: true });\n        }\n      });\n    }\n  }, {\n    key: \"updateCategory\",\n    value: function updateCategory() {\n      console.log(\"Insde controller: updateCategory()\");\n      var data = this.req.body;\n      var _this = this;\n\n      _categories2.default.updateCategory(data, function (err, data) {\n        if (err) _this.res.status(500).send(err);\n\n        if (data.n == 1) {\n          return _this.res.status(200).send({ message: \"Category updated successfully\", \"status\": \"1\" });\n        } else {}\n\n        return _this.res.status(200).send({ message: \"Data not updated\", \"status\": \"0\" });\n      });\n    }\n  }, {\n    key: \"getAllParentCats\",\n    value: function getAllParentCats() {\n      console.log(\"Insde controller: getAllParentCats()\");\n      var _this = this;\n\n      _categories2.default.fetchParentCats(function (err, data) {\n        if (err) _this.res.status(500).send(err);\n\n        console.log(\"category data in controller: \", data);\n\n        if (data) {\n          _this.res.status(200).json({ data: data, status: \"1\" });\n        }\n        console.log(\"categorydfdsfdsf\");\n        //return _this.res.status(500).send({message: \"Error occured\",\"status\":\"0\"});\n      });\n    }\n  }]);\n\n  return Category;\n}();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIm1vZHVsZSIsImV4cG9ydHMiLCJyZXEiLCJyZXMiLCJuZXh0IiwiY29uc29sZSIsImxvZyIsIl90aGlzIiwiZGF0YSIsImJvZHkiLCJpbnNlcnRDYXRlZ29yeSIsImVyciIsInN0YXR1cyIsInNlbmQiLCJtZXNzYWdlIiwiY2F0X3NsdWciLCJzbHVnIiwiZmluZENhdGVnb3J5IiwianNvbiIsImNhdF9pZCIsInBhcmFtcyIsImlkIiwiZGVsZXRlQ2F0ZWdvcnkiLCJlbWFpbCIsIlVzZXJzIiwiZmluZEFsbFVzZXJzIiwiYWRtaW5Mb2dpbiIsInVwZGF0ZUNhdGVnb3J5IiwibiIsImZldGNoUGFyZW50Q2F0cyJdLCJtYXBwaW5ncyI6Ijs7OztBQUFBOzs7Ozs7OztBQUVBQSxPQUFPQyxPQUFQO0FBQ0ksb0JBQVlDLEdBQVosRUFBaUJDLEdBQWpCLEVBQXNCQyxJQUF0QixFQUE0QjtBQUFBOztBQUN6QixTQUFLRCxHQUFMLEdBQVdBLEdBQVg7QUFDQSxTQUFLRCxHQUFMLEdBQVdBLEdBQVg7QUFDQSxTQUFLRSxJQUFMLEdBQVlBLElBQVo7QUFDRjs7QUFFTDs7O0FBUEE7QUFBQTtBQUFBLGdDQVFnQjtBQUNWQyxjQUFRQyxHQUFSLENBQVksbUJBQVo7QUFDQSxVQUFJQyxRQUFRLElBQVo7QUFDQSxVQUFJQyxPQUFPLEtBQUtOLEdBQUwsQ0FBU08sSUFBcEI7O0FBRUEsMkJBQVdDLGNBQVgsQ0FBMEJGLElBQTFCLEVBQWdDLFVBQVNHLEdBQVQsRUFBY0gsSUFBZCxFQUFtQjtBQUMvQyxZQUFHRyxHQUFILEVBQVFKLE1BQU1KLEdBQU4sQ0FBVVMsTUFBVixDQUFpQixHQUFqQixFQUFzQkMsSUFBdEIsQ0FBMkJGLEdBQTNCOztBQUVSLGVBQU9KLE1BQU1KLEdBQU4sQ0FBVVMsTUFBVixDQUFpQixHQUFqQixFQUFzQkMsSUFBdEIsQ0FBMkIsRUFBQ0MsU0FBUyw2QkFBVixFQUF3QyxVQUFTLEdBQWpELEVBQTNCLENBQVA7QUFD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RUFBQ0MsU0FBUyxrQkFBVixFQUE2QixVQUFTLEdBQXRDLEVBQTNCLENBQVA7QUFFSCxPQVhEO0FBWUQ7QUF2Rkw7QUFBQTtBQUFBLHVDQXlGdUI7QUFDakJULGNBQVFDLEdBQVIsQ0FBWSxzQ0FBWjtBQUNBLFVBQUlDLFFBQVEsSUFBWjs7QUFFQSwyQkFBV3NCLGVBQVgsQ0FBMkIsVUFBU2xCLEdBQVQsRUFBY0gsSUFBZCxFQUFtQjtBQUMxQyxZQUFHRyxHQUFILEVBQVFKLE1BQU1KLEdBQU4sQ0FBVVMsTUFBVixDQUFpQixHQUFqQixFQUFzQkMsSUFBdEIsQ0FBMkJGLEdBQTNCOztBQUVSTixnQkFBUUMsR0FBUixDQUFZLCtCQUFaLEVBQTZDRSxJQUE3Qzs7QUFFQSxZQUFHQSxJQUFILEVBQVM7QUFDUEQsZ0JBQU1KLEdBQU4sQ0FBVVMsTUFBVixDQUFpQixHQUFqQixFQUFzQk0sSUFBdEIsQ0FBMkIsRUFBQ1YsTUFBS0EsSUFBTixFQUFZSSxRQUFPLEdBQW5CLEVBQTNCO0FBQ0Q7QUFDSFAsZ0JBQVFDLEdBQVIsQ0FBWSxrQkFBWjtBQUNFO0FBRUgsT0FYRDtBQVlEO0FBekdMOztBQUFBO0FBQUEiLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiL2hvbWUvbW9ub21ldGljL2N1c3RvbV9tb2R1bGVzL2NhdGVnb3JpZXMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQ2F0ZWdvcmllcyBmcm9tICcuL21vZGVscy9jYXRlZ29yaWVzLmpzJztcblxubW9kdWxlLmV4cG9ydHMgPSBjbGFzcyBDYXRlZ29yeSB7XG4gICAgY29uc3RydWN0b3IocmVxLCByZXMsIG5leHQpIHtcbiAgICAgICB0aGlzLnJlcyA9IHJlcztcbiAgICAgICB0aGlzLnJlcSA9IHJlcTtcbiAgICAgICB0aGlzLm5leHQgPSBuZXh0O1xuICAgIH1cblxuLypUbyBhZGQgbmV3IHF1ZXN0aW9ubmFpcmUgY2F0ZWdvcnkqL1xuICAgIGluc2VydENhdCgpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiaW5zaWRlIGNvbnRyb2xsZXJcIik7XG4gICAgICBsZXQgX3RoaXMgPSB0aGlzO1xuICAgICAgbGV0IGRhdGEgPSB0aGlzLnJlcS5ib2R5O1xuXG4gICAgICBDYXRlZ29yaWVzLmluc2VydENhdGVnb3J5KGRhdGEsIGZ1bmN0aW9uKGVyciwgZGF0YSl7XG4gICAgICAgICAgaWYoZXJyKSBfdGhpcy5yZXMuc3RhdHVzKDUwMCkuc2VuZChlcnIpO1xuXG4gICAgICAgICAgcmV0dXJuIF90aGlzLnJlcy5zdGF0dXMoMjAwKS5zZW5kKHttZXNzYWdlOiBcIkNhdGVnb3J5IGFkZGVkIHN1Y2Nlc3NmdWxseVwiLFwic3RhdHVzXCI6XCIxXCJ9KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGNoZWNrQ2F0ZWdvcnlFeGlzdHMoKSB7XG4gICAgICBjb25zb2xlLmxvZyhcImluc2lkZSBjb250cm9sbGVyXCIpO1xuICAgICAgbGV0IF90aGlzID0gdGhpcztcbiAgICAgIGxldCBjYXRfc2x1ZyA9IHRoaXMucmVxLmJvZHkuc2x1ZztcblxuICAgICAgLy9fdGhpcy5yZXMuc3RhdHVzKDIwMCkuc2VuZCh7cmVzOiAnZG9uZSd9KTtcblxuICAgICAgQ2F0ZWdvcmllcy5maW5kQ2F0ZWdvcnkoY2F0X3NsdWcsIGZ1bmN0aW9uKGVyciwgZGF0YSl7XG4gICAgICAgICAgaWYoZXJyKSBfdGhpcy5yZXMuc3RhdHVzKDUwMCkuc2VuZCgpO1xuXG4gICAgICAgICAgaWYoZGF0YSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coY2F0X3NsdWcrIFwiIGFscmVhZHkgZXhpc3RzXCIpO1xuICAgICAgICAgICAgX3RoaXMucmVzLnN0YXR1cygyMDApLmpzb24oe21lc3NhZ2U6IGNhdF9zbHVnK1wiIGFscmVhZHkgZXhpc3RzXCIsIHN0YXR1czpcIjBcIn0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBfdGhpcy5uZXh0KCk7XG4gICAgICAgICAgfVxuXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBkZWxldGVDYXRlZ29yeSgpIHtcbiAgICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgICBsZXQgY2F0X2lkID0gdGhpcy5yZXEucGFyYW1zLmlkO1xuXG4gICAgICBDYXRlZ29yaWVzLmRlbGV0ZUNhdGVnb3J5KGNhdF9pZCwgZnVuY3Rpb24oZXJyLCBkYXRhKXtcbiAgICAgICAgICBpZihlcnIpIF90aGlzLnJlcy5zdGF0dXMoNTAwKS5zZW5kKCk7XG5cbiAgICAgICAgICBpZihkYXRhKSB7XG4gICAgICAgICAgICBfdGhpcy5yZXMuc3RhdHVzKDIwMCkuanNvbihkYXRhKTtcbiAgICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBmZXRjaFVzZXJzKCkge1xuICAgICAgY29uc29sZS5sb2coXCJJbnNkZSBjb250cm9sbGVyOiBmZXRjaFVzZXJzKClcIik7XG4gICAgICBsZXQgZW1haWwgPSB0aGlzLnJlcS5ib2R5LmVtYWlsO1xuICAgICAgbGV0IF90aGlzID0gdGhpcztcbiAgICAgIFVzZXJzLmZpbmRBbGxVc2VycyhlbWFpbCwgZnVuY3Rpb24oZXJyLCBkYXRhKXtcbiAgICAgICAgICBpZihlcnIpIF90aGlzLnJlcy5zdGF0dXMoNTAwKS5zZW5kKCk7XG5cbiAgICAgICAgICBjb25zb2xlLmxvZyhcInVzZXIgZGF0YSBpbiBjb250cm9sbGVyOiBcIiwgZGF0YSk7XG5cbiAgICAgICAgICBpZihkYXRhKSB7XG4gICAgICAgICAgICBfdGhpcy5yZXMuc3RhdHVzKDIwMCkuanNvbih7ZGF0YTpkYXRhLCBzdGF0dXM6XCIxXCIsYWRtaW5Mb2dpbjp0cnVlfSk7XG4gICAgICAgICAgfVxuXG4gICAgICB9KTtcblxuICAgIH1cblxuICAgIHVwZGF0ZUNhdGVnb3J5KCkge1xuICAgICAgY29uc29sZS5sb2coXCJJbnNkZSBjb250cm9sbGVyOiB1cGRhdGVDYXRlZ29yeSgpXCIpO1xuICAgICAgbGV0IGRhdGEgPSB0aGlzLnJlcS5ib2R5O1xuICAgICAgbGV0IF90aGlzID0gdGhpcztcblxuICAgICAgQ2F0ZWdvcmllcy51cGRhdGVDYXRlZ29yeShkYXRhLCBmdW5jdGlvbihlcnIsIGRhdGEpe1xuICAgICAgICAgIGlmKGVycikgX3RoaXMucmVzLnN0YXR1cyg1MDApLnNlbmQoZXJyKTtcblxuICAgICAgICAgIGlmKGRhdGEubj09MSkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLnJlcy5zdGF0dXMoMjAwKS5zZW5kKHttZXNzYWdlOiBcIkNhdGVnb3J5IHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5XCIsXCJzdGF0dXNcIjpcIjFcIn0pO1xuICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gX3RoaXMucmVzLnN0YXR1cygyMDApLnNlbmQoe21lc3NhZ2U6IFwiRGF0YSBub3QgdXBkYXRlZFwiLFwic3RhdHVzXCI6XCIwXCJ9KTtcblxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgZ2V0QWxsUGFyZW50Q2F0cygpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiSW5zZGUgY29udHJvbGxlcjogZ2V0QWxsUGFyZW50Q2F0cygpXCIpO1xuICAgICAgbGV0IF90aGlzID0gdGhpcztcblxuICAgICAgQ2F0ZWdvcmllcy5mZXRjaFBhcmVudENhdHMoZnVuY3Rpb24oZXJyLCBkYXRhKXtcbiAgICAgICAgICBpZihlcnIpIF90aGlzLnJlcy5zdGF0dXMoNTAwKS5zZW5kKGVycik7XG5cbiAgICAgICAgICBjb25zb2xlLmxvZyhcImNhdGVnb3J5IGRhdGEgaW4gY29udHJvbGxlcjogXCIsIGRhdGEpO1xuXG4gICAgICAgICAgaWYoZGF0YSkge1xuICAgICAgICAgICAgX3RoaXMucmVzLnN0YXR1cygyMDApLmpzb24oe2RhdGE6ZGF0YSwgc3RhdHVzOlwiMVwifSk7XG4gICAgICAgICAgfVxuICAgICAgICBjb25zb2xlLmxvZyhcImNhdGVnb3J5ZGZkc2Zkc2ZcIik7XG4gICAgICAgICAgLy9yZXR1cm4gX3RoaXMucmVzLnN0YXR1cyg1MDApLnNlbmQoe21lc3NhZ2U6IFwiRXJyb3Igb2NjdXJlZFwiLFwic3RhdHVzXCI6XCIwXCJ9KTtcblxuICAgICAgfSk7XG4gICAgfVxuXG5cblxuXG59XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "module",
        "exports",
        "req",
        "res",
        "next",
        "console",
        "log",
        "_this",
        "data",
        "body",
        "insertCategory",
        "err",
        "status",
        "send",
        "message",
        "cat_slug",
        "slug",
        "findCategory",
        "json",
        "cat_id",
        "params",
        "id",
        "deleteCategory",
        "email",
        "Users",
        "findAllUsers",
        "adminLogin",
        "updateCategory",
        "n",
        "fetchParentCats"
      ],
      "mappings": "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",
      "file": "index.js",
      "sourceRoot": "/home/monometic/custom_modules/categories",
      "sourcesContent": [
        "import Categories from './models/categories.js';\n\nmodule.exports = class Category {\n    constructor(req, res, next) {\n       this.res = res;\n       this.req = req;\n       this.next = next;\n    }\n\n/*To add new questionnaire category*/\n    insertCat() {\n      console.log(\"inside controller\");\n      let _this = this;\n      let data = this.req.body;\n\n      Categories.insertCategory(data, function(err, data){\n          if(err) _this.res.status(500).send(err);\n\n          return _this.res.status(200).send({message: \"Category added successfully\",\"status\":\"1\"});\n      });\n    }\n\n    checkCategoryExists() {\n      console.log(\"inside controller\");\n      let _this = this;\n      let cat_slug = this.req.body.slug;\n\n      //_this.res.status(200).send({res: 'done'});\n\n      Categories.findCategory(cat_slug, function(err, data){\n          if(err) _this.res.status(500).send();\n\n          if(data) {\n            console.log(cat_slug+ \" already exists\");\n            _this.res.status(200).json({message: cat_slug+\" already exists\", status:\"0\"});\n          } else {\n            _this.next();\n          }\n\n      });\n    }\n\n    deleteCategory() {\n      let _this = this;\n      let cat_id = this.req.params.id;\n\n      Categories.deleteCategory(cat_id, function(err, data){\n          if(err) _this.res.status(500).send();\n\n          if(data) {\n            _this.res.status(200).json(data);\n          }\n      });\n    }\n\n    fetchUsers() {\n      console.log(\"Insde controller: fetchUsers()\");\n      let email = this.req.body.email;\n      let _this = this;\n      Users.findAllUsers(email, function(err, data){\n          if(err) _this.res.status(500).send();\n\n          console.log(\"user data in controller: \", data);\n\n          if(data) {\n            _this.res.status(200).json({data:data, status:\"1\",adminLogin:true});\n          }\n\n      });\n\n    }\n\n    updateCategory() {\n      console.log(\"Insde controller: updateCategory()\");\n      let data = this.req.body;\n      let _this = this;\n\n      Categories.updateCategory(data, function(err, data){\n          if(err) _this.res.status(500).send(err);\n\n          if(data.n==1) {\n            return _this.res.status(200).send({message: \"Category updated successfully\",\"status\":\"1\"});\n          } else {\n\n          }\n\n          return _this.res.status(200).send({message: \"Data not updated\",\"status\":\"0\"});\n\n      });\n    }\n\n    getAllParentCats() {\n      console.log(\"Insde controller: getAllParentCats()\");\n      let _this = this;\n\n      Categories.fetchParentCats(function(err, data){\n          if(err) _this.res.status(500).send(err);\n\n          console.log(\"category data in controller: \", data);\n\n          if(data) {\n            _this.res.status(200).json({data:data, status:\"1\"});\n          }\n        console.log(\"categorydfdsfdsf\");\n          //return _this.res.status(500).send({message: \"Error occured\",\"status\":\"0\"});\n\n      });\n    }\n\n\n\n\n}\n"
      ]
    },
    "mtime": 1495715240981
  },
  "{\"filename\":\"/home/monometic/custom_modules/categories/models/categories.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/monometic/custom_modules/categories/models\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.1": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "mongoose",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "mongoose"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/monometic/custom_modules/categories/models/categories.js",
      "filenameRelative": "/home/monometic/custom_modules/categories/models/categories.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "categories.js",
      "sourceFileName": "categories.js",
      "sourceRoot": "/home/monometic/custom_modules/categories/models",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/monometic/custom_modules/categories/models",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "categories"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _mongoose = require('mongoose');\n\nvar _mongoose2 = _interopRequireDefault(_mongoose);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar ObjectId = require('mongoose').Types.ObjectId;\n\n// let healthAreaSchema = mongoose.Schema({\n// \t_id: {\n// \t\ttype: mongoose.Schema.Types.ObjectId,\n// \t\trequired: false\n// \t}\n// });\n\nvar Categories = _mongoose2.default.Schema({\n\tname: {\n\t\ttype: String,\n\t\trequired: true\n\t},\n\tslug: {\n\t\ttype: String,\n\t\trequired: true\n\t},\n\tdescription: {\n\t\ttype: String,\n\t\trequired: true\n\t},\n\tcreated: {\n\t\ttype: Date,\n\t\tdefault: new Date()\n\t},\n\tcreatedBy: {\n\t\ttype: _mongoose2.default.Schema.Types.ObjectId,\n\t\trequired: false\n\t},\n\tmodified: {\n\t\ttype: Date,\n\t\trequired: false\n\t},\n\tmodifiedBy: {\n\t\ttype: _mongoose2.default.Schema.Types.ObjectId,\n\t\trequired: false\n\t},\n\tis_deleted: {\n\t\ttype: Number, default: 0\n\t},\n\tparent_id: { type: _mongoose2.default.Schema.Types.ObjectId, ref: 'categories' }\n\n});\n\nCategories.statics.insertCategory = function (data, callBack) {\n\tconsole.log(\"inside create function\");\n\n\tvar category = new this(data);\n\tconsole.log(category);\n\n\tcategory.save(function (err, res) {\n\t\tif (!res) callBack(err, null);\n\t\tcallBack(null, res);\n\t});\n};\n\nCategories.statics.findCategory = function (cat_slug, callBack) {\n\tconsole.log(\"Inside find category method, slug: \", cat_slug);\n\n\tthis.findOne({ slug: cat_slug }, function (err, category) {\n\t\tif (err) return callBack(null, null);\n\t\tconsole.log(\"category data: \", category);\n\t\tif (category) return callBack(null, category);\n\t\treturn callBack(null, null);\n\t});\n};\n\nCategories.statics.deleteCategory = function (id, callBack) {\n\tconsole.log(\"Inside delete category method, id: \", id);\n\n\tthis.remove({ _id: { $eq: id } }).exec(function (err, response) {\n\t\tif (err) {\n\t\t\tif (err) return callBack(null, null);\n\t\t}\n\n\t\tif (response.result.n == 0) {\n\t\t\treturn callBack(null, { message: \"No record deleted\" });\n\t\t}\n\n\t\treturn callBack(null, { message: \"Data deleted\" });\n\t});\n};\n\nCategories.statics.updateCategory = function (data, callBack) {\n\tconsole.log(\"inside Update function\", data);\n\n\tvar catId = data.id;\n\n\tdata.modified = new Date();\n\tdelete data._id;\n\tvar category = new this(data);\n\tthis.update({ _id: catId }, { $set: data }, function (err, res) {\n\t\tif (!res) callBack(err, null);\n\n\t\tcallBack(null, res);\n\t});\n};\n\nCategories.statics.fetchParentCats = function (callBack) {\n\tconsole.log(\"inside fetch cat function\");\n\n\tthis.find({ parent_id: undefined }, { __v: 0 }, function (err, allCats) {\n\t\tif (err) return callBack(null, null);\n\n\t\tif (allCats) {\n\t\t\treturn callBack(null, allCats);\n\t\t}\n\t\treturn callBack(null, null);\n\t});\n};\n\nexports.default = _mongoose2.default.model('categories', Categories);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhdGVnb3JpZXMuanMiXSwibmFtZXMiOlsiT2JqZWN0SWQiLCJyZXF1aXJlIiwiVHlwZXMiLCJDYXRlZ29yaWVzIiwiU2NoZW1hIiwibmFtZSIsInR5cGUiLCJTdHJpbmciLCJyZXF1aXJlZCIsInNsdWciLCJkZXNjcmlwdGlvbiIsImNyZWF0ZWQiLCJEYXRlIiwiZGVmYXVsdCIsImNyZWF0ZWRCeSIsIm1vZGlmaWVkIiwibW9kaWZpZWRCeSIsImlzX2RlbGV0ZWQiLCJOdW1iZXIiLCJwYXJlbnRfaWQiLCJyZWYiLCJzdGF0aWNzIiwiaW5zZXJ0Q2F0ZWdvcnkiLCJkYXRhIiwiY2FsbEJhY2siLCJjb25zb2xlIiwibG9nIiwiY2F0ZWdvcnkiLCJzYXZlIiwiZXJyIiwicmVzIiwiZmluZENhdGVnb3J5IiwiY2F0X3NsdWciLCJmaW5kT25lIiwiZGVsZXRlQ2F0ZWdvcnkiLCJpZCIsInJlbW92ZSIsIl9pZCIsIiRlcSIsImV4ZWMiLCJyZXNwb25zZSIsInJlc3VsdCIsIm4iLCJtZXNzYWdlIiwidXBkYXRlQ2F0ZWdvcnkiLCJjYXRJZCIsInVwZGF0ZSIsIiRzZXQiLCJmZXRjaFBhcmVudENhdHMiLCJmaW5kIiwidW5kZWZpbmVkIiwiX192IiwiYWxsQ2F0cyIsIm1vZGVsIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTs7Ozs7O0FBQ0EsSUFBSUEsV0FBV0MsUUFBUSxVQUFSLEVBQW9CQyxLQUFwQixDQUEwQkYsUUFBekM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLElBQU1HLGFBQWEsbUJBQVNDLE1BQVQsQ0FBZ0I7QUFDakNDLE9BQU87QUFDTEMsUUFBTUMsTUFERDtBQUVGQyxZQUFVO0FBRlIsRUFEMEI7QUFLL0JDLE9BQU87QUFDUkgsUUFBTUMsTUFERTtBQUVMQyxZQUFVO0FBRkwsRUFMd0I7QUFTakNFLGNBQVk7QUFDWEosUUFBTUMsTUFESztBQUVSQyxZQUFVO0FBRkYsRUFUcUI7QUFhakNHLFVBQVM7QUFDTEwsUUFBTU0sSUFE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QUFPVyxLQUFLYyxHQUFaO0FBQ0EsS0FBSVYsV0FBVyxJQUFJLElBQUosQ0FBU0osSUFBVCxDQUFmO0FBQ0EsTUFBS3VCLE1BQUwsQ0FBWSxFQUFDVCxLQUFLUSxLQUFOLEVBQVosRUFBMEIsRUFBQ0UsTUFBTXhCLElBQVAsRUFBMUIsRUFBdUMsVUFBU00sR0FBVCxFQUFjQyxHQUFkLEVBQW1CO0FBQ3pELE1BQUcsQ0FBQ0EsR0FBSixFQUFTTixTQUFTSyxHQUFULEVBQWMsSUFBZDs7QUFFVEwsV0FBVSxJQUFWLEVBQWdCTSxHQUFoQjtBQUNBLEVBSkQ7QUFLQSxDQWJEOztBQWVBM0IsV0FBV2tCLE9BQVgsQ0FBbUIyQixlQUFuQixHQUFxQyxVQUFTeEIsUUFBVCxFQUFtQjtBQUN2REMsU0FBUUMsR0FBUixDQUFZLDJCQUFaOztBQUVBLE1BQUt1QixJQUFMLENBQVcsRUFBRTlCLFdBQVcrQixTQUFiLEVBQVgsRUFBcUMsRUFBQ0MsS0FBSSxDQUFMLEVBQXJDLEVBQThDLFVBQVN0QixHQUFULEVBQWN1QixPQUFkLEVBQXNCO0FBQ25FLE1BQUd2QixHQUFILEVBQVEsT0FBT0wsU0FBUyxJQUFULEVBQWUsSUFBZixDQUFQOztBQUVSLE1BQUc0QixPQUFILEVBQVk7QUFDWCxVQUFPNUIsU0FBUyxJQUFULEVBQWU0QixPQUFmLENBQVA7QUFDQTtBQUNELFNBQU81QixTQUFTLElBQVQsRUFBZSxJQUFmLENBQVA7QUFDQSxFQVBEO0FBUUEsQ0FYRDs7a0JBZ0JlLG1CQUFTNkIsS0FBVCxDQUFlLFlBQWYsRUFBNkJsRCxVQUE3QixDIiwiZmlsZSI6ImNhdGVnb3JpZXMuanMiLCJzb3VyY2VSb290IjoiL2hvbWUvbW9ub21ldGljL2N1c3RvbV9tb2R1bGVzL2NhdGVnb3JpZXMvbW9kZWxzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcbmxldCBPYmplY3RJZCA9IHJlcXVpcmUoJ21vbmdvb3NlJykuVHlwZXMuT2JqZWN0SWQ7XG5cbi8vIGxldCBoZWFsdGhBcmVhU2NoZW1hID0gbW9uZ29vc2UuU2NoZW1hKHtcbi8vIFx0X2lkOiB7XG4vLyBcdFx0dHlwZTogbW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkLFxuLy8gXHRcdHJlcXVpcmVkOiBmYWxzZVxuLy8gXHR9XG4vLyB9KTtcblxuY29uc3QgQ2F0ZWdvcmllcyA9IG1vbmdvb3NlLlNjaGVtYSh7XG5cdFx0bmFtZSA6IHtcblx0XHRcdCB0eXBlOiBTdHJpbmcsXG5cdCAgICAgXHRyZXF1aXJlZDogdHJ1ZVxuXHRcdH0sXG4gICAgc2x1ZyA6IHtcblx0XHQgdHlwZTogU3RyaW5nLFxuICAgICBcdHJlcXVpcmVkOiB0cnVlXG5cdFx0fSxcblx0XHRkZXNjcmlwdGlvbjp7XG5cdFx0XHR0eXBlOiBTdHJpbmcsXG4gICAgICByZXF1aXJlZDogdHJ1ZVxuXHRcdH0sXG5cdFx0Y3JlYXRlZDoge1xuXHRcdCAgICB0eXBlOiBEYXRlLFxuXHRcdCAgICBkZWZhdWx0IDogbmV3IERhdGUoKVxuXHRcdH0sXG5cdFx0Y3JlYXRlZEJ5OiB7XG5cdFx0ICAgIHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCxcblx0XHQgICAgcmVxdWlyZWQ6IGZhbHNlXG5cdFx0fSxcblx0XHRtb2RpZmllZDoge1xuXHRcdCAgICB0eXBlOiBEYXRlLFxuXHRcdCAgICByZXF1aXJlZDogZmFsc2Vcblx0XHR9LFxuXHRcdG1vZGlmaWVkQnk6IHtcblx0XHQgICAgdHlwZTogbW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkLFxuXHRcdCAgICByZXF1aXJlZDogZmFsc2Vcblx0XHR9LFxuXHRcdGlzX2RlbGV0ZWQ6IHtcblx0XHRcdHR5cGU6IE51bWJlciwgZGVmYXVsdDogMFxuXHRcdH0sXG5cdFx0cGFyZW50X2lkOnt0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsIHJlZjogJ2NhdGVnb3JpZXMnfVxuXG59KTtcblxuQ2F0ZWdvcmllcy5zdGF0aWNzLmluc2VydENhdGVnb3J5ID0gZnVuY3Rpb24oZGF0YSwgY2FsbEJhY2spe1xuICBjb25zb2xlLmxvZyhcImluc2lkZSBjcmVhdGUgZnVuY3Rpb25cIik7XG5cbiAgbGV0IGNhdGVnb3J5ID0gbmV3IHRoaXMoZGF0YSk7XG5cdGNvbnNvbGUubG9nKGNhdGVnb3J5KTtcblxuICBjYXRlZ29yeS5zYXZlKGZ1bmN0aW9uKGVyciwgcmVzKSB7XG4gICAgaWYoIXJlcykgY2FsbEJhY2soZXJyLCBudWxsKTtcbiAgICBjYWxsQmFjayggbnVsbCwgcmVzKTtcbiAgfSk7XG5cbn1cblxuQ2F0ZWdvcmllcy5zdGF0aWNzLmZpbmRDYXRlZ29yeSA9IGZ1bmN0aW9uKGNhdF9zbHVnLCBjYWxsQmFjaykge1xuXHRjb25zb2xlLmxvZyhcIkluc2lkZSBmaW5kIGNhdGVnb3J5IG1ldGhvZCwgc2x1ZzogXCIsIGNhdF9zbHVnKTtcblxuXHR0aGlzLmZpbmRPbmUoe3NsdWc6Y2F0X3NsdWd9LGZ1bmN0aW9uKGVyciwgY2F0ZWdvcnkpe1xuXHRcdGlmKGVycikgcmV0dXJuIGNhbGxCYWNrKG51bGwsIG51bGwpO1xuXHRcdGNvbnNvbGUubG9nKFwiY2F0ZWdvcnkgZGF0YTogXCIsIGNhdGVnb3J5KTtcblx0XHRpZihjYXRlZ29yeSkgcmV0dXJuIGNhbGxCYWNrKG51bGwsIGNhdGVnb3J5KTtcblx0XHRyZXR1cm4gY2FsbEJhY2sobnVsbCwgbnVsbCk7XG5cdH0pO1xuXG5cbn1cblxuQ2F0ZWdvcmllcy5zdGF0aWNzLmRlbGV0ZUNhdGVnb3J5ID0gZnVuY3Rpb24oaWQsIGNhbGxCYWNrKSB7XG5cdGNvbnNvbGUubG9nKFwiSW5zaWRlIGRlbGV0ZSBjYXRlZ29yeSBtZXRob2QsIGlkOiBcIiwgaWQpO1xuXG5cdHRoaXMucmVtb3ZlKCB7IF9pZDogeyAkZXE6IGlkIH0gfSkuZXhlYyhmdW5jdGlvbihlcnIsIHJlc3BvbnNlKXtcblx0XHRpZihlcnIpIHtcblx0XHRcdGlmKGVycikgcmV0dXJuIGNhbGxCYWNrKG51bGwsIG51bGwpO1xuXHRcdH1cblxuXHRcdGlmKHJlc3BvbnNlLnJlc3VsdC5uID09IDApIHtcblx0XHRcdHJldHVybiBjYWxsQmFjayhudWxsLCB7bWVzc2FnZTpcIk5vIHJlY29yZCBkZWxldGVkXCJ9KTtcblx0XHR9XG5cblx0XHRyZXR1cm4gY2FsbEJhY2sobnVsbCwge21lc3NhZ2U6XCJEYXRhIGRlbGV0ZWRcIn0pO1xuXHR9KTtcblxufVxuXG5DYXRlZ29yaWVzLnN0YXRpY3MudXBkYXRlQ2F0ZWdvcnkgPSBmdW5jdGlvbihkYXRhLCBjYWxsQmFjaykge1xuXHRjb25zb2xlLmxvZyhcImluc2lkZSBVcGRhdGUgZnVuY3Rpb25cIiwgZGF0YSk7XG5cblx0bGV0IGNhdElkID0gZGF0YS5pZDtcblxuXHRkYXRhLm1vZGlmaWVkID0gbmV3IERhdGUoKTtcblx0ZGVsZXRlIGRhdGEuX2lkO1xuXHRsZXQgY2F0ZWdvcnkgPSBuZXcgdGhpcyhkYXRhKTtcblx0dGhpcy51cGRhdGUoe19pZDogY2F0SWR9LCB7JHNldDogZGF0YX0sZnVuY3Rpb24oZXJyLCByZXMpIHtcblx0XHRpZighcmVzKSBjYWxsQmFjayhlcnIsIG51bGwpO1xuXG5cdFx0Y2FsbEJhY2soIG51bGwsIHJlcyk7XG5cdH0pO1xufVxuXG5DYXRlZ29yaWVzLnN0YXRpY3MuZmV0Y2hQYXJlbnRDYXRzID0gZnVuY3Rpb24oY2FsbEJhY2spIHtcblx0Y29uc29sZS5sb2coXCJpbnNpZGUgZmV0Y2ggY2F0IGZ1bmN0aW9uXCIpO1xuXG5cdHRoaXMuZmluZCggeyBwYXJlbnRfaWQ6IHVuZGVmaW5lZCB9LCB7X192OjB9ICxmdW5jdGlvbihlcnIsIGFsbENhdHMpe1xuXHRcdGlmKGVycikgcmV0dXJuIGNhbGxCYWNrKG51bGwsIG51bGwpO1xuXG5cdFx0aWYoYWxsQ2F0cykge1xuXHRcdFx0cmV0dXJuIGNhbGxCYWNrKG51bGwsIGFsbENhdHMpO1xuXHRcdH1cblx0XHRyZXR1cm4gY2FsbEJhY2sobnVsbCwgbnVsbCk7XG5cdH0pO1xufVxuXG5cblxuXG5leHBvcnQgZGVmYXVsdCBtb25nb29zZS5tb2RlbCgnY2F0ZWdvcmllcycsIENhdGVnb3JpZXMpO1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "categories.js"
      ],
      "names": [
        "ObjectId",
        "require",
        "Types",
        "Categories",
        "Schema",
        "name",
        "type",
        "String",
        "required",
        "slug",
        "description",
        "created",
        "Date",
        "default",
        "createdBy",
        "modified",
        "modifiedBy",
        "is_deleted",
        "Number",
        "parent_id",
        "ref",
        "statics",
        "insertCategory",
        "data",
        "callBack",
        "console",
        "log",
        "category",
        "save",
        "err",
        "res",
        "findCategory",
        "cat_slug",
        "findOne",
        "deleteCategory",
        "id",
        "remove",
        "_id",
        "$eq",
        "exec",
        "response",
        "result",
        "n",
        "message",
        "updateCategory",
        "catId",
        "update",
        "$set",
        "fetchParentCats",
        "find",
        "undefined",
        "__v",
        "allCats",
        "model"
      ],
      "mappings": "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",
      "file": "categories.js",
      "sourceRoot": "/home/monometic/custom_modules/categories/models",
      "sourcesContent": [
        "import mongoose from 'mongoose';\nlet ObjectId = require('mongoose').Types.ObjectId;\n\n// let healthAreaSchema = mongoose.Schema({\n// \t_id: {\n// \t\ttype: mongoose.Schema.Types.ObjectId,\n// \t\trequired: false\n// \t}\n// });\n\nconst Categories = mongoose.Schema({\n\t\tname : {\n\t\t\t type: String,\n\t     \trequired: true\n\t\t},\n    slug : {\n\t\t type: String,\n     \trequired: true\n\t\t},\n\t\tdescription:{\n\t\t\ttype: String,\n      required: true\n\t\t},\n\t\tcreated: {\n\t\t    type: Date,\n\t\t    default : new Date()\n\t\t},\n\t\tcreatedBy: {\n\t\t    type: mongoose.Schema.Types.ObjectId,\n\t\t    required: false\n\t\t},\n\t\tmodified: {\n\t\t    type: Date,\n\t\t    required: false\n\t\t},\n\t\tmodifiedBy: {\n\t\t    type: mongoose.Schema.Types.ObjectId,\n\t\t    required: false\n\t\t},\n\t\tis_deleted: {\n\t\t\ttype: Number, default: 0\n\t\t},\n\t\tparent_id:{type: mongoose.Schema.Types.ObjectId, ref: 'categories'}\n\n});\n\nCategories.statics.insertCategory = function(data, callBack){\n  console.log(\"inside create function\");\n\n  let category = new this(data);\n\tconsole.log(category);\n\n  category.save(function(err, res) {\n    if(!res) callBack(err, null);\n    callBack( null, res);\n  });\n\n}\n\nCategories.statics.findCategory = function(cat_slug, callBack) {\n\tconsole.log(\"Inside find category method, slug: \", cat_slug);\n\n\tthis.findOne({slug:cat_slug},function(err, category){\n\t\tif(err) return callBack(null, null);\n\t\tconsole.log(\"category data: \", category);\n\t\tif(category) return callBack(null, category);\n\t\treturn callBack(null, null);\n\t});\n\n\n}\n\nCategories.statics.deleteCategory = function(id, callBack) {\n\tconsole.log(\"Inside delete category method, id: \", id);\n\n\tthis.remove( { _id: { $eq: id } }).exec(function(err, response){\n\t\tif(err) {\n\t\t\tif(err) return callBack(null, null);\n\t\t}\n\n\t\tif(response.result.n == 0) {\n\t\t\treturn callBack(null, {message:\"No record deleted\"});\n\t\t}\n\n\t\treturn callBack(null, {message:\"Data deleted\"});\n\t});\n\n}\n\nCategories.statics.updateCategory = function(data, callBack) {\n\tconsole.log(\"inside Update function\", data);\n\n\tlet catId = data.id;\n\n\tdata.modified = new Date();\n\tdelete data._id;\n\tlet category = new this(data);\n\tthis.update({_id: catId}, {$set: data},function(err, res) {\n\t\tif(!res) callBack(err, null);\n\n\t\tcallBack( null, res);\n\t});\n}\n\nCategories.statics.fetchParentCats = function(callBack) {\n\tconsole.log(\"inside fetch cat function\");\n\n\tthis.find( { parent_id: undefined }, {__v:0} ,function(err, allCats){\n\t\tif(err) return callBack(null, null);\n\n\t\tif(allCats) {\n\t\t\treturn callBack(null, allCats);\n\t\t}\n\t\treturn callBack(null, null);\n\t});\n}\n\n\n\n\nexport default mongoose.model('categories', Categories);\n"
      ]
    },
    "mtime": 1495715249553
  },
  "{\"filename\":\"/home/monometic/custom_modules/quotes/routes/index.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/monometic/custom_modules/quotes/routes\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.1": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "express",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "express"
              }
            ]
          },
          {
            "source": "../index",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "Quote"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/monometic/custom_modules/quotes/routes/index.js",
      "filenameRelative": "/home/monometic/custom_modules/quotes/routes/index.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "index.js",
      "sourceFileName": "index.js",
      "sourceRoot": "/home/monometic/custom_modules/quotes/routes",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/monometic/custom_modules/quotes/routes",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "index"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _express = require('express');\n\nvar _express2 = _interopRequireDefault(_express);\n\nvar _index = require('../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar passport = require('passport');\nvar quoteRoutes = _express2.default.Router();\n\n/*Route for LIST Category*/\nquoteRoutes.post('/', function (req, res, next) {\n  console.log(\"inside routes\");\n  var quotesCtrl = new _index2.default(req, res, next);\n\n  quotesCtrl.checkSymbolExists();\n}, function (req, res) {\n  var quotesCtrl = new _index2.default(req, res);\n  quotesCtrl.insertSymbol();\n});\n\nquoteRoutes.get('/', function (req, res, next) {\n  console.log(\"inside USER FETCH ROUTE\");\n  var quotesCtrl = new _index2.default(req, res, next);\n\n  quotesCtrl.fetchQuotes();\n});\n\nquoteRoutes.get('/:symbol', function (req, res, next) {\n  console.log(\"inside USER FETCH ROUTE\");\n  var quotesCtrl = new _index2.default(req, res, next);\n\n  quotesCtrl.getQuoueDetails();\n});\n\n// // userRoutes.post('/login', (req, res) => {\n// //   console.log(\"inside USER login Route\");\n// //   let usersCtrl = new User(req, res);\n// //\n// //   usersCtrl.loginUser();\n// // });\n\n\n// userRoutes.post('/login', Auth.login, (req, res) => {\n//   console.log(\"inside after next function\");\n\n//   let usersCtrl = new User(req, res);\n//   usersCtrl.fetchUsers();\n// });\n\nquoteRoutes.delete('/:id', function (req, res, next) {\n  console.log(\"inside delete quote routes\");\n  var quotesCtrl = new _index2.default(req, res, next);\n  quotesCtrl.deleteQuote();\n});\n\n// userRoutes.get('/:id', (req, res, next) => {\n//     console.log(\"inside fetch user record routes\");\n//     let usersCtrl = new User(req, res, next);\n//     usersCtrl.fetchUser();\n\n// });\n\n\n// userRoutes.put('/update', (req, res, next) => {\n//     console.log(\"inside update user routes\");\n//     let usersCtrl = new User(req, res, next);\n//     usersCtrl.updateUser();\n\n// });\n\n// userRoutes.post('/getUser', (req, res, next) => {\n//   let usersCtrl = new User(req, res, next);\n//   usersCtrl.fetchUserByEmail();\n// });\n\nexports.default = quoteRoutes;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbInBhc3Nwb3J0IiwicmVxdWlyZSIsInF1b3RlUm91dGVzIiwiUm91dGVyIiwicG9zdCIsInJlcSIsInJlcyIsIm5leHQiLCJjb25zb2xlIiwibG9nIiwicXVvdGVzQ3RybCIsImNoZWNrU3ltYm9sRXhpc3RzIiwiaW5zZXJ0U3ltYm9sIiwiZ2V0IiwiZmV0Y2hRdW90ZXMiLCJnZXRRdW91ZURldGFpbHMiLCJkZWxldGUiLCJkZWxldGVRdW90ZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7Ozs7QUFDQTs7Ozs7O0FBRUEsSUFBSUEsV0FBV0MsUUFBUSxVQUFSLENBQWY7QUFDQSxJQUFNQyxjQUFjLGtCQUFRQyxNQUFSLEVBQXBCOztBQUVBO0FBQ0FELFlBQVlFLElBQVosQ0FBaUIsR0FBakIsRUFBc0IsVUFBQ0MsR0FBRCxFQUFNQyxHQUFOLEVBQVdDLElBQVgsRUFBb0I7QUFDeENDLFVBQVFDLEdBQVIsQ0FBWSxlQUFaO0FBQ0MsTUFBSUMsYUFBYSxvQkFBVUwsR0FBVixFQUFlQyxHQUFmLEVBQW9CQyxJQUFwQixDQUFqQjs7QUFFQ0csYUFBV0MsaUJBQVg7QUFHSCxDQVBELEVBT0csVUFBU04sR0FBVCxFQUFjQyxHQUFkLEVBQWtCO0FBQ25CLE1BQUlJLGFBQWEsb0JBQVVMLEdBQVYsRUFBZUMsR0FBZixDQUFqQjtBQUNBSSxhQUFXRSxZQUFYO0FBQ0QsQ0FWRDs7QUFhQVYsWUFBWVcsR0FBWixDQUFnQixHQUFoQixFQUFxQixVQUFDUixHQUFELEVBQU1DLEdBQU4sRUFBV0MsSUFBWCxFQUFvQjtBQUN2Q0MsVUFBUUMsR0FBUixDQUFZLHlCQUFaO0FBQ0EsTUFBSUMsYUFBYSxvQkFBVUwsR0FBVixFQUFlQyxHQUFmLEVBQW9CQyxJQUFwQixDQUFqQjs7QUFFQUcsYUFBV0ksV0FBWDtBQUNELENBTEQ7O0FBT0FaLFlBQVlXLEdBQVosQ0FBZ0IsVUFBaEIsRUFBNEIsVUFBQ1IsR0FBRCxFQUFNQyxHQUFOLEVBQVdDLElBQVgsRUFBb0I7QUFDOUNDLFVBQVFDLEdBQVIsQ0FBWSx5QkFBWjtBQUNBLE1BQUlDLGFBQWEsb0JBQVVMLEdBQVYsRUFBZUMsR0FBZixFQUFvQkMsSUFBcEIsQ0FBakI7O0FBRUFHLGFBQVdLLGVBQVg7QUFDRCxDQUxEOztBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUFiLFlBQVljLE1BQVosQ0FBbUIsTUFBbkIsRUFBMkIsVUFBQ1gsR0FBRCxFQUFNQyxHQUFOLEVBQVdDLElBQVgsRUFBb0I7QUFDM0NDLFVBQVFDLEdBQVIsQ0FBWSw0QkFBWjtBQUNELE1BQUlDLGFBQWEsb0JBQVVMLEdBQVYsRUFBZUMsR0FBZixFQUFvQkMsSUFBcEIsQ0FBakI7QUFDQ0csYUFBV08sV0FBWDtBQUVILENBTEQ7O0FBT0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztrQkFFZWYsVyIsImZpbGUiOiJpbmRleC5qcyIsInNvdXJjZVJvb3QiOiIvaG9tZS9tb25vbWV0aWMvY3VzdG9tX21vZHVsZXMvcXVvdGVzL3JvdXRlcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IFF1b3RlIGZyb20gJy4uL2luZGV4JztcblxudmFyIHBhc3Nwb3J0ID0gcmVxdWlyZSgncGFzc3BvcnQnKTtcbmNvbnN0IHF1b3RlUm91dGVzID0gZXhwcmVzcy5Sb3V0ZXIoKTtcblxuLypSb3V0ZSBmb3IgTElTVCBDYXRlZ29yeSovXG5xdW90ZVJvdXRlcy5wb3N0KCcvJywgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIGNvbnNvbGUubG9nKFwiaW5zaWRlIHJvdXRlc1wiKTtcbiAgXHRsZXQgcXVvdGVzQ3RybCA9IG5ldyBRdW90ZShyZXEsIHJlcywgbmV4dCk7XG5cbiAgICBxdW90ZXNDdHJsLmNoZWNrU3ltYm9sRXhpc3RzKCk7XG4gICAgXG5cbn0sIGZ1bmN0aW9uKHJlcSwgcmVzKXtcbiAgbGV0IHF1b3Rlc0N0cmwgPSBuZXcgUXVvdGUocmVxLCByZXMpO1xuICBxdW90ZXNDdHJsLmluc2VydFN5bWJvbCgpO1xufSk7XG5cblxucXVvdGVSb3V0ZXMuZ2V0KCcvJywgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIGNvbnNvbGUubG9nKFwiaW5zaWRlIFVTRVIgRkVUQ0ggUk9VVEVcIik7XG4gIGxldCBxdW90ZXNDdHJsID0gbmV3IFF1b3RlKHJlcSwgcmVzLCBuZXh0KTtcblxuICBxdW90ZXNDdHJsLmZldGNoUXVvdGVzKCk7XG59KTtcblxucXVvdGVSb3V0ZXMuZ2V0KCcvOnN5bWJvbCcsIChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICBjb25zb2xlLmxvZyhcImluc2lkZSBVU0VSIEZFVENIIFJPVVRFXCIpO1xuICBsZXQgcXVvdGVzQ3RybCA9IG5ldyBRdW90ZShyZXEsIHJlcywgbmV4dCk7XG5cbiAgcXVvdGVzQ3RybC5nZXRRdW91ZURldGFpbHMoKTtcbn0pO1xuXG4vLyAvLyB1c2VyUm91dGVzLnBvc3QoJy9sb2dpbicsIChyZXEsIHJlcykgPT4ge1xuLy8gLy8gICBjb25zb2xlLmxvZyhcImluc2lkZSBVU0VSIGxvZ2luIFJvdXRlXCIpO1xuLy8gLy8gICBsZXQgdXNlcnNDdHJsID0gbmV3IFVzZXIocmVxLCByZXMpO1xuLy8gLy9cbi8vIC8vICAgdXNlcnNDdHJsLmxvZ2luVXNlcigpO1xuLy8gLy8gfSk7XG5cblxuLy8gdXNlclJvdXRlcy5wb3N0KCcvbG9naW4nLCBBdXRoLmxvZ2luLCAocmVxLCByZXMpID0+IHtcbi8vICAgY29uc29sZS5sb2coXCJpbnNpZGUgYWZ0ZXIgbmV4dCBmdW5jdGlvblwiKTtcblxuLy8gICBsZXQgdXNlcnNDdHJsID0gbmV3IFVzZXIocmVxLCByZXMpO1xuLy8gICB1c2Vyc0N0cmwuZmV0Y2hVc2VycygpO1xuLy8gfSk7XG5cbnF1b3RlUm91dGVzLmRlbGV0ZSgnLzppZCcsIChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKFwiaW5zaWRlIGRlbGV0ZSBxdW90ZSByb3V0ZXNcIik7XG4gIFx0bGV0IHF1b3Rlc0N0cmwgPSBuZXcgUXVvdGUocmVxLCByZXMsIG5leHQpO1xuICAgIHF1b3Rlc0N0cmwuZGVsZXRlUXVvdGUoKTtcblxufSk7XG5cbi8vIHVzZXJSb3V0ZXMuZ2V0KCcvOmlkJywgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4vLyAgICAgY29uc29sZS5sb2coXCJpbnNpZGUgZmV0Y2ggdXNlciByZWNvcmQgcm91dGVzXCIpO1xuLy8gICAgIGxldCB1c2Vyc0N0cmwgPSBuZXcgVXNlcihyZXEsIHJlcywgbmV4dCk7XG4vLyAgICAgdXNlcnNDdHJsLmZldGNoVXNlcigpO1xuXG4vLyB9KTtcblxuXG4vLyB1c2VyUm91dGVzLnB1dCgnL3VwZGF0ZScsIChyZXEsIHJlcywgbmV4dCkgPT4ge1xuLy8gICAgIGNvbnNvbGUubG9nKFwiaW5zaWRlIHVwZGF0ZSB1c2VyIHJvdXRlc1wiKTtcbi8vICAgICBsZXQgdXNlcnNDdHJsID0gbmV3IFVzZXIocmVxLCByZXMsIG5leHQpO1xuLy8gICAgIHVzZXJzQ3RybC51cGRhdGVVc2VyKCk7XG5cbi8vIH0pO1xuXG4vLyB1c2VyUm91dGVzLnBvc3QoJy9nZXRVc2VyJywgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4vLyAgIGxldCB1c2Vyc0N0cmwgPSBuZXcgVXNlcihyZXEsIHJlcywgbmV4dCk7XG4vLyAgIHVzZXJzQ3RybC5mZXRjaFVzZXJCeUVtYWlsKCk7XG4vLyB9KTtcblxuZXhwb3J0IGRlZmF1bHQgcXVvdGVSb3V0ZXM7XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "passport",
        "require",
        "quoteRoutes",
        "Router",
        "post",
        "req",
        "res",
        "next",
        "console",
        "log",
        "quotesCtrl",
        "checkSymbolExists",
        "insertSymbol",
        "get",
        "fetchQuotes",
        "getQuoueDetails",
        "delete",
        "deleteQuote"
      ],
      "mappings": ";;;;;;AAAA;;;;AACA;;;;;;AAEA,IAAIA,WAAWC,QAAQ,UAAR,CAAf;AACA,IAAMC,cAAc,kBAAQC,MAAR,EAApB;;AAEA;AACAD,YAAYE,IAAZ,CAAiB,GAAjB,EAAsB,UAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AACxCC,UAAQC,GAAR,CAAY,eAAZ;AACC,MAAIC,aAAa,oBAAUL,GAAV,EAAeC,GAAf,EAAoBC,IAApB,CAAjB;;AAECG,aAAWC,iBAAX;AAGH,CAPD,EAOG,UAASN,GAAT,EAAcC,GAAd,EAAkB;AACnB,MAAII,aAAa,oBAAUL,GAAV,EAAeC,GAAf,CAAjB;AACAI,aAAWE,YAAX;AACD,CAVD;;AAaAV,YAAYW,GAAZ,CAAgB,GAAhB,EAAqB,UAACR,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AACvCC,UAAQC,GAAR,CAAY,yBAAZ;AACA,MAAIC,aAAa,oBAAUL,GAAV,EAAeC,GAAf,EAAoBC,IAApB,CAAjB;;AAEAG,aAAWI,WAAX;AACD,CALD;;AAOAZ,YAAYW,GAAZ,CAAgB,UAAhB,EAA4B,UAACR,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAC9CC,UAAQC,GAAR,CAAY,yBAAZ;AACA,MAAIC,aAAa,oBAAUL,GAAV,EAAeC,GAAf,EAAoBC,IAApB,CAAjB;;AAEAG,aAAWK,eAAX;AACD,CALD;;AAOA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;;AAEAb,YAAYc,MAAZ,CAAmB,MAAnB,EAA2B,UAACX,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAC3CC,UAAQC,GAAR,CAAY,4BAAZ;AACD,MAAIC,aAAa,oBAAUL,GAAV,EAAeC,GAAf,EAAoBC,IAApB,CAAjB;AACCG,aAAWO,WAAX;AAEH,CALD;;AAOA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;kBAEef,W",
      "file": "index.js",
      "sourceRoot": "/home/monometic/custom_modules/quotes/routes",
      "sourcesContent": [
        "import express from 'express';\nimport Quote from '../index';\n\nvar passport = require('passport');\nconst quoteRoutes = express.Router();\n\n/*Route for LIST Category*/\nquoteRoutes.post('/', (req, res, next) => {\n  console.log(\"inside routes\");\n  \tlet quotesCtrl = new Quote(req, res, next);\n\n    quotesCtrl.checkSymbolExists();\n    \n\n}, function(req, res){\n  let quotesCtrl = new Quote(req, res);\n  quotesCtrl.insertSymbol();\n});\n\n\nquoteRoutes.get('/', (req, res, next) => {\n  console.log(\"inside USER FETCH ROUTE\");\n  let quotesCtrl = new Quote(req, res, next);\n\n  quotesCtrl.fetchQuotes();\n});\n\nquoteRoutes.get('/:symbol', (req, res, next) => {\n  console.log(\"inside USER FETCH ROUTE\");\n  let quotesCtrl = new Quote(req, res, next);\n\n  quotesCtrl.getQuoueDetails();\n});\n\n// // userRoutes.post('/login', (req, res) => {\n// //   console.log(\"inside USER login Route\");\n// //   let usersCtrl = new User(req, res);\n// //\n// //   usersCtrl.loginUser();\n// // });\n\n\n// userRoutes.post('/login', Auth.login, (req, res) => {\n//   console.log(\"inside after next function\");\n\n//   let usersCtrl = new User(req, res);\n//   usersCtrl.fetchUsers();\n// });\n\nquoteRoutes.delete('/:id', (req, res, next) => {\n    console.log(\"inside delete quote routes\");\n  \tlet quotesCtrl = new Quote(req, res, next);\n    quotesCtrl.deleteQuote();\n\n});\n\n// userRoutes.get('/:id', (req, res, next) => {\n//     console.log(\"inside fetch user record routes\");\n//     let usersCtrl = new User(req, res, next);\n//     usersCtrl.fetchUser();\n\n// });\n\n\n// userRoutes.put('/update', (req, res, next) => {\n//     console.log(\"inside update user routes\");\n//     let usersCtrl = new User(req, res, next);\n//     usersCtrl.updateUser();\n\n// });\n\n// userRoutes.post('/getUser', (req, res, next) => {\n//   let usersCtrl = new User(req, res, next);\n//   usersCtrl.fetchUserByEmail();\n// });\n\nexport default quoteRoutes;\n"
      ]
    },
    "mtime": 1496234793201
  },
  "{\"filename\":\"/home/monometic/custom_modules/quotes/index.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/monometic/custom_modules/quotes\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.1": {
    "metadata": {
      "usedHelpers": [
        "createClass",
        "classCallCheck",
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "./models/quotes.js",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "Quotes"
              }
            ]
          },
          {
            "source": "mongoose",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "mongoose"
              }
            ]
          },
          {
            "source": "fs",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "fs"
              }
            ]
          },
          {
            "source": "request",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "request"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/monometic/custom_modules/quotes/index.js",
      "filenameRelative": "/home/monometic/custom_modules/quotes/index.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "index.js",
      "sourceFileName": "index.js",
      "sourceRoot": "/home/monometic/custom_modules/quotes",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/monometic/custom_modules/quotes",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "index"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _quotes = require('./models/quotes.js');\n\nvar _quotes2 = _interopRequireDefault(_quotes);\n\nvar _mongoose = require('mongoose');\n\nvar _mongoose2 = _interopRequireDefault(_mongoose);\n\nvar _fs = require('fs');\n\nvar _fs2 = _interopRequireDefault(_fs);\n\nvar _request = require('request');\n\nvar _request2 = _interopRequireDefault(_request);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nmodule.exports = function () {\n  function User(req, res, next) {\n    _classCallCheck(this, User);\n\n    this.res = res;\n    this.req = req;\n    this.next = next;\n  }\n\n  /*To add new questionnaire category*/\n\n\n  _createClass(User, [{\n    key: 'insertSymbol',\n    value: function insertSymbol() {\n      console.log(\"inside controller\");\n      var _this = this;\n      var data = this.req.body;\n      console.log(data);\n      //_this.res.status(200).send({res: 'done'});\n\n      this.getSymbolDetails(data, function (symbolDetails) {\n        console.log(symbolDetails);\n        if (symbolDetails.last != \"\" && symbolDetails.last != undefined) {\n          _quotes2.default.insertQuote(symbolDetails, function (err, data) {\n            console.log(err);\n            if (err) _this.res.status(500).send(err.errmsg);\n\n            return _this.res.status(200).send({ message: \"Symbol added successfully\", \"status\": \"1\" });\n          });\n        } else {\n          return _this.res.status(500).send({ message: \"Symbol does not exists.\", \"status\": \"0\" });\n        }\n      });\n    }\n  }, {\n    key: 'getSymbolDetails',\n    value: function getSymbolDetails(quoteDetails, callBack) {\n      console.log(\"inside getSymbolDetails = \", quoteDetails.symbol);\n      var url = 'http://momo-activetick.elasticbeanstalk.com/quoteData?symbol=' + quoteDetails.symbol + '&field=4+10+11+27';\n      //let url = 'http://alpha.foomanchew.com/uber/mean.php?symbol=' + quoteDetails.symbol;\n      (0, _request2.default)(url, function (error, response, apiResponse) {\n\n        //let apiResponse = 'GOOGLE,1,5,1,7,153.4555,10,1,7,153.7111,11,1,7,152.3100,27,1,4,1921232';\n\n        var data = apiResponse.split(',');\n\n        var quoteData = {\n          symbol: data[0],\n          last: data[5],\n          high: data[9],\n          low: data[13],\n          volume: data[17]\n        };\n\n        if (quoteDetails._id != \"\") {\n          quoteData.id = quoteDetails._id;\n        }\n\n        callBack(quoteData);\n      });\n    }\n  }, {\n    key: 'checkSymbolExists',\n    value: function checkSymbolExists() {\n      console.log(\"inside controller\");\n      var _this = this;\n      var symbol = this.req.body.symbol;\n\n      //_this.res.status(200).send({res: 'done'});\n\n      _quotes2.default.findSymbol(symbol, function (err, data) {\n        if (err) _this.res.status(500).send();\n\n        if (data) {\n          console.log(symbol + \" already exists\");\n          _this.res.status(401).json({ message: symbol + \" already exists\", status: \"0\" });\n        } else {\n          _this.next();\n        }\n      });\n    }\n  }, {\n    key: 'fetchQuotes',\n    value: function fetchQuotes() {\n      console.log(\"Insde controller: fetchQuotes()\");\n\n      var _this = this;\n      _quotes2.default.findAllQuotes(function (err, quotes) {\n        if (err) _this.res.status(500).send();\n\n        if (quotes.length == 0) {\n          _this.res.status(200).json({ data: [], status: \"1\", adminLogin: true });\n        }\n\n        if (quotes) {\n          var i;\n\n          (function () {\n\n            var quotesData = [];\n\n            try {\n              var _loop = function _loop() {\n\n                var symbol = quotes[i].symbol;\n                var dataCount = quotes.length;\n                var allQuotes = quotes;\n                _this.getSymbolDetails(quotes[i], function (symbolDetails) {\n\n                  quotesData.push(symbolDetails);\n\n                  if (dataCount == quotesData.length) {\n\n                    var result = [];\n                    allQuotes.forEach(function (key) {\n                      var found = false;\n\n                      quotesData = quotesData.filter(function (item) {\n                        try {\n                          if (!found && item.id == key._id) {\n                            result.push(item);\n                            found = true;\n                            return false;\n                          } else return true;\n                        } catch (e) {\n                          console.log(e);\n                        }\n                      });\n                      if (result.length == dataCount) {\n                        try {\n                          console.log(result.length);\n                          _this.res.status(200).json({ data: result, status: \"1\", adminLogin: true });\n                        } catch (e) {\n                          console.log(e);\n                        }\n                      }\n                    });\n                  }\n                });\n              };\n\n              for (i = 0; i < quotes.length; i++) {\n                _loop();\n              }\n            } catch (e) {\n              console.log(e);\n            }\n          })();\n        }\n      });\n    }\n  }, {\n    key: 'getQuoueDetails',\n    value: function getQuoueDetails() {\n      var _this = this;\n      var symbol = this.req.params.symbol;\n\n      _this.getSymbolDetails({ symbol: symbol }, function (symbolDetails) {\n        _this.res.status(200).json({ data: symbolDetails, status: \"1\" });\n      });\n    }\n\n    // loginUser() {\n    //   console.log(\"Insde controller: loginUser()\");\n    //   let _this = this;\n    //   let email = this.req.body.email;\n    //   let password = this.req.body.password;\n\n    //   let userObj = {email, password};\n\n    //   Users.authenticateUser(userObj, function(err, data){\n    //       if(err) _this.res.status(500).send();\n\n    //       console.log(\"user data in controller: \", data);\n\n    //       if(data) {\n    //         _this.res.status(200).json({data:data, status:\"1\"});\n    //       }\n\n    //   });\n\n    // }\n\n  }, {\n    key: 'deleteQuote',\n    value: function deleteQuote() {\n      var _this = this;\n      var quote_id = this.req.params.id;\n\n      _quotes2.default.deleteQuote(quote_id, function (err, data) {\n        if (err) _this.res.status(500).send();\n\n        if (data) {\n          _this.res.status(200).json(data);\n        }\n      });\n    }\n\n    // fetchUser() {\n    //   let _this = this;\n    //   let user_id = this.req.params.id;\n\n    //   Users.fetchUserData(user_id, function(err, data){\n    //       if(err) _this.res.status(500).send();\n\n    //       if(data) {\n    //         _this.res.status(200).json(data);\n    //       }\n    //   });\n    // }\n\n\n    // updateUser() {\n    //   console.log(\"Insde controller: updateUser()\");\n    //   let data = this.req.body;\n    //   let _this = this;\n    //   console.log(data);\n    //   if(\"profile_image\" in  data) {\n    //     let image_name = __dirname + '/../../public/images/user_images/' + data.id + '.png';\n    //     let buff = new Buffer(data.profile_image\n    //         .replace(/^data:image\\/(png|gif|jpeg);base64,/,''), 'base64');\n\n    //     fs.writeFile(image_name, buff, function (err) {\n    //         console.log('done');\n    //     });\n    //   }\n\n\n    //   Users.updateUserDetail(data, function(err, data){\n    //       if(err) _this.res.status(500).send(err);\n\n    //       if(data.n==1) {\n    //         return _this.res.status(200).send({message: \"User updated successfully\",\"status\":\"1\"});\n    //       } else {\n\n    //       }\n\n    //       return _this.res.status(200).send({message: \"Data not updated\",\"status\":\"0\"});\n\n    //   });\n    // }\n\n    // fetchUserByEmail() {\n    //   console.log(\"inside controller\");\n    //   let _this = this;\n    //   let email = this.req.body.email;\n\n    //   //_this.res.status(200).send({res: 'done'});\n\n    //   Users.findUser(email, function(err, data){\n    //       if(err) _this.res.status(500).send();\n\n    //       if(data) {\n    //         console.log(email+ \" already exists\");\n    //         return _this.res.status(200).json({message: email+\" already exists\", status:\"0\"});\n    //       }\n\n    //       return _this.res.status(200).send({message: \"\",\"status\":\"1\"});\n\n    //   });\n    // }\n\n\n  }]);\n\n  return User;\n}();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIm1vZHVsZSIsImV4cG9ydHMiLCJyZXEiLCJyZXMiLCJuZXh0IiwiY29uc29sZSIsImxvZyIsIl90aGlzIiwiZGF0YSIsImJvZHkiLCJnZXRTeW1ib2xEZXRhaWxzIiwic3ltYm9sRGV0YWlscyIsImxhc3QiLCJ1bmRlZmluZWQiLCJpbnNlcnRRdW90ZSIsImVyciIsInN0YXR1cyIsInNlbmQiLCJlcnJtc2ciLCJtZXNzYWdlIiwicXVvdGVEZXRhaWxzIiwiY2FsbEJhY2siLCJzeW1ib2wiLCJ1cmwiLCJlcnJvciIsInJlc3BvbnNlIiwiYXBpUmVzcG9uc2UiLCJzcGxpdCIsInF1b3RlRGF0YSIsImhpZ2giLCJsb3ciLCJ2b2x1bWUiLCJfaWQiLCJpZCIsImZpbmRTeW1ib2wiLCJqc29uIiwiZmluZEFsbFF1b3RlcyIsInF1b3RlcyIsImxlbmd0aCIsImFkbWluTG9naW4iLCJpIiwicXVvdGVzRGF0YSIsImRhdGFDb3VudCIsImFsbFF1b3RlcyIsInB1c2giLCJyZXN1bHQiLCJmb3JFYWNoIiwia2V5IiwiZm91bmQiLCJmaWx0ZXIiLCJpdGVtIiwiZSIsInBhcmFtcyIsInF1b3RlX2lkIiwiZGVsZXRlUXVvdGUiXSwibWFwcGluZ3MiOiI7Ozs7QUFBQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7Ozs7Ozs7QUFHQUEsT0FBT0MsT0FBUDtBQUNJLGdCQUFZQyxHQUFaLEVBQWlCQyxHQUFqQixFQUFzQkMsSUFBdEIsRUFBNEI7QUFBQTs7QUFDekIsU0FBS0QsR0FBTCxHQUFXQSxHQUFYO0FBQ0EsU0FBS0QsR0FBTCxHQUFXQSxHQUFYO0FBQ0EsU0FBS0UsSUFBTCxHQUFZQSxJQUFaO0FBQ0Y7O0FBRUw7OztBQVBBO0FBQUE7QUFBQSxtQ0FRbUI7QUFDYkMsY0FBUUMsR0FBUixDQUFZLG1CQUFaO0FBQ0EsVUFBSUMsUUFBUSxJQUFaO0FBQ0EsVUFBSUMsT0FBTyxLQUFLTixHQUFMLENBQVNPLElBQXBCO0FBQ0FKLGNBQVFD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RUE7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQWxMSjtBQUFBO0FBQUEsa0NBb0xrQjtBQUNaLFVBQUlULFFBQVEsSUFBWjtBQUNBLFVBQUk4QyxXQUFXLEtBQUtuRCxHQUFMLENBQVNrRCxNQUFULENBQWdCbkIsRUFBL0I7O0FBRUEsdUJBQU9xQixXQUFQLENBQW1CRCxRQUFuQixFQUE2QixVQUFTdEMsR0FBVCxFQUFjUCxJQUFkLEVBQW1CO0FBQzVDLFlBQUdPLEdBQUgsRUFBUVIsTUFBTUosR0FBTixDQUFVYSxNQUFWLENBQWlCLEdBQWpCLEVBQXNCQyxJQUF0Qjs7QUFFUixZQUFHVCxJQUFILEVBQVM7QUFDUEQsZ0JBQU1KLEdBQU4sQ0FBVWEsTUFBVixDQUFpQixHQUFqQixFQUFzQm1CLElBQXRCLENBQTJCM0IsSUFBM0I7QUFDRDtBQUNKLE9BTkQ7QUFPRDs7QUFFRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7OztBQUlBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOzs7QUFoUUo7O0FBQUE7QUFBQSIsImZpbGUiOiJpbmRleC5qcyIsInNvdXJjZVJvb3QiOiIvaG9tZS9tb25vbWV0aWMvY3VzdG9tX21vZHVsZXMvcXVvdGVzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFF1b3RlcyBmcm9tICcuL21vZGVscy9xdW90ZXMuanMnO1xuaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcbmltcG9ydCBmcyBmcm9tICdmcyc7XG5pbXBvcnQgcmVxdWVzdCAgZnJvbSAncmVxdWVzdCc7XG5cblxubW9kdWxlLmV4cG9ydHMgPSBjbGFzcyBVc2VyIHtcbiAgICBjb25zdHJ1Y3RvcihyZXEsIHJlcywgbmV4dCkge1xuICAgICAgIHRoaXMucmVzID0gcmVzO1xuICAgICAgIHRoaXMucmVxID0gcmVxO1xuICAgICAgIHRoaXMubmV4dCA9IG5leHQ7XG4gICAgfVxuXG4vKlRvIGFkZCBuZXcgcXVlc3Rpb25uYWlyZSBjYXRlZ29yeSovXG4gICAgaW5zZXJ0U3ltYm9sKCkge1xuICAgICAgY29uc29sZS5sb2coXCJpbnNpZGUgY29udHJvbGxlclwiKTtcbiAgICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgICBsZXQgZGF0YSA9IHRoaXMucmVxLmJvZHk7XG4gICAgICBjb25zb2xlLmxvZyhkYXRhKTtcbiAgICAgIC8vX3RoaXMucmVzLnN0YXR1cygyMDApLnNlbmQoe3JlczogJ2RvbmUnfSk7XG5cbiAgICAgIHRoaXMuZ2V0U3ltYm9sRGV0YWlscyhkYXRhLGZ1bmN0aW9uKHN5bWJvbERldGFpbHMpe1xuICAgICAgXHRjb25zb2xlLmxvZyhzeW1ib2xEZXRhaWxzKTtcbiAgICAgICAgaWYoc3ltYm9sRGV0YWlscy5sYXN0ICE9IFwiXCIgJiYgc3ltYm9sRGV0YWlscy5sYXN0ICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgIFF1b3Rlcy5pbnNlcnRRdW90ZShzeW1ib2xEZXRhaWxzLCBmdW5jdGlvbihlcnIsIGRhdGEpe1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgIGlmKGVycikgX3RoaXMucmVzLnN0YXR1cyg1MDApLnNlbmQoZXJyLmVycm1zZyk7XG5cbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5yZXMuc3RhdHVzKDIwMCkuc2VuZCh7bWVzc2FnZTogXCJTeW1ib2wgYWRkZWQgc3VjY2Vzc2Z1bGx5XCIsXCJzdGF0dXNcIjpcIjFcIn0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBfdGhpcy5yZXMuc3RhdHVzKDUwMCkuc2VuZCh7bWVzc2FnZTogXCJTeW1ib2wgZG9lcyBub3QgZXhpc3RzLlwiLFwic3RhdHVzXCI6XCIwXCJ9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIFxuXG4gICAgICBcbiAgICB9XG5cbiAgICBnZXRTeW1ib2xEZXRhaWxzKHF1b3RlRGV0YWlscyxjYWxsQmFjaykge1xuICAgICAgY29uc29sZS5sb2coXCJpbnNpZGUgZ2V0U3ltYm9sRGV0YWlscyA9IFwiLCBxdW90ZURldGFpbHMuc3ltYm9sKTtcbiAgICAgIGxldCB1cmwgPSAnaHR0cDovL21vbW8tYWN0aXZldGljay5lbGFzdGljYmVhbnN0YWxrLmNvbS9xdW90ZURhdGE/c3ltYm9sPScrcXVvdGVEZXRhaWxzLnN5bWJvbCsnJmZpZWxkPTQrMTArMTErMjcnO1xuICAgICAgLy9sZXQgdXJsID0gJ2h0dHA6Ly9hbHBoYS5mb29tYW5jaGV3LmNvbS91YmVyL21lYW4ucGhwP3N5bWJvbD0nICsgcXVvdGVEZXRhaWxzLnN5bWJvbDtcbiAgICAgIHJlcXVlc3QodXJsLCBmdW5jdGlvbiAoZXJyb3IsIHJlc3BvbnNlLCBhcGlSZXNwb25zZSkge1xuICAgICAgICBcbiAgICAgICAgLy9sZXQgYXBpUmVzcG9uc2UgPSAnR09PR0xFLDEsNSwxLDcsMTUzLjQ1NTUsMTAsMSw3LDE1My43MTExLDExLDEsNywxNTIuMzEwMCwyNywxLDQsMTkyMTIzMic7XG5cbiAgICAgICAgdmFyIGRhdGEgPSBhcGlSZXNwb25zZS5zcGxpdCgnLCcpO1xuICAgICAgICBcbiAgICAgICAgbGV0IHF1b3RlRGF0YSA9IHtcbiAgICAgICAgICBzeW1ib2w6IGRhdGFbMF0sXG4gICAgICAgICAgbGFzdDogZGF0YVs1XSxcbiAgICAgICAgICBoaWdoOiBkYXRhWzldLFxuICAgICAgICAgIGxvdzogZGF0YVsxM10sXG4gICAgICAgICAgdm9sdW1lOiBkYXRhWzE3XVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmKHF1b3RlRGV0YWlscy5faWQgIT1cIlwiKSB7XG4gICAgICAgICAgcXVvdGVEYXRhLmlkID0gcXVvdGVEZXRhaWxzLl9pZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNhbGxCYWNrKHF1b3RlRGF0YSk7XG4gICAgICB9KTtcblxuICAgICAgXG4gICAgfVxuXG5cblxuICAgIGNoZWNrU3ltYm9sRXhpc3RzKCkge1xuICAgICAgY29uc29sZS5sb2coXCJpbnNpZGUgY29udHJvbGxlclwiKTtcbiAgICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgICBsZXQgc3ltYm9sID0gdGhpcy5yZXEuYm9keS5zeW1ib2w7XG5cbiAgICAgIC8vX3RoaXMucmVzLnN0YXR1cygyMDApLnNlbmQoe3JlczogJ2RvbmUnfSk7XG5cbiAgICAgIFF1b3Rlcy5maW5kU3ltYm9sKHN5bWJvbCwgZnVuY3Rpb24oZXJyLCBkYXRhKXtcbiAgICAgICAgaWYoZXJyKSBfdGhpcy5yZXMuc3RhdHVzKDUwMCkuc2VuZCgpO1xuXG4gICAgICAgIGlmKGRhdGEpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhzeW1ib2wrIFwiIGFscmVhZHkgZXhpc3RzXCIpO1xuICAgICAgICAgIF90aGlzLnJlcy5zdGF0dXMoNDAxKS5qc29uKHttZXNzYWdlOiBzeW1ib2wrXCIgYWxyZWFkeSBleGlzdHNcIiwgc3RhdHVzOlwiMFwifSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgX3RoaXMubmV4dCgpO1xuICAgICAgICB9XG5cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGZldGNoUXVvdGVzKCkge1xuICAgICAgY29uc29sZS5sb2coXCJJbnNkZSBjb250cm9sbGVyOiBmZXRjaFF1b3RlcygpXCIpO1xuXG4gICAgICBsZXQgX3RoaXMgPSB0aGlzO1xuICAgICAgUXVvdGVzLmZpbmRBbGxRdW90ZXMoZnVuY3Rpb24oZXJyLCBxdW90ZXMpe1xuICAgICAgICBpZihlcnIpIF90aGlzLnJlcy5zdGF0dXMoNTAwKS5zZW5kKCk7XG4gICAgICAgIFxuICAgICAgICBpZiAocXVvdGVzLmxlbmd0aD09MCkge1xuICAgICAgICAgICBfdGhpcy5yZXMuc3RhdHVzKDIwMCkuanNvbih7ZGF0YTpbXSwgc3RhdHVzOlwiMVwiLGFkbWluTG9naW46dHJ1ZX0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYocXVvdGVzKSB7XG4gICAgICAgICAgICBcbiAgICAgICAgICBsZXQgcXVvdGVzRGF0YSA9IFtdO1xuXG4gICAgICAgICAgdHJ5eyBcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDxxdW90ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICBsZXQgc3ltYm9sID0gcXVvdGVzW2ldLnN5bWJvbDtcbiAgICAgICAgICAgICAgbGV0IGRhdGFDb3VudCA9IHF1b3Rlcy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgbGV0IGFsbFF1b3RlcyA9IHF1b3RlcztcbiAgICAgICAgICAgICAgX3RoaXMuZ2V0U3ltYm9sRGV0YWlscyhxdW90ZXNbaV0sZnVuY3Rpb24oc3ltYm9sRGV0YWlscyl7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgcXVvdGVzRGF0YS5wdXNoKHN5bWJvbERldGFpbHMpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmKGRhdGFDb3VudCA9PSBxdW90ZXNEYXRhLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICAgICAgICAgICAgICAgIGFsbFF1b3Rlcy5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZvdW5kID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIHF1b3Rlc0RhdGEgPSBxdW90ZXNEYXRhLmZpbHRlcihmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZighZm91bmQgJiYgaXRlbS5pZCA9PSBrZXkuX2lkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChpdGVtKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0Lmxlbmd0aCA9PSBkYXRhQ291bnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdC5sZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5yZXMuc3RhdHVzKDIwMCkuanNvbih7ZGF0YTpyZXN1bHQsIHN0YXR1czpcIjFcIixhZG1pbkxvZ2luOnRydWV9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgIFxuICAgICAgICB9XG5cbiAgICAgIH0pO1xuXG4gICAgfVxuXG4gICAgZ2V0UXVvdWVEZXRhaWxzKCkge1xuICAgICAgbGV0IF90aGlzID0gdGhpcztcbiAgICAgIGxldCBzeW1ib2wgPSB0aGlzLnJlcS5wYXJhbXMuc3ltYm9sO1xuXG4gICAgICBfdGhpcy5nZXRTeW1ib2xEZXRhaWxzKHtzeW1ib2w6c3ltYm9sfSxmdW5jdGlvbihzeW1ib2xEZXRhaWxzKXtcbiAgICAgICAgX3RoaXMucmVzLnN0YXR1cygyMDApLmpzb24oe2RhdGE6c3ltYm9sRGV0YWlscywgc3RhdHVzOlwiMVwifSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBsb2dpblVzZXIoKSB7XG4gICAgLy8gICBjb25zb2xlLmxvZyhcIkluc2RlIGNvbnRyb2xsZXI6IGxvZ2luVXNlcigpXCIpO1xuICAgIC8vICAgbGV0IF90aGlzID0gdGhpcztcbiAgICAvLyAgIGxldCBlbWFpbCA9IHRoaXMucmVxLmJvZHkuZW1haWw7XG4gICAgLy8gICBsZXQgcGFzc3dvcmQgPSB0aGlzLnJlcS5ib2R5LnBhc3N3b3JkO1xuXG4gICAgLy8gICBsZXQgdXNlck9iaiA9IHtlbWFpbCwgcGFzc3dvcmR9O1xuXG4gICAgLy8gICBVc2Vycy5hdXRoZW50aWNhdGVVc2VyKHVzZXJPYmosIGZ1bmN0aW9uKGVyciwgZGF0YSl7XG4gICAgLy8gICAgICAgaWYoZXJyKSBfdGhpcy5yZXMuc3RhdHVzKDUwMCkuc2VuZCgpO1xuXG4gICAgLy8gICAgICAgY29uc29sZS5sb2coXCJ1c2VyIGRhdGEgaW4gY29udHJvbGxlcjogXCIsIGRhdGEpO1xuXG4gICAgLy8gICAgICAgaWYoZGF0YSkge1xuICAgIC8vICAgICAgICAgX3RoaXMucmVzLnN0YXR1cygyMDApLmpzb24oe2RhdGE6ZGF0YSwgc3RhdHVzOlwiMVwifSk7XG4gICAgLy8gICAgICAgfVxuXG4gICAgLy8gICB9KTtcblxuICAgIC8vIH1cblxuICAgIGRlbGV0ZVF1b3RlKCkge1xuICAgICAgbGV0IF90aGlzID0gdGhpcztcbiAgICAgIGxldCBxdW90ZV9pZCA9IHRoaXMucmVxLnBhcmFtcy5pZDtcblxuICAgICAgUXVvdGVzLmRlbGV0ZVF1b3RlKHF1b3RlX2lkLCBmdW5jdGlvbihlcnIsIGRhdGEpe1xuICAgICAgICAgIGlmKGVycikgX3RoaXMucmVzLnN0YXR1cyg1MDApLnNlbmQoKTtcblxuICAgICAgICAgIGlmKGRhdGEpIHtcbiAgICAgICAgICAgIF90aGlzLnJlcy5zdGF0dXMoMjAwKS5qc29uKGRhdGEpO1xuICAgICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIGZldGNoVXNlcigpIHtcbiAgICAvLyAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgLy8gICBsZXQgdXNlcl9pZCA9IHRoaXMucmVxLnBhcmFtcy5pZDtcblxuICAgIC8vICAgVXNlcnMuZmV0Y2hVc2VyRGF0YSh1c2VyX2lkLCBmdW5jdGlvbihlcnIsIGRhdGEpe1xuICAgIC8vICAgICAgIGlmKGVycikgX3RoaXMucmVzLnN0YXR1cyg1MDApLnNlbmQoKTtcblxuICAgIC8vICAgICAgIGlmKGRhdGEpIHtcbiAgICAvLyAgICAgICAgIF90aGlzLnJlcy5zdGF0dXMoMjAwKS5qc29uKGRhdGEpO1xuICAgIC8vICAgICAgIH1cbiAgICAvLyAgIH0pO1xuICAgIC8vIH1cblxuXG4gICAgLy8gdXBkYXRlVXNlcigpIHtcbiAgICAvLyAgIGNvbnNvbGUubG9nKFwiSW5zZGUgY29udHJvbGxlcjogdXBkYXRlVXNlcigpXCIpO1xuICAgIC8vICAgbGV0IGRhdGEgPSB0aGlzLnJlcS5ib2R5O1xuICAgIC8vICAgbGV0IF90aGlzID0gdGhpcztcbiAgICAvLyAgIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgIC8vICAgaWYoXCJwcm9maWxlX2ltYWdlXCIgaW4gIGRhdGEpIHtcbiAgICAvLyAgICAgbGV0IGltYWdlX25hbWUgPSBfX2Rpcm5hbWUgKyAnLy4uLy4uL3B1YmxpYy9pbWFnZXMvdXNlcl9pbWFnZXMvJyArIGRhdGEuaWQgKyAnLnBuZyc7XG4gICAgLy8gICAgIGxldCBidWZmID0gbmV3IEJ1ZmZlcihkYXRhLnByb2ZpbGVfaW1hZ2VcbiAgICAvLyAgICAgICAgIC5yZXBsYWNlKC9eZGF0YTppbWFnZVxcLyhwbmd8Z2lmfGpwZWcpO2Jhc2U2NCwvLCcnKSwgJ2Jhc2U2NCcpO1xuXG4gICAgLy8gICAgIGZzLndyaXRlRmlsZShpbWFnZV9uYW1lLCBidWZmLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgLy8gICAgICAgICBjb25zb2xlLmxvZygnZG9uZScpO1xuICAgIC8vICAgICB9KTtcbiAgICAvLyAgIH1cbiAgICAgIFxuXG5cbiAgICAvLyAgIFVzZXJzLnVwZGF0ZVVzZXJEZXRhaWwoZGF0YSwgZnVuY3Rpb24oZXJyLCBkYXRhKXtcbiAgICAvLyAgICAgICBpZihlcnIpIF90aGlzLnJlcy5zdGF0dXMoNTAwKS5zZW5kKGVycik7XG5cbiAgICAvLyAgICAgICBpZihkYXRhLm49PTEpIHtcbiAgICAvLyAgICAgICAgIHJldHVybiBfdGhpcy5yZXMuc3RhdHVzKDIwMCkuc2VuZCh7bWVzc2FnZTogXCJVc2VyIHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5XCIsXCJzdGF0dXNcIjpcIjFcIn0pO1xuICAgIC8vICAgICAgIH0gZWxzZSB7XG5cbiAgICAvLyAgICAgICB9XG5cbiAgICAvLyAgICAgICByZXR1cm4gX3RoaXMucmVzLnN0YXR1cygyMDApLnNlbmQoe21lc3NhZ2U6IFwiRGF0YSBub3QgdXBkYXRlZFwiLFwic3RhdHVzXCI6XCIwXCJ9KTtcblxuICAgIC8vICAgfSk7XG4gICAgLy8gfVxuXG4gICAgLy8gZmV0Y2hVc2VyQnlFbWFpbCgpIHtcbiAgICAvLyAgIGNvbnNvbGUubG9nKFwiaW5zaWRlIGNvbnRyb2xsZXJcIik7XG4gICAgLy8gICBsZXQgX3RoaXMgPSB0aGlzO1xuICAgIC8vICAgbGV0IGVtYWlsID0gdGhpcy5yZXEuYm9keS5lbWFpbDtcblxuICAgIC8vICAgLy9fdGhpcy5yZXMuc3RhdHVzKDIwMCkuc2VuZCh7cmVzOiAnZG9uZSd9KTtcblxuICAgIC8vICAgVXNlcnMuZmluZFVzZXIoZW1haWwsIGZ1bmN0aW9uKGVyciwgZGF0YSl7XG4gICAgLy8gICAgICAgaWYoZXJyKSBfdGhpcy5yZXMuc3RhdHVzKDUwMCkuc2VuZCgpO1xuXG4gICAgLy8gICAgICAgaWYoZGF0YSkge1xuICAgIC8vICAgICAgICAgY29uc29sZS5sb2coZW1haWwrIFwiIGFscmVhZHkgZXhpc3RzXCIpO1xuICAgIC8vICAgICAgICAgcmV0dXJuIF90aGlzLnJlcy5zdGF0dXMoMjAwKS5qc29uKHttZXNzYWdlOiBlbWFpbCtcIiBhbHJlYWR5IGV4aXN0c1wiLCBzdGF0dXM6XCIwXCJ9KTtcbiAgICAvLyAgICAgICB9XG5cbiAgICAvLyAgICAgICByZXR1cm4gX3RoaXMucmVzLnN0YXR1cygyMDApLnNlbmQoe21lc3NhZ2U6IFwiXCIsXCJzdGF0dXNcIjpcIjFcIn0pO1xuXG4gICAgLy8gICB9KTtcbiAgICAvLyB9XG5cblxuXG59XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "module",
        "exports",
        "req",
        "res",
        "next",
        "console",
        "log",
        "_this",
        "data",
        "body",
        "getSymbolDetails",
        "symbolDetails",
        "last",
        "undefined",
        "insertQuote",
        "err",
        "status",
        "send",
        "errmsg",
        "message",
        "quoteDetails",
        "callBack",
        "symbol",
        "url",
        "error",
        "response",
        "apiResponse",
        "split",
        "quoteData",
        "high",
        "low",
        "volume",
        "_id",
        "id",
        "findSymbol",
        "json",
        "findAllQuotes",
        "quotes",
        "length",
        "adminLogin",
        "i",
        "quotesData",
        "dataCount",
        "allQuotes",
        "push",
        "result",
        "forEach",
        "key",
        "found",
        "filter",
        "item",
        "e",
        "params",
        "quote_id",
        "deleteQuote"
      ],
      "mappings": "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",
      "file": "index.js",
      "sourceRoot": "/home/monometic/custom_modules/quotes",
      "sourcesContent": [
        "import Quotes from './models/quotes.js';\nimport mongoose from 'mongoose';\nimport fs from 'fs';\nimport request  from 'request';\n\n\nmodule.exports = class User {\n    constructor(req, res, next) {\n       this.res = res;\n       this.req = req;\n       this.next = next;\n    }\n\n/*To add new questionnaire category*/\n    insertSymbol() {\n      console.log(\"inside controller\");\n      let _this = this;\n      let data = this.req.body;\n      console.log(data);\n      //_this.res.status(200).send({res: 'done'});\n\n      this.getSymbolDetails(data,function(symbolDetails){\n      \tconsole.log(symbolDetails);\n        if(symbolDetails.last != \"\" && symbolDetails.last != undefined) {\n          Quotes.insertQuote(symbolDetails, function(err, data){\n            console.log(err);\n            if(err) _this.res.status(500).send(err.errmsg);\n\n            return _this.res.status(200).send({message: \"Symbol added successfully\",\"status\":\"1\"});\n          });\n        } else {\n          return _this.res.status(500).send({message: \"Symbol does not exists.\",\"status\":\"0\"});\n        }\n      });\n\n      \n\n      \n    }\n\n    getSymbolDetails(quoteDetails,callBack) {\n      console.log(\"inside getSymbolDetails = \", quoteDetails.symbol);\n      let url = 'http://momo-activetick.elasticbeanstalk.com/quoteData?symbol='+quoteDetails.symbol+'&field=4+10+11+27';\n      //let url = 'http://alpha.foomanchew.com/uber/mean.php?symbol=' + quoteDetails.symbol;\n      request(url, function (error, response, apiResponse) {\n        \n        //let apiResponse = 'GOOGLE,1,5,1,7,153.4555,10,1,7,153.7111,11,1,7,152.3100,27,1,4,1921232';\n\n        var data = apiResponse.split(',');\n        \n        let quoteData = {\n          symbol: data[0],\n          last: data[5],\n          high: data[9],\n          low: data[13],\n          volume: data[17]\n        };\n\n        if(quoteDetails._id !=\"\") {\n          quoteData.id = quoteDetails._id;\n        }\n\n        callBack(quoteData);\n      });\n\n      \n    }\n\n\n\n    checkSymbolExists() {\n      console.log(\"inside controller\");\n      let _this = this;\n      let symbol = this.req.body.symbol;\n\n      //_this.res.status(200).send({res: 'done'});\n\n      Quotes.findSymbol(symbol, function(err, data){\n        if(err) _this.res.status(500).send();\n\n        if(data) {\n          console.log(symbol+ \" already exists\");\n          _this.res.status(401).json({message: symbol+\" already exists\", status:\"0\"});\n        } else {\n          _this.next();\n        }\n\n      });\n    }\n\n    fetchQuotes() {\n      console.log(\"Insde controller: fetchQuotes()\");\n\n      let _this = this;\n      Quotes.findAllQuotes(function(err, quotes){\n        if(err) _this.res.status(500).send();\n        \n        if (quotes.length==0) {\n           _this.res.status(200).json({data:[], status:\"1\",adminLogin:true});\n        }\n\n        if(quotes) {\n            \n          let quotesData = [];\n\n          try{ \n            for (var i = 0; i <quotes.length; i++) {\n               \n              let symbol = quotes[i].symbol;\n              let dataCount = quotes.length;\n                let allQuotes = quotes;\n              _this.getSymbolDetails(quotes[i],function(symbolDetails){\n                \n                quotesData.push(symbolDetails);\n                \n                if(dataCount == quotesData.length) {\n                   \n                    var result = [];\n                    allQuotes.forEach(function(key) {\n                        var found = false;\n                        \n                        quotesData = quotesData.filter(function(item) {\n                            try{\n                                if(!found && item.id == key._id) {\n                                    result.push(item);\n                                    found = true;\n                                    return false;\n                                } else \n                                    return true;\n                            } catch(e) {\n                                console.log(e);\n                            }\n                        })\n                        if (result.length == dataCount) {\n                            try{\n                                console.log(result.length);\n                                _this.res.status(200).json({data:result, status:\"1\",adminLogin:true});\n                            } catch(e) {\n                                console.log(e);\n                            }\n                        }\n                        \n                    })\n                }\n              });\n            }\n          } catch(e) {\n            console.log(e);\n          }\n         \n        }\n\n      });\n\n    }\n\n    getQuoueDetails() {\n      let _this = this;\n      let symbol = this.req.params.symbol;\n\n      _this.getSymbolDetails({symbol:symbol},function(symbolDetails){\n        _this.res.status(200).json({data:symbolDetails, status:\"1\"});\n      });\n    }\n\n    // loginUser() {\n    //   console.log(\"Insde controller: loginUser()\");\n    //   let _this = this;\n    //   let email = this.req.body.email;\n    //   let password = this.req.body.password;\n\n    //   let userObj = {email, password};\n\n    //   Users.authenticateUser(userObj, function(err, data){\n    //       if(err) _this.res.status(500).send();\n\n    //       console.log(\"user data in controller: \", data);\n\n    //       if(data) {\n    //         _this.res.status(200).json({data:data, status:\"1\"});\n    //       }\n\n    //   });\n\n    // }\n\n    deleteQuote() {\n      let _this = this;\n      let quote_id = this.req.params.id;\n\n      Quotes.deleteQuote(quote_id, function(err, data){\n          if(err) _this.res.status(500).send();\n\n          if(data) {\n            _this.res.status(200).json(data);\n          }\n      });\n    }\n\n    // fetchUser() {\n    //   let _this = this;\n    //   let user_id = this.req.params.id;\n\n    //   Users.fetchUserData(user_id, function(err, data){\n    //       if(err) _this.res.status(500).send();\n\n    //       if(data) {\n    //         _this.res.status(200).json(data);\n    //       }\n    //   });\n    // }\n\n\n    // updateUser() {\n    //   console.log(\"Insde controller: updateUser()\");\n    //   let data = this.req.body;\n    //   let _this = this;\n    //   console.log(data);\n    //   if(\"profile_image\" in  data) {\n    //     let image_name = __dirname + '/../../public/images/user_images/' + data.id + '.png';\n    //     let buff = new Buffer(data.profile_image\n    //         .replace(/^data:image\\/(png|gif|jpeg);base64,/,''), 'base64');\n\n    //     fs.writeFile(image_name, buff, function (err) {\n    //         console.log('done');\n    //     });\n    //   }\n      \n\n\n    //   Users.updateUserDetail(data, function(err, data){\n    //       if(err) _this.res.status(500).send(err);\n\n    //       if(data.n==1) {\n    //         return _this.res.status(200).send({message: \"User updated successfully\",\"status\":\"1\"});\n    //       } else {\n\n    //       }\n\n    //       return _this.res.status(200).send({message: \"Data not updated\",\"status\":\"0\"});\n\n    //   });\n    // }\n\n    // fetchUserByEmail() {\n    //   console.log(\"inside controller\");\n    //   let _this = this;\n    //   let email = this.req.body.email;\n\n    //   //_this.res.status(200).send({res: 'done'});\n\n    //   Users.findUser(email, function(err, data){\n    //       if(err) _this.res.status(500).send();\n\n    //       if(data) {\n    //         console.log(email+ \" already exists\");\n    //         return _this.res.status(200).json({message: email+\" already exists\", status:\"0\"});\n    //       }\n\n    //       return _this.res.status(200).send({message: \"\",\"status\":\"1\"});\n\n    //   });\n    // }\n\n\n\n}\n"
      ]
    },
    "mtime": 1496378777449
  },
  "{\"filename\":\"/home/monometic/custom_modules/quotes/models/quotes.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/monometic/custom_modules/quotes/models\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.1": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "mongoose",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "mongoose"
              }
            ]
          },
          {
            "source": "fs",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "fs"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/monometic/custom_modules/quotes/models/quotes.js",
      "filenameRelative": "/home/monometic/custom_modules/quotes/models/quotes.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "quotes.js",
      "sourceFileName": "quotes.js",
      "sourceRoot": "/home/monometic/custom_modules/quotes/models",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/monometic/custom_modules/quotes/models",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "quotes"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _mongoose = require('mongoose');\n\nvar _mongoose2 = _interopRequireDefault(_mongoose);\n\nvar _fs = require('fs');\n\nvar _fs2 = _interopRequireDefault(_fs);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar ObjectId = require('mongoose').Types.ObjectId;\n\n\n// let healthAreaSchema = mongoose.Schema({\n// \t_id: {\n// \t\ttype: mongoose.Schema.Types.ObjectId,\n// \t\trequired: false\n// \t}\n// });\n\nvar Quotes = _mongoose2.default.Schema({\n\tsymbol: { type: Object, required: true },\n\tlast: { type: Object, required: true },\n\thigh: { type: Object, required: true },\n\tlow: { type: Object, required: true },\n\tvolume: { type: Object },\n\tcreated: { type: Date },\n\tmodified: { type: Date, required: false },\n\tdel: { type: Number, default: 0 }\n});\n\nQuotes.statics.insertQuote = function (data, callBack) {\n\tconsole.log(\"inside register function\");\n\n\tdata.created = new Date();\n\tvar quote = new this(data);\n\n\tquote.save(function (err, res) {\n\t\tif (!res) callBack(err, null);\n\t\tcallBack(null, res);\n\t});\n};\n\nQuotes.statics.findSymbol = function (symbol, callBack) {\n\tconsole.log(\"Inside find user method, email: \", symbol);\n\n\tthis.findOne({ symbol: symbol }, { last: 0 }, function (err, quote) {\n\t\tif (err) return callBack(null, null);\n\t\tconsole.log(\"user data: \", quote);\n\n\t\tif (quote) return callBack(null, quote);\n\t\treturn callBack(null, null);\n\t});\n};\n\nQuotes.statics.findAllQuotes = function (callBack) {\n\ttry {\n\t\tthis.find({ del: 0 }, { \"__v\": 0 }, { sort: { created: -1 } }, function (err, quotes) {\n\n\t\t\tif (err) return callBack(null, null);\n\n\t\t\tif (quotes) {\n\t\t\t\treturn callBack(null, quotes);\n\t\t\t}\n\t\t\treturn callBack(null, null);\n\t\t});\n\t} catch (e) {\n\t\tconsole.log(e);\n\t}\n};\n\n// Users.statics.authenticateUser = function({email, password}) {\n// \tconsole.log(\"inside model data:\" + email + \", password: \" + password);\n\n// \tthis.findOne({email:email},function(err, user){\n// \t\tif(err) return callBack(null, null);\n// \t\tconsole.log(\"user data: \", user);\n// \t\tif(user) return callBack(null, user);\n// \t\treturn callBack(null, null);\n// \t});\n// }\n\nQuotes.statics.deleteQuote = function (id, callBack) {\n\tconsole.log(\"Inside delete user method, id:\", id);\n\n\tthis.remove({ _id: { $eq: id } }).exec(function (err, response) {\n\n\t\tif (err) {\n\t\t\tif (err) return callBack(null, null);\n\t\t}\n\n\t\tif (response.result.n == 0) {\n\t\t\treturn callBack(null, { message: \"No record deleted\" });\n\t\t}\n\n\t\treturn callBack(null, { message: \"Data deleted\" });\n\t});\n};\n\n// Users.statics.fetchUserData = function(id, callBack) {\n// \tconsole.log(\"Inside fetchUserData, id: \", id);\n\n// \tthis.findOne({_id:id},{password:0, __v:0},function(err, user){\n// \t\tif(err) return callBack(null, null);\n// \t\tconsole.log(\"user data: \", user);\n// \t\tif(user) return callBack(null, user);\n// \t\treturn callBack(null, null);\n// \t});\n// }\n\n// Users.statics.updateUserDetail = function(data, callBack) {\n// \tconsole.log(\"Inside updateUserDetail, id: \", data.id);\n\n// \tlet userId = data.id;\n\n// \tdata.modified = new Date();\n// \tdelete data._id;\n// \tlet user = new this(data);\n// \tthis.update({_id: userId}, {$set: data},function(err, res) {\n// \t\tif(!res) callBack(err, null);\n\n// \t\tcallBack( null, res);\n// \t});\n// }\n\n\nexports.default = _mongoose2.default.model('quotes', Quotes);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInF1b3Rlcy5qcyJdLCJuYW1lcyI6WyJPYmplY3RJZCIsInJlcXVpcmUiLCJUeXBlcyIsIlF1b3RlcyIsIlNjaGVtYSIsInN5bWJvbCIsInR5cGUiLCJPYmplY3QiLCJyZXF1aXJlZCIsImxhc3QiLCJoaWdoIiwibG93Iiwidm9sdW1lIiwiY3JlYXRlZCIsIkRhdGUiLCJtb2RpZmllZCIsImRlbCIsIk51bWJlciIsImRlZmF1bHQiLCJzdGF0aWNzIiwiaW5zZXJ0UXVvdGUiLCJkYXRhIiwiY2FsbEJhY2siLCJjb25zb2xlIiwibG9nIiwicXVvdGUiLCJzYXZlIiwiZXJyIiwicmVzIiwiZmluZFN5bWJvbCIsImZpbmRPbmUiLCJmaW5kQWxsUXVvdGVzIiwiZmluZCIsInNvcnQiLCJxdW90ZXMiLCJlIiwiZGVsZXRlUXVvdGUiLCJpZCIsInJlbW92ZSIsIl9pZCIsIiRlcSIsImV4ZWMiLCJyZXNwb25zZSIsInJlc3VsdCIsIm4iLCJtZXNzYWdlIiwibW9kZWwiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBOzs7O0FBRUE7Ozs7OztBQURBLElBQUlBLFdBQVdDLFFBQVEsVUFBUixFQUFvQkMsS0FBcEIsQ0FBMEJGLFFBQXpDOzs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsSUFBTUcsU0FBUyxtQkFBU0MsTUFBVCxDQUFnQjtBQUM3QkMsU0FBUyxFQUFDQyxNQUFNQyxNQUFQLEVBQWNDLFVBQVUsSUFBeEIsRUFEb0I7QUFFMUJDLE9BQU8sRUFBRUgsTUFBTUMsTUFBUixFQUFnQkMsVUFBVSxJQUExQixFQUZtQjtBQUcxQkUsT0FBTyxFQUFFSixNQUFNQyxNQUFSLEVBQWdCQyxVQUFVLElBQTFCLEVBSG1CO0FBSTFCRyxNQUFNLEVBQUVMLE1BQU1DLE1BQVIsRUFBZ0JDLFVBQVUsSUFBMUIsRUFKb0I7QUFLMUJJLFNBQVEsRUFBRU4sTUFBTUMsTUFBUixFQUxrQjtBQU03Qk0sVUFBUyxFQUFFUCxNQUFNUSxJQUFSLEVBTm9CO0FBTzdCQyxXQUFV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QUN1QixTQUFRLGNBQVQsRUFBZixDQUFQO0FBQ0EsRUFYRDtBQWFBLENBaEJEOztBQWtCQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7OztrQkFJZSxtQkFBU0MsS0FBVCxDQUFlLFFBQWYsRUFBeUIzQyxNQUF6QixDIiwiZmlsZSI6InF1b3Rlcy5qcyIsInNvdXJjZVJvb3QiOiIvaG9tZS9tb25vbWV0aWMvY3VzdG9tX21vZHVsZXMvcXVvdGVzL21vZGVscyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSc7XG5sZXQgT2JqZWN0SWQgPSByZXF1aXJlKCdtb25nb29zZScpLlR5cGVzLk9iamVjdElkO1xuaW1wb3J0IGZzIGZyb20gJ2ZzJztcblxuXG4vLyBsZXQgaGVhbHRoQXJlYVNjaGVtYSA9IG1vbmdvb3NlLlNjaGVtYSh7XG4vLyBcdF9pZDoge1xuLy8gXHRcdHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCxcbi8vIFx0XHRyZXF1aXJlZDogZmFsc2Vcbi8vIFx0fVxuLy8gfSk7XG5cbmNvbnN0IFF1b3RlcyA9IG1vbmdvb3NlLlNjaGVtYSh7XG5cdFx0c3ltYm9sIDoge3R5cGU6IE9iamVjdCxyZXF1aXJlZDogdHJ1ZX0sXG4gICAgXHRsYXN0IDogeyB0eXBlOiBPYmplY3QsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgXHRoaWdoIDogeyB0eXBlOiBPYmplY3QsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgXHRsb3cgOiB7IHR5cGU6IE9iamVjdCwgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICBcdHZvbHVtZTogeyB0eXBlOiBPYmplY3QgfSxcblx0XHRjcmVhdGVkOiB7IHR5cGU6IERhdGUgfSxcblx0XHRtb2RpZmllZDogeyB0eXBlOiBEYXRlLCAgcmVxdWlyZWQ6IGZhbHNlIH0sXG5cdFx0ZGVsOiB7IHR5cGU6IE51bWJlciwgZGVmYXVsdDogMCB9XG59KTtcblxuXG5cblF1b3Rlcy5zdGF0aWNzLmluc2VydFF1b3RlID0gZnVuY3Rpb24oZGF0YSwgY2FsbEJhY2spe1xuICBjb25zb2xlLmxvZyhcImluc2lkZSByZWdpc3RlciBmdW5jdGlvblwiKTtcblxuXHRkYXRhLmNyZWF0ZWQgPSBuZXcgRGF0ZSgpO1xuXHRsZXQgcXVvdGUgPSBuZXcgdGhpcyhkYXRhKTtcblxuICBxdW90ZS5zYXZlKGZ1bmN0aW9uKGVyciwgcmVzKSB7XG4gICAgaWYoIXJlcykgY2FsbEJhY2soZXJyLCBudWxsKTtcbiAgICBjYWxsQmFjayggbnVsbCwgcmVzKTtcbiAgfSk7XG5cbn1cblxuUXVvdGVzLnN0YXRpY3MuZmluZFN5bWJvbCA9IGZ1bmN0aW9uKHN5bWJvbCwgY2FsbEJhY2spIHtcblx0Y29uc29sZS5sb2coXCJJbnNpZGUgZmluZCB1c2VyIG1ldGhvZCwgZW1haWw6IFwiLCBzeW1ib2wpO1xuXG5cdHRoaXMuZmluZE9uZSh7c3ltYm9sOnN5bWJvbH0se2xhc3Q6MH0sZnVuY3Rpb24oZXJyLCBxdW90ZSl7XG5cdFx0aWYoZXJyKSByZXR1cm4gY2FsbEJhY2sobnVsbCwgbnVsbCk7XG5cdFx0Y29uc29sZS5sb2coXCJ1c2VyIGRhdGE6IFwiLCBxdW90ZSk7XG5cblx0XHRpZihxdW90ZSkgcmV0dXJuIGNhbGxCYWNrKG51bGwsIHF1b3RlKTtcblx0XHRyZXR1cm4gY2FsbEJhY2sobnVsbCwgbnVsbCk7XG5cdH0pO1xuXG5cbiB9XG5cblF1b3Rlcy5zdGF0aWNzLmZpbmRBbGxRdW90ZXMgPSBmdW5jdGlvbihjYWxsQmFjaykge1xuXHR0cnl7XG5cdFx0dGhpcy5maW5kKCB7ZGVsOjB9LCB7XCJfX3ZcIjowXHR9LHtzb3J0OntjcmVhdGVkOi0xfX0sZnVuY3Rpb24oZXJyLCBxdW90ZXMpe1xuXG5cdFx0XHRpZihlcnIpIHJldHVybiBjYWxsQmFjayhudWxsLCBudWxsKTtcblxuXHRcdFx0aWYocXVvdGVzKSB7XG5cdFx0XHRcdHJldHVybiBjYWxsQmFjayhudWxsLCBxdW90ZXMpO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGNhbGxCYWNrKG51bGwsIG51bGwpO1xuXHRcdH0pO1xuXHR9IGNhdGNoKGUpIHtcblx0XHRjb25zb2xlLmxvZyhlKTtcblx0fVxuXHRcblxufVxuXG4vLyBVc2Vycy5zdGF0aWNzLmF1dGhlbnRpY2F0ZVVzZXIgPSBmdW5jdGlvbih7ZW1haWwsIHBhc3N3b3JkfSkge1xuLy8gXHRjb25zb2xlLmxvZyhcImluc2lkZSBtb2RlbCBkYXRhOlwiICsgZW1haWwgKyBcIiwgcGFzc3dvcmQ6IFwiICsgcGFzc3dvcmQpO1xuXG4vLyBcdHRoaXMuZmluZE9uZSh7ZW1haWw6ZW1haWx9LGZ1bmN0aW9uKGVyciwgdXNlcil7XG4vLyBcdFx0aWYoZXJyKSByZXR1cm4gY2FsbEJhY2sobnVsbCwgbnVsbCk7XG4vLyBcdFx0Y29uc29sZS5sb2coXCJ1c2VyIGRhdGE6IFwiLCB1c2VyKTtcbi8vIFx0XHRpZih1c2VyKSByZXR1cm4gY2FsbEJhY2sobnVsbCwgdXNlcik7XG4vLyBcdFx0cmV0dXJuIGNhbGxCYWNrKG51bGwsIG51bGwpO1xuLy8gXHR9KTtcbi8vIH1cblxuUXVvdGVzLnN0YXRpY3MuZGVsZXRlUXVvdGUgPSBmdW5jdGlvbihpZCwgY2FsbEJhY2spIHtcblx0Y29uc29sZS5sb2coXCJJbnNpZGUgZGVsZXRlIHVzZXIgbWV0aG9kLCBpZDpcIiwgaWQpO1xuXG5cdHRoaXMucmVtb3ZlKCB7IF9pZDogeyAkZXE6IGlkIH0gfSkuZXhlYyhmdW5jdGlvbihlcnIsIHJlc3BvbnNlKXtcblx0XHRcblx0XHRpZihlcnIpIHtcblx0XHRcdGlmKGVycikgcmV0dXJuIGNhbGxCYWNrKG51bGwsIG51bGwpO1xuXHRcdH1cblxuXHRcdGlmKHJlc3BvbnNlLnJlc3VsdC5uID09IDApIHtcblx0XHRcdHJldHVybiBjYWxsQmFjayhudWxsLCB7bWVzc2FnZTpcIk5vIHJlY29yZCBkZWxldGVkXCJ9KTtcblx0XHR9XG5cblx0XHRyZXR1cm4gY2FsbEJhY2sobnVsbCwge21lc3NhZ2U6XCJEYXRhIGRlbGV0ZWRcIn0pO1xuXHR9KTtcblxufVxuXG4vLyBVc2Vycy5zdGF0aWNzLmZldGNoVXNlckRhdGEgPSBmdW5jdGlvbihpZCwgY2FsbEJhY2spIHtcbi8vIFx0Y29uc29sZS5sb2coXCJJbnNpZGUgZmV0Y2hVc2VyRGF0YSwgaWQ6IFwiLCBpZCk7XG5cbi8vIFx0dGhpcy5maW5kT25lKHtfaWQ6aWR9LHtwYXNzd29yZDowLCBfX3Y6MH0sZnVuY3Rpb24oZXJyLCB1c2VyKXtcbi8vIFx0XHRpZihlcnIpIHJldHVybiBjYWxsQmFjayhudWxsLCBudWxsKTtcbi8vIFx0XHRjb25zb2xlLmxvZyhcInVzZXIgZGF0YTogXCIsIHVzZXIpO1xuLy8gXHRcdGlmKHVzZXIpIHJldHVybiBjYWxsQmFjayhudWxsLCB1c2VyKTtcbi8vIFx0XHRyZXR1cm4gY2FsbEJhY2sobnVsbCwgbnVsbCk7XG4vLyBcdH0pO1xuLy8gfVxuXG4vLyBVc2Vycy5zdGF0aWNzLnVwZGF0ZVVzZXJEZXRhaWwgPSBmdW5jdGlvbihkYXRhLCBjYWxsQmFjaykge1xuLy8gXHRjb25zb2xlLmxvZyhcIkluc2lkZSB1cGRhdGVVc2VyRGV0YWlsLCBpZDogXCIsIGRhdGEuaWQpO1xuXG4vLyBcdGxldCB1c2VySWQgPSBkYXRhLmlkO1xuXG4vLyBcdGRhdGEubW9kaWZpZWQgPSBuZXcgRGF0ZSgpO1xuLy8gXHRkZWxldGUgZGF0YS5faWQ7XG4vLyBcdGxldCB1c2VyID0gbmV3IHRoaXMoZGF0YSk7XG4vLyBcdHRoaXMudXBkYXRlKHtfaWQ6IHVzZXJJZH0sIHskc2V0OiBkYXRhfSxmdW5jdGlvbihlcnIsIHJlcykge1xuLy8gXHRcdGlmKCFyZXMpIGNhbGxCYWNrKGVyciwgbnVsbCk7XG5cbi8vIFx0XHRjYWxsQmFjayggbnVsbCwgcmVzKTtcbi8vIFx0fSk7XG4vLyB9XG5cblxuXG5leHBvcnQgZGVmYXVsdCBtb25nb29zZS5tb2RlbCgncXVvdGVzJywgUXVvdGVzKTtcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "quotes.js"
      ],
      "names": [
        "ObjectId",
        "require",
        "Types",
        "Quotes",
        "Schema",
        "symbol",
        "type",
        "Object",
        "required",
        "last",
        "high",
        "low",
        "volume",
        "created",
        "Date",
        "modified",
        "del",
        "Number",
        "default",
        "statics",
        "insertQuote",
        "data",
        "callBack",
        "console",
        "log",
        "quote",
        "save",
        "err",
        "res",
        "findSymbol",
        "findOne",
        "findAllQuotes",
        "find",
        "sort",
        "quotes",
        "e",
        "deleteQuote",
        "id",
        "remove",
        "_id",
        "$eq",
        "exec",
        "response",
        "result",
        "n",
        "message",
        "model"
      ],
      "mappings": "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",
      "file": "quotes.js",
      "sourceRoot": "/home/monometic/custom_modules/quotes/models",
      "sourcesContent": [
        "import mongoose from 'mongoose';\nlet ObjectId = require('mongoose').Types.ObjectId;\nimport fs from 'fs';\n\n\n// let healthAreaSchema = mongoose.Schema({\n// \t_id: {\n// \t\ttype: mongoose.Schema.Types.ObjectId,\n// \t\trequired: false\n// \t}\n// });\n\nconst Quotes = mongoose.Schema({\n\t\tsymbol : {type: Object,required: true},\n    \tlast : { type: Object, required: true },\n    \thigh : { type: Object, required: true },\n    \tlow : { type: Object, required: true },\n    \tvolume: { type: Object },\n\t\tcreated: { type: Date },\n\t\tmodified: { type: Date,  required: false },\n\t\tdel: { type: Number, default: 0 }\n});\n\n\n\nQuotes.statics.insertQuote = function(data, callBack){\n  console.log(\"inside register function\");\n\n\tdata.created = new Date();\n\tlet quote = new this(data);\n\n  quote.save(function(err, res) {\n    if(!res) callBack(err, null);\n    callBack( null, res);\n  });\n\n}\n\nQuotes.statics.findSymbol = function(symbol, callBack) {\n\tconsole.log(\"Inside find user method, email: \", symbol);\n\n\tthis.findOne({symbol:symbol},{last:0},function(err, quote){\n\t\tif(err) return callBack(null, null);\n\t\tconsole.log(\"user data: \", quote);\n\n\t\tif(quote) return callBack(null, quote);\n\t\treturn callBack(null, null);\n\t});\n\n\n }\n\nQuotes.statics.findAllQuotes = function(callBack) {\n\ttry{\n\t\tthis.find( {del:0}, {\"__v\":0\t},{sort:{created:-1}},function(err, quotes){\n\n\t\t\tif(err) return callBack(null, null);\n\n\t\t\tif(quotes) {\n\t\t\t\treturn callBack(null, quotes);\n\t\t\t}\n\t\t\treturn callBack(null, null);\n\t\t});\n\t} catch(e) {\n\t\tconsole.log(e);\n\t}\n\t\n\n}\n\n// Users.statics.authenticateUser = function({email, password}) {\n// \tconsole.log(\"inside model data:\" + email + \", password: \" + password);\n\n// \tthis.findOne({email:email},function(err, user){\n// \t\tif(err) return callBack(null, null);\n// \t\tconsole.log(\"user data: \", user);\n// \t\tif(user) return callBack(null, user);\n// \t\treturn callBack(null, null);\n// \t});\n// }\n\nQuotes.statics.deleteQuote = function(id, callBack) {\n\tconsole.log(\"Inside delete user method, id:\", id);\n\n\tthis.remove( { _id: { $eq: id } }).exec(function(err, response){\n\t\t\n\t\tif(err) {\n\t\t\tif(err) return callBack(null, null);\n\t\t}\n\n\t\tif(response.result.n == 0) {\n\t\t\treturn callBack(null, {message:\"No record deleted\"});\n\t\t}\n\n\t\treturn callBack(null, {message:\"Data deleted\"});\n\t});\n\n}\n\n// Users.statics.fetchUserData = function(id, callBack) {\n// \tconsole.log(\"Inside fetchUserData, id: \", id);\n\n// \tthis.findOne({_id:id},{password:0, __v:0},function(err, user){\n// \t\tif(err) return callBack(null, null);\n// \t\tconsole.log(\"user data: \", user);\n// \t\tif(user) return callBack(null, user);\n// \t\treturn callBack(null, null);\n// \t});\n// }\n\n// Users.statics.updateUserDetail = function(data, callBack) {\n// \tconsole.log(\"Inside updateUserDetail, id: \", data.id);\n\n// \tlet userId = data.id;\n\n// \tdata.modified = new Date();\n// \tdelete data._id;\n// \tlet user = new this(data);\n// \tthis.update({_id: userId}, {$set: data},function(err, res) {\n// \t\tif(!res) callBack(err, null);\n\n// \t\tcallBack( null, res);\n// \t});\n// }\n\n\n\nexport default mongoose.model('quotes', Quotes);\n"
      ]
    },
    "mtime": 1495793037105
  },
  "{\"filename\":\"/home/monometic/config/passport.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/home/monometic/config\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.1": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "./../custom_modules/users/models/users.js",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "User"
              }
            ]
          },
          {
            "source": "mongoose",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "mongoose"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/home/monometic/config/passport.js",
      "filenameRelative": "/home/monometic/config/passport.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "passport.js",
      "sourceFileName": "passport.js",
      "sourceRoot": "/home/monometic/config",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/home/monometic/config",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "passport"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _users = require('./../custom_modules/users/models/users.js');\n\nvar _users2 = _interopRequireDefault(_users);\n\nvar _mongoose = require('mongoose');\n\nvar _mongoose2 = _interopRequireDefault(_mongoose);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar LocalStrategy = require('passport-local').Strategy;\n//User = mongoose.model('User');\n//config = require('./config');\n\n\nmodule.exports = function (passport) {\n    console.log(\"Attempted Login: \");\n    // Serialize the user id to push into the session\n    passport.serializeUser(function (user, done) {\n        done(null, user.id);\n    });\n\n    // Deserialize the user object based on a pre-serialized token\n    // which is the user id\n    passport.deserializeUser(function (id, done) {\n        _users2.default.findOne({\n            _id: id\n        }, '-salt -hashed_password', function (err, user) {\n            done(err, user);\n        });\n    });\n\n    // Use local strategy\n    passport.use(new LocalStrategy({\n        usernameField: 'email',\n        passwordField: 'password'\n    }, function (email, password, done) {\n        console.log(\"Attempted Login: \" + email + \" password: \" + password);\n\n        //console.log(\"Attempted Login: \" + password);\n        _users2.default.findOne({\n            email: email\n        }, function (err, user) {\n            console.log(\"User data: \", user);\n\n            //console.log(\"User valid passwordL: \" + user.validPassword(password));\n\n\n            var genericErrorMessage = \"Email & Password do not match\";\n            if (err) {\n                console.log(\"err: \" + err);\n                return done(err);\n            }\n            if (!user) {\n                console.log(\"!user: Unknown user\");\n                return done(null, false, {\n                    status: -1,\n                    // generic \"No!\"\n                    message: genericErrorMessage\n                });\n            }\n            if (password !== user.password) {\n                console.log(\"!user.authenticate(password): Invalid Password\");\n                return done(null, false, {\n                    status: -2,\n                    // generic \"No!\"\n                    message: genericErrorMessage\n                });\n            }\n\n            console.log(\"login: \" + email + \" successfull!\");\n            return done(null, user);\n        });\n    }));\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBhc3Nwb3J0LmpzIl0sIm5hbWVzIjpbIkxvY2FsU3RyYXRlZ3kiLCJyZXF1aXJlIiwiU3RyYXRlZ3kiLCJtb2R1bGUiLCJleHBvcnRzIiwicGFzc3BvcnQiLCJjb25zb2xlIiwibG9nIiwic2VyaWFsaXplVXNlciIsInVzZXIiLCJkb25lIiwiaWQiLCJkZXNlcmlhbGl6ZVVzZXIiLCJmaW5kT25lIiwiX2lkIiwiZXJyIiwidXNlIiwidXNlcm5hbWVGaWVsZCIsInBhc3N3b3JkRmllbGQiLCJlbWFpbCIsInBhc3N3b3JkIiwiZ2VuZXJpY0Vycm9yTWVzc2FnZSIsInN0YXR1cyIsIm1lc3NhZ2UiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBOzs7O0FBQ0E7Ozs7OztBQUNBLElBQUlBLGdCQUFnQkMsUUFBUSxnQkFBUixFQUEwQkMsUUFBOUM7QUFDSTtBQUNBOzs7QUFJSkMsT0FBT0MsT0FBUCxHQUFpQixVQUFTQyxRQUFULEVBQW1CO0FBQ3BDQyxZQUFRQyxHQUFSLENBQVksbUJBQVo7QUFDSTtBQUNBRixhQUFTRyxhQUFULENBQXVCLFVBQVNDLElBQVQsRUFBZUMsSUFBZixFQUFxQjtBQUN4Q0EsYUFBSyxJQUFMLEVBQVdELEtBQUtFLEVBQWhCO0FBQ0gsS0FGRDs7QUFJQTtBQUNBO0FBQ0FOLGFBQVNPLGVBQVQsQ0FBeUIsVUFBU0QsRUFBVCxFQUFhRCxJQUFiLEVBQW1CO0FBQ3hDLHdCQUFLRyxPQUFMLENBQWE7QUFDVEMsaUJBQUtIO0FBREksU0FBYixFQUVHLHdCQUZILEVBRTZCLFVBQVNJLEdBQVQsRUFBY04sSUFBZCxFQUFvQjtBQUM3Q0MsaUJBQUtLLEdBQUwsRUFBVU4sSUFBVjtBQUNILFNBSkQ7QUFLSCxLQU5EOztBQVFBO0FBQ0FKLGFBQVNXLEdBQVQsQ0FBYSxJQUFJaEIsYUFBSixDQUFrQjtBQUN2QmlCLHVCQUFlLE9BRFE7QUFFdkJDLHVCQUFlO0FBRlEsS0FBbEIsRUFJVCxVQUFTQyxLQUFULEVBQWdCQyxRQUFoQixFQUEwQlYsSUFBMUIsRUFBZ0M7QUFDNUJKLGdCQUFRQyxHQUFSLENBQVksc0JBQXNCWSxLQUF0QixHQUE4QixhQUE5QixHQUE2Q0MsUUFBekQ7O0FBR0E7QUFDQSx3QkFBS1AsT0FBTCxDQUFhO0FBQ1RNLG1CQUFPQTtBQURFLFNBQWIsRUFFRyxVQUFTSixHQUFULEVBQWNOLElBQWQsRUFBb0I7QUFDbkJILG9CQUFRQyxHQUFSLENBQVksYUFBWixFQUEyQkUsSUFBM0I7O0FBRUE7OztBQUdBLGdCQUFJWSxzQkFBc0IsK0JBQTFCO0FBQ0EsZ0JBQUlOLEdBQUosRUFBUztBQUNMVCx3QkFBUUMsR0FBUixDQUFZLFVBQVNRLEdBQXJCO0FBQ0EsdUJBQU9MLEtBQUtLLEdBQUwsQ0FBUDtBQUNIO0FBQ0QsZ0JBQUksQ0FBQ04sSUFBTCxFQUFXO0FBQ1BILHdCQUFRQyxHQUFSLENBQVkscUJBQVo7QUFDQSx1QkFBT0csS0FBSyxJQUFMLEVBQVcsS0FBWCxFQUFrQjtBQUNyQlksNEJBQVEsQ0FBQyxDQURZO0FBRXJCO0FBQ0FDLDZCQUFTRjtBQUhZLGlCQUFsQixDQUFQO0FBS0g7QUFDRCxnQkFBSUQsYUFBYVgsS0FBS1csUUFBdEIsRUFBZ0M7QUFDNUJkLHdCQUFRQyxHQUFSLENBQVksZ0RBQVo7QUFDQSx1QkFBT0csS0FBSyxJQUFMLEVBQVcsS0FBWCxFQUFrQjtBQUNyQlksNEJBQVEsQ0FBQyxDQURZO0FBRXJCO0FBQ0FDLDZCQUFTRjtBQUhZLGlCQUFsQixDQUFQO0FBS0g7O0FBRURmLG9CQUFRQyxHQUFSLENBQVksWUFBWVksS0FBWixHQUFvQixlQUFoQztBQUNBLG1CQUFPVCxLQUFLLElBQUwsRUFBV0QsSUFBWCxDQUFQO0FBQ0gsU0FoQ0Q7QUFpQ0gsS0ExQ1EsQ0FBYjtBQTZDSCxDQS9ERCIsImZpbGUiOiJwYXNzcG9ydC5qcyIsInNvdXJjZVJvb3QiOiIvaG9tZS9tb25vbWV0aWMvY29uZmlnIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgVXNlciBmcm9tICcuLy4uL2N1c3RvbV9tb2R1bGVzL3VzZXJzL21vZGVscy91c2Vycy5qcyc7XG5pbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xubGV0IExvY2FsU3RyYXRlZ3kgPSByZXF1aXJlKCdwYXNzcG9ydC1sb2NhbCcpLlN0cmF0ZWd5O1xuICAgIC8vVXNlciA9IG1vbmdvb3NlLm1vZGVsKCdVc2VyJyk7XG4gICAgLy9jb25maWcgPSByZXF1aXJlKCcuL2NvbmZpZycpO1xuXG5cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihwYXNzcG9ydCkge1xuY29uc29sZS5sb2coXCJBdHRlbXB0ZWQgTG9naW46IFwiKTtcbiAgICAvLyBTZXJpYWxpemUgdGhlIHVzZXIgaWQgdG8gcHVzaCBpbnRvIHRoZSBzZXNzaW9uXG4gICAgcGFzc3BvcnQuc2VyaWFsaXplVXNlcihmdW5jdGlvbih1c2VyLCBkb25lKSB7XG4gICAgICAgIGRvbmUobnVsbCwgdXNlci5pZCk7XG4gICAgfSk7XG5cbiAgICAvLyBEZXNlcmlhbGl6ZSB0aGUgdXNlciBvYmplY3QgYmFzZWQgb24gYSBwcmUtc2VyaWFsaXplZCB0b2tlblxuICAgIC8vIHdoaWNoIGlzIHRoZSB1c2VyIGlkXG4gICAgcGFzc3BvcnQuZGVzZXJpYWxpemVVc2VyKGZ1bmN0aW9uKGlkLCBkb25lKSB7XG4gICAgICAgIFVzZXIuZmluZE9uZSh7XG4gICAgICAgICAgICBfaWQ6IGlkXG4gICAgICAgIH0sICctc2FsdCAtaGFzaGVkX3Bhc3N3b3JkJywgZnVuY3Rpb24oZXJyLCB1c2VyKSB7XG4gICAgICAgICAgICBkb25lKGVyciwgdXNlcik7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgLy8gVXNlIGxvY2FsIHN0cmF0ZWd5XG4gICAgcGFzc3BvcnQudXNlKG5ldyBMb2NhbFN0cmF0ZWd5KHtcbiAgICAgICAgICAgIHVzZXJuYW1lRmllbGQ6ICdlbWFpbCcsXG4gICAgICAgICAgICBwYXNzd29yZEZpZWxkOiAncGFzc3dvcmQnXG4gICAgICAgIH0sXG4gICAgICAgIGZ1bmN0aW9uKGVtYWlsLCBwYXNzd29yZCwgZG9uZSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJBdHRlbXB0ZWQgTG9naW46IFwiICsgZW1haWwgKyBcIiBwYXNzd29yZDogXCIrIHBhc3N3b3JkKTtcblxuXG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwiQXR0ZW1wdGVkIExvZ2luOiBcIiArIHBhc3N3b3JkKTtcbiAgICAgICAgICAgIFVzZXIuZmluZE9uZSh7XG4gICAgICAgICAgICAgICAgZW1haWw6IGVtYWlsXG4gICAgICAgICAgICB9LCBmdW5jdGlvbihlcnIsIHVzZXIpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlVzZXIgZGF0YTogXCIsIHVzZXIgKTtcblxuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJVc2VyIHZhbGlkIHBhc3N3b3JkTDogXCIgKyB1c2VyLnZhbGlkUGFzc3dvcmQocGFzc3dvcmQpKTtcblxuXG4gICAgICAgICAgICAgICAgdmFyIGdlbmVyaWNFcnJvck1lc3NhZ2UgPSBcIkVtYWlsICYgUGFzc3dvcmQgZG8gbm90IG1hdGNoXCI7XG4gICAgICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImVycjogXCIrIGVycik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkb25lKGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghdXNlcikge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIiF1c2VyOiBVbmtub3duIHVzZXJcIik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkb25lKG51bGwsIGZhbHNlLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IC0xLFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZ2VuZXJpYyBcIk5vIVwiXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBnZW5lcmljRXJyb3JNZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocGFzc3dvcmQgIT09IHVzZXIucGFzc3dvcmQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCIhdXNlci5hdXRoZW50aWNhdGUocGFzc3dvcmQpOiBJbnZhbGlkIFBhc3N3b3JkXCIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZG9uZShudWxsLCBmYWxzZSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAtMixcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGdlbmVyaWMgXCJObyFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZ2VuZXJpY0Vycm9yTWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImxvZ2luOiBcIiArIGVtYWlsICsgXCIgc3VjY2Vzc2Z1bGwhXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybiBkb25lKG51bGwsIHVzZXIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICApKTtcblxufTtcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "passport.js"
      ],
      "names": [
        "LocalStrategy",
        "require",
        "Strategy",
        "module",
        "exports",
        "passport",
        "console",
        "log",
        "serializeUser",
        "user",
        "done",
        "id",
        "deserializeUser",
        "findOne",
        "_id",
        "err",
        "use",
        "usernameField",
        "passwordField",
        "email",
        "password",
        "genericErrorMessage",
        "status",
        "message"
      ],
      "mappings": "AAAA;;AAEA;;;;AACA;;;;;;AACA,IAAIA,gBAAgBC,QAAQ,gBAAR,EAA0BC,QAA9C;AACI;AACA;;;AAIJC,OAAOC,OAAP,GAAiB,UAASC,QAAT,EAAmB;AACpCC,YAAQC,GAAR,CAAY,mBAAZ;AACI;AACAF,aAASG,aAAT,CAAuB,UAASC,IAAT,EAAeC,IAAf,EAAqB;AACxCA,aAAK,IAAL,EAAWD,KAAKE,EAAhB;AACH,KAFD;;AAIA;AACA;AACAN,aAASO,eAAT,CAAyB,UAASD,EAAT,EAAaD,IAAb,EAAmB;AACxC,wBAAKG,OAAL,CAAa;AACTC,iBAAKH;AADI,SAAb,EAEG,wBAFH,EAE6B,UAASI,GAAT,EAAcN,IAAd,EAAoB;AAC7CC,iBAAKK,GAAL,EAAUN,IAAV;AACH,SAJD;AAKH,KAND;;AAQA;AACAJ,aAASW,GAAT,CAAa,IAAIhB,aAAJ,CAAkB;AACvBiB,uBAAe,OADQ;AAEvBC,uBAAe;AAFQ,KAAlB,EAIT,UAASC,KAAT,EAAgBC,QAAhB,EAA0BV,IAA1B,EAAgC;AAC5BJ,gBAAQC,GAAR,CAAY,sBAAsBY,KAAtB,GAA8B,aAA9B,GAA6CC,QAAzD;;AAGA;AACA,wBAAKP,OAAL,CAAa;AACTM,mBAAOA;AADE,SAAb,EAEG,UAASJ,GAAT,EAAcN,IAAd,EAAoB;AACnBH,oBAAQC,GAAR,CAAY,aAAZ,EAA2BE,IAA3B;;AAEA;;;AAGA,gBAAIY,sBAAsB,+BAA1B;AACA,gBAAIN,GAAJ,EAAS;AACLT,wBAAQC,GAAR,CAAY,UAASQ,GAArB;AACA,uBAAOL,KAAKK,GAAL,CAAP;AACH;AACD,gBAAI,CAACN,IAAL,EAAW;AACPH,wBAAQC,GAAR,CAAY,qBAAZ;AACA,uBAAOG,KAAK,IAAL,EAAW,KAAX,EAAkB;AACrBY,4BAAQ,CAAC,CADY;AAErB;AACAC,6BAASF;AAHY,iBAAlB,CAAP;AAKH;AACD,gBAAID,aAAaX,KAAKW,QAAtB,EAAgC;AAC5Bd,wBAAQC,GAAR,CAAY,gDAAZ;AACA,uBAAOG,KAAK,IAAL,EAAW,KAAX,EAAkB;AACrBY,4BAAQ,CAAC,CADY;AAErB;AACAC,6BAASF;AAHY,iBAAlB,CAAP;AAKH;;AAEDf,oBAAQC,GAAR,CAAY,YAAYY,KAAZ,GAAoB,eAAhC;AACA,mBAAOT,KAAK,IAAL,EAAWD,IAAX,CAAP;AACH,SAhCD;AAiCH,KA1CQ,CAAb;AA6CH,CA/DD",
      "file": "passport.js",
      "sourceRoot": "/home/monometic/config",
      "sourcesContent": [
        "'use strict';\n\nimport User from './../custom_modules/users/models/users.js';\nimport mongoose from 'mongoose';\nlet LocalStrategy = require('passport-local').Strategy;\n    //User = mongoose.model('User');\n    //config = require('./config');\n\n\n\nmodule.exports = function(passport) {\nconsole.log(\"Attempted Login: \");\n    // Serialize the user id to push into the session\n    passport.serializeUser(function(user, done) {\n        done(null, user.id);\n    });\n\n    // Deserialize the user object based on a pre-serialized token\n    // which is the user id\n    passport.deserializeUser(function(id, done) {\n        User.findOne({\n            _id: id\n        }, '-salt -hashed_password', function(err, user) {\n            done(err, user);\n        });\n    });\n\n    // Use local strategy\n    passport.use(new LocalStrategy({\n            usernameField: 'email',\n            passwordField: 'password'\n        },\n        function(email, password, done) {\n            console.log(\"Attempted Login: \" + email + \" password: \"+ password);\n\n\n            //console.log(\"Attempted Login: \" + password);\n            User.findOne({\n                email: email\n            }, function(err, user) {\n                console.log(\"User data: \", user );\n\n                //console.log(\"User valid passwordL: \" + user.validPassword(password));\n\n\n                var genericErrorMessage = \"Email & Password do not match\";\n                if (err) {\n                    console.log(\"err: \"+ err);\n                    return done(err);\n                }\n                if (!user) {\n                    console.log(\"!user: Unknown user\");\n                    return done(null, false, {\n                        status: -1,\n                        // generic \"No!\"\n                        message: genericErrorMessage\n                    });\n                }\n                if (password !== user.password) {\n                    console.log(\"!user.authenticate(password): Invalid Password\");\n                    return done(null, false, {\n                        status: -2,\n                        // generic \"No!\"\n                        message: genericErrorMessage\n                    });\n                }\n\n                console.log(\"login: \" + email + \" successfull!\");\n                return done(null, user);\n            });\n        }\n    ));\n\n};\n"
      ]
    },
    "mtime": 1495712483689
  }
}